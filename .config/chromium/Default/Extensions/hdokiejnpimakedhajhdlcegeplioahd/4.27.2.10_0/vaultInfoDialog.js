var VaultInfoDialog=function(t,e,o,n){"use strict";var i=function(t){o.call(this,t,{maximizeButtonEnabled:!1,dynamicHeight:!0,hideHeader:!0,hideButtons:!0,confirmOnClose:!1,buttonsInsideContent:!0,isModal:!1}),i.prototype._options=null};function p(t,e,o,n,i){var p=0;switch(t){case"top":case"left":p=e?o:o+n;break;case"right":case"bottom":p=e?o+n-i:o-i}return p}function s(t,e,o,n,i){var p=0;switch(t){case"top":case"left":p=e;break;case"right":case"bottom":p=e+o-i;break;case"center":default:p=n-Math.round(i/2)}return p}return i.prototype=Object.create(o.prototype),i.prototype.createButton=function(e,o,n,i){if(e&&o){var p=o.style||"",s=o.sizeStyle||"col-6",r=t("<div></div>").addClass(s).append(t("<button></button>").text(o.text).data("index",n).addClass("btn-base radius-sm "+p).off().on("click",i));e.append(r)}},i.prototype.setup=function(e,n){if(o.prototype.setup.apply(this,arguments),n){var p=this;i.prototype.$element=this.$element,i.prototype._options=n||{},i.prototype.sendSegmentEvent("show");var s=p.$element.find(".buttons").empty();i.prototype.$element.removeClass().addClass("dialog responsive vault-info-dialog"),i.prototype._options.buttons=i.prototype._options.buttons?i.prototype._options.buttons:[];for(var r=0;r<i.prototype._options.buttons.length;r++){var a=function(e){e.preventDefault();var o=t(e.target).data("index");if(t.isNumeric(o)&&o>=0&&o<i.prototype._options.buttons.length){var n=i.prototype._options.buttons[o];void 0!==n.segment&&i.prototype.sendSegmentEvent(n.segment),n.action&&"function"==typeof n.action&&n.action(),n.closeOnClick&&p.close(!0)}};i.prototype.createButton(s,i.prototype._options.buttons[r],r,a)}i.prototype.setText(i.prototype._options.title,i.prototype.$element.find("#mainTitle"));var l="function"==typeof i.prototype._options.contentText1?i.prototype._options.contentText1():i.prototype._options.contentText1;i.prototype.setText(l,i.prototype.$element.find("#contentText1"));var d="function"==typeof i.prototype._options.contentText2?i.prototype._options.contentText2():i.prototype._options.contentText2;i.prototype.setText(d,i.prototype.$element.find("#contentText2"));var c=e.find("#btnClose");if(i.prototype._options.hideXCloseBtn)c.hide();else{var y=function(t){i.prototype.sendSegmentEvent("close"),p.close(!0)};c.off().on("click",y)}i.prototype._options.position={targetId:"#header",align:"left",orientation:"top",fillWidth:"#main"},i.prototype.setSize(i.prototype.$element,i.prototype._options.position),i.prototype.setPosition(i.prototype.$element,i.prototype._options.position),i.prototype.subscribeToWindowResize(),t("#vault").addClass("vault-info-overrides")}},i.prototype.setText=function(t,e){t&&e?e.text(t).show():e.hide()},i.prototype.setPosition=function(e,o){o.dialogPosition=null,o&&o.targetId&&(o.$targetEl=t(o.targetId),o.targetDimensions=i.prototype.getDimensions(o.$targetEl),o.dialogPosition=i.prototype.computeDialogPosition(e,o)),o.dialogPosition&&e.offset(o.dialogPosition)},i.prototype.setSize=function(e,o){if(o){o.$targetEl=t(o.targetId);var n=i.prototype.getDimensions(o.$targetEl),p;o.fillWidth?(p=t(o.fillWidth))&&p.length>0?e.width(p.width()):e.width(n.width):e.css("width",""),o.fillHeight?(p=t(o.fillHeight))&&p.length>0?e.height(p.height()):e.height(n.height):e.css("height","")}},i.prototype.subscribeToWindowResize=function(){i.prototype.positionAndResizeHandler=function(){i.prototype.setPosition(i.prototype.$element,i.prototype._options.position),i.prototype.setSize(i.prototype.$element,i.prototype._options.position)},window&&window.addEventListener("resize",i.prototype.positionAndResizeHandler),n.get(n.VAULT_LEFT_MENU_TOGGLE).subscribe(i.prototype.positionAndResizeHandler),n.get(n.EMPTY_VAULT_STATE_CHANGE).subscribe(i.prototype.positionAndResizeHandler)},i.prototype.unSubscribeToWindowResize=function(){"function"==typeof i.prototype.positionAndResizeHandler&&(n.get(n.VAULT_LEFT_MENU_TOGGLE).unsubscribe(i.prototype.positionAndResizeHandler),n.get(n.EMPTY_VAULT_STATE_CHANGE).unsubscribe(i.prototype.positionAndResizeHandler),window&&(window.removeEventListener&&window.removeEventListener("resize",i.prototype.positionAndResizeHandler),i.prototype.positionAndResizeHandler=null))},i.prototype.computeDialogPosition=function(t,e){if(t&&t.length>0&&e&&e.$targetEl.length>0){e.dialogDimensions=i.prototype.getDimensions(t);var o={top:0,left:0},n=e.align||"center";switch(e.orientation){case"top":case"bottom":o.left=s(n,e.targetDimensions.left,e.targetDimensions.width,e.targetDimensions.center.left,e.dialogDimensions.width),o.top=p(e.orientation,e.inside,e.targetDimensions.top,e.targetDimensions.height,e.dialogDimensions.height);break;case"left":case"right":o.top=s(n,e.targetDimensions.top,e.targetDimensions.height,e.targetDimensions.center.top,e.dialogDimensions.height),o.left=p(e.orientation,e.inside,e.targetDimensions.left,e.targetDimensions.width,e.dialogDimensions.width)}return e.offset&&(o.top+=e.offset.top,o.left+=e.offset.left),o}return null},i.prototype.getDimensions=function(e){if(e&&e.length>0){var o=t.extend({height:e.height(),width:e.width()},e.offset());return o.center={top:Math.round(o.top+o.height/2),left:Math.round(o.left+o.width/2)},o}return t.extend({height:0,width:0},{top:0,left:0,center:{top:0,left:0}})},i.prototype.close=function(e){e&&(t("#vault").removeClass("vault-info-overrides"),o.prototype.close.apply(this,arguments),i.prototype.unSubscribeToWindowResize())},i.prototype.getZIndex=function(){var t=i.prototype.$element.css("z-index");if("auto"===t)return 0;var e=parseInt(t);return e<8?8:e},i.prototype.sendSegmentEvent=function(t){void 0!==i.prototype._options.segmentEvents&&void 0!==i.prototype._options.segmentEvents[t]?bg.sendLpImprove(i.prototype._options.segmentEvents[t].name,i.prototype._options.segmentEvents[t].properties):console.log(t+" is not a defined segment event")},i}(jQuery,Strings,Dialog,Topics);
//# sourceMappingURL=sourcemaps/vaultInfoDialog.js.map
