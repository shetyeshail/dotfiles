LPContentScriptTools=function(){var t=(e=function(t){var e="";try{var n=document.createElement("canvas");n.height=t.clientHeight,n.width=t.clientWidth,n.getContext("2d").drawImage(t,0,0),e=n.toDataURL()}catch(t){}return e},function(t,n){var r=document.createElement("img");r.src=t,r.addEventListener("load",function(){var t=e(r);document.body.removeChild(r),n(t)}),r.addEventListener("error",function(){n(""),document.body.removeChild(r)}),document.body.appendChild(r)}),e,n=function(e){for(var n=[],r=document.getElementsByTagName("link"),i=0,o=r.length;i<o;++i){var l=r[i],u=l.getAttribute("rel");if(u&&u.indexOf("icon")>-1){var c=l.getAttribute("href");"svg"!==c.substring(c.length-3)&&n.push(c)}}n.push(document.location.origin+"/favicon.ico");var a=0,f=function(r){r?e(r):a>n.length-1?bg.LPPlatform.getFavicon({url:document.location.href,callback:e}):t(n[a++],f)};f()},r=function(t,e){for(var n=null,r=0,i=e.searches.length;r<i;++r){var o=e.searches[r];if(-1!==t.indexOf(o))if(e.exactMatch){if(t===o)return o;if(e.allowEmails){var l=t.split("@");if(2===l.length&&l[0]===o)return o}}else if(e.wordMatch){for(var u=t.split(/\s/),c=0;c<u.length;++c)if(u[c]===o)return o}else(null===n||o.length>n.length)&&(n=o)}return n},i=(o=function(t){if(t.parentElement)switch(t.parentElement.nodeName){case"SCRIPT":case"STYLE":return!1}return!0},function(t){var e=[];if(t.searches){t.searches=[].concat(t.searches);for(var n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT);n.nextNode();)if(o(n.currentNode)){var i=n.currentNode.nodeValue.trim(),l=r(i,t);if(l&&(e.push({parent:n.currentNode.parentElement,match:l,matchingText:i}),!t.searchAll))break}}return t.searchAll?e:e[0]}),o,l=function(t){var e=i(t),n=e?e.match:null;return t.callback&&t.callback(n),n},u=(c=!1,window.addEventListener("beforeunload",function(t){!1!==t.isTrusted&&(c=!0)}),function(){return c}),c,a=function(t,e){return window.getComputedStyle(t).getPropertyValue(e)},f=function(t){return"FORM"===t.nodeName},d=function(t){for(;t;){if(f(t))return t;t=t.parentElement}return null},s=function(t){if("function"==typeof document.elementFromPoint){var e=t.getBoundingClientRect();return document.elementFromPoint(e.left+parseInt(e.width/2),e.top+parseInt(e.height/2))===t}return!0},h=function(t){if(t.scrollWidth>t.clientWidth){var e=a(t,"overflow-x");return"auto"===e||"scroll"===e}},g=function(t){var e;if(t.scrollHeight>t.clientHeight)switch(a(t,"overflow-y")){case"auto":case"scroll":return!0;case"visible":return t===document.body||!t.parentElement}return!1},m=function(t){for(var e={top:0,left:0,width:window.innerWidth,height:window.innerHeight},n=t.parentElement;n;)n.scrollLeft>0&&(e.left-=n.scrollLeft),n.scrollTop>0&&(e.top-=n.scrollTop),h(n)&&(e.width+=n.scrollWidth-n.clientWidth),g(n)&&(e.height+=n.scrollHeight-n.clientHeight),n=n.parentElement;return e.right=e.left+e.width,e.bottom=e.top+e.height,e},v=function(t){var e;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=t.getBoundingClientRect(),r=m(t);return!(n.right<r.left||n.bottom<r.top||n.left>r.right||n.top>r.bottom)},p=(b=[function(t){if(t.getAttribute("id")){var e=document.querySelector('label[for="'+t.getAttribute("id")+'"]');if(e)return e.textContent}return null},function(t){for(var e=t;e;){if("LABEL"===e.tagName.toUpperCase())return e.textContent;e=e.parentElement}return null},function(t){return t.getAttribute("placeholder")},function(t){for(var e=t;e;){var n=e.textContent;if(n){var r=n.split("\n").map(function(t){return t.trim()}).filter(function(t){return t.length>0});if(1===r.length)return r[0];break}e=e.previousSibling||e.parentElement}}],function(t){for(var e=0;e<b.length;++e){var n=b[e](t);if(n)return n.trim()}return""}),b,w=function(t,e){for(var n={},r=0;r<e.length;++r){var i=t.getAttribute(e[r]);i&&(n[e[r]]=i)}return n},E=function(t,e,n){var r;return function(){var i=this,o=arguments,l=function(){r=null,n||t.apply(i,o)},u=n&&!r;clearTimeout(r),r=setTimeout(l,e),u&&t.apply(i,o)}},y=(C=function(t){return"string"==typeof t?t:"number"==typeof t?t+"px":""},function(t,e){for(var n in e)t.style.setProperty(n,C(e[n]),"important");return t}),C,T=(L=outerWidth/innerWidth,window.addEventListener("click",function(t){L=(t.screenX-screenLeft)/t.clientX},!0),function(){return L}),L;return{getFavicon:n,findText:l,isUnloading:u,findTextNodes:i,isForm:f,getForm:d,isClickable:s,isVisible:v,getLabel:p,getAttributes:w,debounce:E,getCSS:a,setCSS:y,getZoom:T}}();
//# sourceMappingURL=sourcemaps/contentScriptTools.js.map
