ExtensionLicenseExpiration=function(e){var n,r,i,t,s,a,d=function(n,r,i){var t=$(e.body),s,a,d,p,o=document.getElementById("notificationContainer"),g=LPTools.createElement("div"),m=LPTools.createElement("p"),S=LPTools.createElement("button"),x=LPTools.createElement("a");g.setAttribute("id","expirationTextContainer"),m.setAttribute("id","expirationText"),S.setAttribute("id","expirationUpgradeButton"),x.setAttribute("id","expirationLearnMore");var c=document.getElementById("panelContainer"),u=LPTools.createElement("h1"),T=LPTools.createElement("p"),L=LPTools.createElement("span"),_=LPTools.createElement("a"),E=LPTools.createElement("div","features"),v=LPTools.createElement("div","feature one"),P=LPTools.createElement("div","feature two"),f=LPTools.createElement("div","feature three"),b=LPTools.createElement("div","buttons"),h=LPTools.createElement("button","try-btn"),k=LPTools.createElement("button","no-thanks-btn"),C=function(){g.appendChild(m),g.appendChild(x),o.appendChild(g),o.appendChild(S)},y=function(){T.appendChild(L),T.appendChild(_),E.appendChild(v),E.appendChild(P),E.appendChild(f),b.appendChild(h),b.appendChild(k),c.appendChild(u),c.appendChild(T),c.appendChild(E),c.appendChild(b)};switch(n){case"Enterprise Admin":void 0!==i&&i<1?(y(),"trial"===r?(u.innerText=Strings.translateString("Your LastPass Enterprise trial expired."),L.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Enterprise features."),h.innerText=Strings.translateString("Upgrade to LastPass Enterprise"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Federated Login with AD Sync"),P.innerText=Strings.translateString("SAML Single Sign-On"),f.innerText=Strings.translateString("Advanced Reporting"),s="trial_expired_upgrade_enterprise",a="trial_expired_learn_more_enterprise",d="trial_expired_dismiss_enterprise",p="dismissedEnterpriseExpired"):(u.innerText=Strings.translateString("Your LastPass Enterprise license expired."),L.innerText=Strings.translateString("Renew now to avoid losing LastPass Enterprise features."),_.innerText=Strings.translateString("Learn More"),h.innerText=Strings.translateString("Renew LastPass Enterprise"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Federated Login with AD Sync"),P.innerText=Strings.translateString("SAML Single Sign-On"),f.innerText=Strings.translateString("Advanced Reporting"),s="license_expired_upgrade_enterprise",a="license_expired_learn_more_enterprise",d="license_expired_dismiss_enterprise",p="dismissedEnterpriseExpired"),t.addClass("expiredSet"),c.classList.add("enterpriseExpired"),h.addEventListener("click",function(){bg.sendLpImprove(s),bg.openenterprisepayment()}),_.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}),k.addEventListener("click",function(){bg.sendLpImprove(d),t.removeClass("expiredSet"),ExtensionDropdown.setSize(),l(p,1)})):(C(),m.innerText=Strings.translateString("Your LastPass Enterprise trial expires in "+i+" days."),S.innerText=Strings.translateString("Upgrade"),x.innerText=Strings.translateString("Learn More"),s="trial_expiring_upgrade_enterprise",a="trial_expiring_learn_more_enterprise",t.addClass("expirationSet"),S.addEventListener("click",function(){bg.sendLpImprove(s),bg.openenterprisepayment()}),x.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}));break;case"Teams Admin":void 0!==i&&i<1?(y(),"trial"===r?(u.innerText=Strings.translateString("Your LastPass Teams trial expired."),L.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Teams features."),h.innerText=Strings.translateString("Upgrade to LastPass Teams"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Admin Dashboard"),P.innerText=Strings.translateString("User Management"),f.innerText=Strings.translateString("Increased Security Policies"),s="trial_expired_upgrade_teams",a="trial_expired_learn_more_teams",d="trial_expired_dismiss_teams",p="dismissedTeamsExpired"):(u.innerText=Strings.translateString("Your LastPass Teams license expired."),L.innerText=Strings.translateString("Renew now to avoid losing LastPass Teams features."),h.innerText=Strings.translateString("Renew LastPass Teams"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Admin Dashboard"),P.innerText=Strings.translateString("User Management"),f.innerText=Strings.translateString("Increased Security Policies"),s="license_expired_upgrade_teams",a="license_expired_learn_more_teams",d="license_expired_dismiss_teams",p="dismissedTeamsExpired"),t.addClass("expiredSet"),c.classList.add("teamsExpired"),h.addEventListener("click",function(){bg.sendLpImprove(s),bg.openteamspayment()}),_.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}),k.addEventListener("click",function(){bg.sendLpImprove(d),t.removeClass("expiredSet"),ExtensionDropdown.setSize(),l(p,1)})):(C(),m.innerText=Strings.translateString("Your LastPass Teams trial expires in "+i+" days."),S.innerText=Strings.translateString("Upgrade"),x.innerText=Strings.translateString("Learn More"),s="trial_expiring_upgrade_teams",a="trial_expiring_learn_more_teams",t.addClass("expirationSet"),S.addEventListener("click",function(){bg.sendLpImprove(s),bg.openteamspayment()}),x.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}));break;case"Family Admin":void 0!==i&&i<1?(y(),"trial"===r?(u.innerText=Strings.translateString("Your LastPass Families trial expired."),L.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Families features."),h.innerText=Strings.translateString("Upgrade to LastPass Families"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Six Premium Licenses"),P.innerText=Strings.translateString("Family Manager Dashboard"),f.innerText=Strings.translateString("Unlimited Shared Folders"),s="trial_expired_upgrade_families",a="trial_expired_learn_more_families",d="trial_expired_dismiss_families",p="dismissedFamiliesExpired"):(u.innerText=Strings.translateString("Your LastPass Families license expired."),L.innerText=Strings.translateString("Renew now to avoid losing LastPass Families features."),h.innerText=Strings.translateString("Renew LastPass Families"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Six Premium Licenses"),P.innerText=Strings.translateString("Family Manager Dashboard"),f.innerText=Strings.translateString("Unlimited Shared Folders"),s="license_expired_upgrade_families",a="license_expired_learn_more_families",d="license_expired_dismiss_families",p="dismissedFamiliesExpired"),t.addClass("expiredSet"),c.classList.add("familiesExpired"),h.addEventListener("click",function(){bg.sendLpImprove(s),bg.openfamiliespayment()}),_.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}),k.addEventListener("click",function(){bg.sendLpImprove(d),t.removeClass("expiredSet"),ExtensionDropdown.setSize(),l(p,1)})):(C(),m.innerText=Strings.translateString("Your LastPass Families trial expires in "+i+" days."),S.innerText=Strings.translateString("Upgrade"),x.innerText=Strings.translateString("Learn More"),s="trial_expiring_upgrade_families",a="trial_expiring_learn_more_families",t.addClass("expirationSet"),S.addEventListener("click",function(){bg.sendLpImprove(s),bg.openfamiliespayment()}),x.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}));break;case"Premium Trial User":void 0!==i&&i<1?(y(),u.innerText=Strings.translateString("Your LastPass Premium trial expired."),L.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Premium features."),h.innerText=Strings.translateString("Upgrade to LastPass Premium"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Unlimited 1:1 Password Sharing"),P.innerText=Strings.translateString("Emergency Access"),f.innerText=Strings.translateString("Two-Factor Authentication"),s="trial_expired_upgrade_premium",a="trial_expired_learn_more_premium",d="trial_expired_dismiss_premium",p="dismissedPremiumTrialExpired",t.addClass("expiredSet"),c.classList.add("premiumExpired"),h.addEventListener("click",function(){bg.sendLpImprove(s),bg.openpremium()}),_.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}),k.addEventListener("click",function(){bg.sendLpImprove(d),t.removeClass("expiredSet"),ExtensionDropdown.setSize(),l(p,1)})):(C(),m.innerText=Strings.translateString("Your LastPass Premium trial expires in "+i+" days."),S.innerText=Strings.translateString("Upgrade"),x.innerText=Strings.translateString("Learn More"),s="trial_expiring_upgrade_premium",a="trial_expiring_learn_more_premium",t.addClass("expirationSet"),S.addEventListener("click",function(){bg.sendLpImprove(s),bg.openpremium()}),x.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}));break;case"Free User":void 0!==i&&i>=-30&&(y(),u.innerText=Strings.translateString("Your LastPass Premium trial expired."),L.innerText=Strings.translateString("Upgrade now to avoid losing LastPass Premium features."),h.innerText=Strings.translateString("Upgrade to LastPass Premium"),_.innerText=Strings.translateString("Learn More"),k.innerText=Strings.translateString("No Thanks"),v.innerText=Strings.translateString("Unlimited 1:1 Password Sharing"),P.innerText=Strings.translateString("Emergency Access"),f.innerText=Strings.translateString("Two-Factor Authentication"),s="trial_expired_upgrade_premium",a="trial_expired_learn_more_premium",d="trial_expired_dismiss_premium",p="dismissedPremiumTrialExpired",t.addClass("expiredSet"),c.classList.add("premiumExpired"),h.addEventListener("click",function(){bg.sendLpImprove(s),bg.openpremium()}),_.addEventListener("click",function(){bg.sendLpImprove(a),bg.openpricing()}),k.addEventListener("click",function(){bg.sendLpImprove(d),t.removeClass("expiredSet"),ExtensionDropdown.setSize(),l(p,1)}))}},l=function(e,n){var r=JSON.parse(localStorage.getItem("expiredData"));null===r?((r={})[e]=n,localStorage.setItem("expiredData",JSON.stringify(r))):(r[e]=n,localStorage.setItem("expiredData",JSON.stringify(r)))},p,o,g,m,S,x,c,u;return{initialize:function(){var e;(n=bg.get("LPContentScriptFeatures").show_trial_expiration,r=LPProxy.getAccountClass(),i=bg.get("g_premium_trial_exp_days"),t=bg.get("g_company_trial_exp_days"),(s=bg.get("g_company_license_exp_days"))>360)&&(null!==JSON.parse(localStorage.getItem("expiredData"))&&localStorage.removeItem("expiredData"))},showExpiration:d,getStoredExpPrefs:function(e,n,r,i){var t=JSON.parse(localStorage.getItem("expiredData"));return null!==t&&(1===t[e]||1===t[n]||1===t[r]||1===t[i])},premiumTrialExpiringStatusChecker:function(){return n&&null!==i&&i<=7&&i>=1&&"Premium Trial User"===r},premiumTrialExpiredStatusChecker:function(){return n&&null!==i&&i<1&&i>-31&&("Premium Trial User"===r||"Free User"===r)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedPremiumTrialExpired")},companyTrialExpiringStatusChecker:function(){return n&&null!==t&&t<=7&&t>=1},companyTrialExpiredStatusChecker:function(){return n&&null!==t&&t<1&&("Enterprise Admin"===r||"Teams Admin"===r||"Family Admin"===r)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},companyLicenseExpiredStatusChecker:function(){return n&&null!==s&&s<1&&("Enterprise Admin"===r||"Teams Admin"===r||"Family Admin"===r)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},expiredCompanyStatusCheckerForPanelSize:function(){return n&&(null!==s&&s<1||null!==t&&t<1)&&("Enterprise Admin"===r||"Teams Admin"===r||"Family Admin"===r)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedEnterpriseExpired","dismissedTeamsExpired","dismissedFamiliesExpired")},expiredPremiumStatusCheckerForPanelSize:function(){return n&&null!==i&&i<1&&("Premium Trial User"===r||"Free User"===r)&&!ExtensionLicenseExpiration.getStoredExpPrefs("dismissedPremiumTrialExpired")}}}(document);
//# sourceMappingURL=sourcemaps/extensionLicenseExpiration.js.map
