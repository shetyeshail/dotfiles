/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.16 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

/*! http://mths.be/punycode v1.2.4 by @mathias */

/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */

/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

/*!
	* @license
	* jQuery JavaScript Library v2.1.0

	* Microsoft grants you the right to use these script files for the sole purpose of either: (i) interacting through your browser with the Microsoft website, subject to the website’s terms of use; or (ii) using the files as included with a Microsoft product subject to that product’s license terms. Microsoft reserves all other rights to the files not expressly granted by Microsoft, whether by implication, estoppel or otherwise. The notices and licenses below are for informational purposes only.

	* jQuery JavaScript Library v1.7.2
	* http://jquery.com/
	* Copyright (c) 2011, John Resig.

	* Includes Sizzle.js
	* http://sizzlejs.com/
	* Copyright 2011, The Dojo Foundation
	* Licensed under the MIT License

	* Provided for Informational Purposes Only
	* MIT License
	* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

	* The copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

	* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

	*/

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*!

 handlebars v2.0.0-alpha.2

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

// moment.js
// version : 1.7.2
// author : Tim Wood
// license : MIT
// momentjs.com

/**
 * Copyright 2012 Craig Campbell
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Mousetrap is a simple keyboard shortcut library for Javascript with
 * no external dependencies
 *
 * @version 1.1.2
 * @url craig.is/killing/mice
 */

/*!
  * @license
  * Visibly v0.6

  * Microsoft grants you the right to use these script files for the sole purpose of either: (i) interacting * through your browser with the Microsoft website, subject to the website’s terms of use; or (ii) using the files as included with a Microsoft product subject to that product’s license terms. Microsoft reserves all other rights to the files not expressly granted by Microsoft, whether by implication, estoppel or otherwise. The notices and licenses below are for informational purposes only.

  * visibly - v0.6 Aug 2011 - Page Visibility API Polyfill
  * http://github.com/addyosmani
  * Copyright (c) 2011 Addy Osmani

  * Provided for Informational Purposes Only
  * MIT License
  * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

  * The copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  */

var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){(n||!hasProp(e,i))&&(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1==t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,c,l,f,d,h,p,g,v=n&&n.split("/"),m=S.map,y=m&&m["*"];if(e&&(e=e.split("/"),l=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&v&&(g=v.slice(0,v.length-1),e=g.concat(e)),t(e),e=e.join("/")),r&&m&&(v||y)){a=e.split("/");e:for(s=a.length;s>0;s-=1){if(c=a.slice(0,s).join("/"),v)for(u=v.length;u>0;u-=1)if(o=getOwn(m,v.slice(0,u).join("/")),o&&(o=getOwn(o,c))){f=o,d=s;break e}!h&&y&&getOwn(y,c)&&(h=getOwn(y,c),p=s)}!f&&h&&(f=h,d=p),f&&(a.splice(0,d,f),e=a.join("/"))}return i=getOwn(S.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,c,l=null,f=t?t.name:null,d=e,h=!0,p="";return e||(h=!1,e="_@r"+(A+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,i),s=getOwn(D,l)),e&&(l?p=s&&s.normalize?s.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(p=n(e,f,i),c=o(p),l=c[0],p=c[1],r=!0,a=x.nameToUrl(p))),u=!l||s||r?"":"_unnormalized"+(O+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!u,url:a,originalName:d,isDefine:h,id:(l?l+"!"+p:p)+u}}function s(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new x.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(D,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(D[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(C,[C.length,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete k[e],delete E[e]}function d(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(k,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,D[o]),e.check()):d(a,t,n))}),n[r]=!0)}function h(){var e,t,n=1e3*S.waitSeconds,o=n&&x.startTime+n<(new Date).getTime(),a=[],s=[],u=!1,l=!0;if(!y){if(y=!0,eachProp(E,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(c)?(t=!0,u=!0):(a.push(c),r(c));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return l=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=x.contextName,c(e);l&&each(s,function(e){d(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,h()},50)),y=!1}}function p(e){hasProp(D,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function v(e){var t=e.currentTarget||e.srcElement;return g(t,x.onScriptLoad,"load","onreadystatechange"),g(t,x.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(l();C.length;){if(e=C.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}}var y,b,x,w,_,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},E={},T={},C=[],D={},M={},B={},A=1,O=1;return w={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?D[e.map.id]=e.exports:e.exports=D[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;return this.shim?void x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=x.execCb(n,o,r,i)}catch(a){e=a}else i=x.execCb(n,o,r,i);if("function"==typeof i&&!i.name&&i.__super__&&(i.displayName=n,i.toString=function(){return n}),this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(D[n]=i,req.onResourceLoad&&req.onResourceLoad(x,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,l,d=getOwn(B,this.map.id),h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,g=x.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return n(e,p,!0)})||""),o=a(e.prefix+"!"+h,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(k,o.id),void(l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()))):d?(this.map.url=x.nameToUrl(d),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),l=useInteractive;r&&(n=r),l&&(useInteractive=!1),s(u),hasProp(S.config,t)&&(S.config[o]=S.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),x.completeLoad(o),g([o],i)}),void r.load(e.name,g,i,S))})),x.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(w,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=k[n],hasProp(w,n)||!r||r.enabled||x.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:S,contextName:e,registry:k,defined:D,urlFetched:M,defQueue:C,Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(B[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=x.makeShimExports(e)),t[n]=e}),S.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var l,f,d;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(w,n)?w[n](k[t.id]):req.get?req.get(x,n,t,o):(f=a(n,t,!1,!0),l=f.id,hasProp(D,l)?D[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(m(),x.nextTick(function(){m(),d=s(a(null,t)),d.skipMap=i.skipMap,d.init(n,r,u,{enabled:!0}),h()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),x.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(D,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(D,e)||hasProp(k,e)}}),t||(o.undef=function(e){l();var n=a(e,t,!0),i=getOwn(k,e);r(e),delete D[e],delete M[n.url],delete T[e],eachReverse(C,function(t,n){t[0]===e&&C.splice(n,1)}),i&&(i.events.defined&&(T[e]=i.events),f(e))}),o},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(S.shim,e)||{},a=o.exports;for(l();C.length;){if(n=C.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(r=getOwn(k,e),!t&&!hasProp(D,e)&&r&&!r.inited){if(!(!S.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}h()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,c,l=getOwn(S.pkgs,e);if(l&&(e=l),c=getOwn(B,e))return x.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=S.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}s=i.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+s}return S.urlArgs?s+((-1===s.indexOf("?")?"?":"&")+S.urlArgs):s},load:function(e,t){req.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=v(e);x.completeLoad(t.id)}},onScriptError:function(e){var t=v(e);return i(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("vendor/require",function(){}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dist/core",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.core=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){var n=e("./WBEventEmitter").extend({mixins:[e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBEventEmitter":5,"./mixins/ObservableHashMixin":30,"./mixins/WBDestroyableMixin":32,"./mixins/WBUtilsMixin":35}],2:[function(e,t){var n=e("./WBSingleton").extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBBindableMixin"),e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBSingleton":8,"./mixins/ObservableHashMixin":30,"./mixins/WBBindableMixin":31,"./mixins/WBDestroyableMixin":32,"./mixins/WBEventsMixin":33,"./mixins/WBUtilsMixin":35}],3:[function(e,t){function n(e,t){var r=this;e=e||{};var o=e.mixins||[];delete e.mixins;for(var a,s=i(r,e,t);o.length;)a=o.shift(),"function"==typeof a.applyToClass&&a.applyToClass(s);return s.extend=r.extend||n,s}function r(e){var t=this;t.uid=t.uid||s(),t.options=e||t.options,t.augmentProperties(),t.initialize.apply(t,arguments),t.initMixins.apply(t,arguments)}var i=e("./lib/inherits"),o=e("./lib/extend"),a=e("./lib/clone"),s=e("./lib/createUID"),u=e("./lib/fromSuper"),c={initialize:function(){var e=this;return e},initMixins:function(){for(var e,t=this,n=u.concat(t,"initializers");n.length;)e=n.shift(),"function"==typeof e&&e.apply(t,arguments)},augmentProperties:function(){function e(e,n){var r=typeof n;t[e]="function"===r?n.call(t):"object"===r?a(n,!0):n}var t=this,n=u.merge(t,"properties");for(var r in n)e(r,n[r])}};o(r.prototype,c),r.extend=n,t.exports=r},{"./lib/clone":11,"./lib/createUID":12,"./lib/extend":17,"./lib/fromSuper":19,"./lib/inherits":22}],4:[function(e,t){function n(e,t,n){return function(){var r=this;if(!(r instanceof l))throw new Error(n+" invoked with wrong context");if(r._state!==s.pending)return r;r._args=a(arguments);var i=t?r._args.shift():void 0;return r._state=e,r.trigger(i),r}}var r=e("./WBClass"),i=e("./WBPromise"),o=e("./lib/assert"),a=e("./lib/toArray"),s={pending:0,resolved:2,rejected:4},u={0:["pending"],2:["resolved","resolve"],4:["rejected","reject"]},c={properties:{_state:s.pending,_args:[],handlers:[]},initialize:function(e){var t=this;t._context=e},state:function(){var e=this;return u[e._state][0]},trigger:function(e){var t=this;if(t._state!==s.pending)for(var n,r=t.handlers;r.length;)n=r.shift(),t.invoke(n,e||t._context)},invoke:function(e,t){var n=this,r=n._state,i=e.context||t||n,o=e.args;n._args.forEach(function(e){o.push(e)});var a=e.type,u="then"===a||"done"===a&&r===s.resolved||"fail"===a&&r===s.rejected;u&&e.fn.apply(i,o)},promise:function(){var e=this;return e._promise=e._promise||new i(this),e._promise}};["then","done","fail"].forEach(function(e){c[e]=function(){var t=this,n=a(arguments),r=n.shift(),i=n.shift();return o["function"](r,e+" accepts only functions"),t.handlers.push({type:e,context:i,fn:r,args:n}),t.trigger(),t}}),c.always=c.then,[s.resolved,s.rejected].forEach(function(e){var t=u[e][1];c[t]=n(e,!1,t),c[t+"With"]=n(e,!0,t)});var l=r.extend(c);t.exports=l},{"./WBClass":3,"./WBPromise":7,"./lib/assert":10,"./lib/toArray":26}],5:[function(e,t){var n=e("./WBClass").extend({mixins:[e("./mixins/WBBindableMixin"),e("./mixins/WBEventsMixin")]});t.exports=n},{"./WBClass":3,"./mixins/WBBindableMixin":31,"./mixins/WBEventsMixin":33}],6:[function(e,t){var n=e("./lib/extend"),r=e("./lib/clone"),i=e("./lib/assert"),o=e("./WBSingleton"),a=o.extend({applyTo:function(e){var t,i=r(this.Behavior,!0);"function"==typeof i.initialize&&(t=i.initialize,delete i.initialize);var o=i.properties;return delete i.properties,n(e,i),t&&t.apply(e),o&&n(e,o),e},applyToClass:function(e){i["class"](e,"applyToClass expects a class");var t=e.prototype,o=r(this.Behavior,!0),a=o.initialize;"function"==typeof a&&(!t.hasOwnProperty("initializers")&&(t.initializers=[]),t.initializers.push(a),delete o.initialize);var s=o.properties;return delete o.properties,n(t,o),!t.hasOwnProperty("properties")&&(t.properties={}),s&&n(t.properties,s),e}});a.extend=function(e,t){e||(e={}),t||(t={});var i=r(this.Behavior,!0);t.Behavior=n(i,e);var s=o.extend.call(this,t);return s.extend=a.extend,s},t.exports=a},{"./WBSingleton":8,"./lib/assert":10,"./lib/clone":11,"./lib/extend":17}],7:[function(e,t){function n(e){return function(){var t=this.deferred;return t[e].apply(t,arguments),this}}var r=e("./WBClass"),i={constructor:function(e){this.deferred=e},promise:function(){return this},state:function(){return this.deferred.state()}};["done","fail","then"].forEach(function(e){i[e]=n(e)}),i.always=i.then,t.exports=r.extend(i)},{"./WBClass":3}],8:[function(e,t){function n(e,t){for(var n;e.length;)n=e.shift(),"function"==typeof n.applyTo&&n.applyTo(t)}function r(e){e=e||{};var t=this||s;a.prototype=t;var u=new a,c=e.mixins||[];return e.mixins=void 0,n(c,u),i(u,e),u.extend=r,u.uid=o(),u}var i=e("./lib/extend"),o=e("./lib/createUID"),a=function(){};a.prototype={extend:r};var s=new a;t.exports=s},{"./lib/createUID":12,"./lib/extend":17}],9:[function(e,t){var n=e("./WBClass"),r=e("./mixins/WBDestroyableMixin"),i=r.Behavior.destroy,o=n.extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBStateMixin"),e("./mixins/WBBindableMixin"),r],initialize:function(e){var t=this;e&&(t.attributes=e)},sync:function(e,t,n){n&&"function"==typeof n.success&&n.success()},fetch:function(e){var t=this,n=e.success,r=this;return e.success=function(t){return r.set(t,e)?(n&&n(r,t,e),void r.trigger("sync",r,t,e)):!1},t.sync("read",t,e)},save:function(e,t,n){var r=this;return r.destroying||(r.set(e,t,n),"object"==typeof e&&(n=t),r.sync("update",r,n)),r},destroy:function(e){var t=this;t.destroying||(t.destroying=!0,i.call(t,e),t.attributes={},t.sync("delete",t,e))}});t.exports=o},{"./WBClass":3,"./mixins/WBBindableMixin":31,"./mixins/WBDestroyableMixin":32,"./mixins/WBEventsMixin":33,"./mixins/WBStateMixin":34}],10:[function(e,t){function n(e,t){if(!e)throw new Error(t||"")}function r(e){n[e]=function(t,r){n(typeof t===e,r)}}var i=Array.isArray;n.empty=function(e,t){var r=i(e)?e:Object.keys(e);n(0===r.length,t)},n.array=function(e,t){n(i(e),t)},n["class"]=function(e,t){var r=e.prototype;n(r&&r.constructor===e,t)},n.number=function(e,t){n("number"==typeof e&&!isNaN(e),t)};for(var o=["undefined","boolean","string","function","object"];o.length;)r(o.shift());t.exports=n},{}],11:[function(e,t){function n(e,t){if(e=e.slice(),t){for(var n,r=[];e.length;)n=e.shift(),n=n instanceof Object?o(n,t):n,r.push(n);e=r}return e}function r(e){return new Date(e.getTime())}function i(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];n[i]=a instanceof Date?r(a):"object"==typeof a&&null!==a&&t?o(a,t):a}return n}function o(e,t){return a(e)?n(e,t):i(e,t)}var a=Array.isArray;t.exports=o},{}],12:[function(e,t){function n(){return 4294967295*f()|0}function r(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function i(){var e=n();return c[e&u]+c[e>>8&u]+"-"+c[e>>16&15|64]+c[e>>24&u]}function o(){var e=n();return c[63&e|128]+c[e>>8&u]+"-"+c[e>>16&u]+c[e>>24&u]}function a(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function s(e){var t=[r(),i(),o(),a()].join("-");return(e?e:"").toString()+t}for(var u=255,c=[],l=0;256>l;l++)c[l]=(16>l?"0":"")+l.toString(16);var f=Math.random;t.exports=s},{}],13:[function(e,t){function n(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}t.exports=n},{}],14:[function(e,t){function n(e){var t=r(arguments);return t[0]=1,t.unshift(e),i.apply(null,t)}var r=e("./toArray"),i=e("./delay");t.exports=n},{"./delay":15,"./toArray":26}],15:[function(e,t){function n(e,t,n){var i=r(arguments,3);return setTimeout(function(){var t=n&&n.destroyed;!t&&e.apply(n,i)},t)}var r=e("./toArray");t.exports=n},{"./toArray":26}],16:[function(e,t){var n=e("./assert"),r=e("./toArray"),i=e("./clone"),o=/\s+/,a={trigger:"Cannot trigger event(s) without event name(s)",events:"Cannot bind/unbind without valid event name(s)",callback:"Cannot bind/unbind to an event without valid callback function"},s={properties:{_events:{},_cache:{}},on:function(e,t,r){var i=this;return n.string(e,a.events),n["function"](t,a.callback),i.iterate(e,function(e){i.bind(e,t,r);var n=i._cache;n[e]&&t.apply(r||i,n[e])}),i},off:function(e,t,r){var i=this;if(e&&n.string(e,a.events),!e&&!t&&!r)return i._events={},i;var o=e||Object.keys(i._events);return i.iterate(o,function(e){i.unbind(e,t,r)}),i},once:function(e,t,n){var i=this,o=r(arguments);return o[1]=function(){i.off.apply(i,o),t.apply(n||i,arguments)},i.on.apply(i,o),i},publish:function(e){var t=this,i=r(arguments);return n.string(e,a.events),t.iterate(e,function(e){var n=t._cache;n[e]||(n[e]=i.slice(1),i[0]=e,t.trigger.apply(t,i))}),t},unpublish:function(e){var t=this;return n.string(e,a.events),t.iterate(e,function(e){t._cache[e]=void 0}),t},unpublishAll:function(){var e=this;return e._cache={},e},trigger:function(e){var t=this;n.string(e,a.trigger);var i=r(arguments,1);return t.iterate(e,function(e){t.triggerEvent(e,i)}),t},triggerEvent:function(e,t){for(var n,r=this,i=r._events||{},o=[],a=e.split(":");a.length;)o.push(a.shift()),n=o.join(":"),n in i&&r.triggerSection(n,a,t)},triggerSection:function(e,t,n){var r=this,o=r._events||{},a=o[e]||[];a.forEach(function(e){var o;t.length&&(o=i(n),o.unshift(t)),e.callback.apply(e.context||r,o||n)})},iterate:function(e,t){var r=this,i=e;for("string"==typeof i?i=i.split(o):n.array(i);i.length;)t.call(r,i.shift())},bind:function(e,t,n){var r=this,i=r._events||{},o=i[e]||(i[e]=[]);return o.push({callback:t,context:n}),r},unbind:function(e,t,n){for(var r,i=this,o=i._events,a=o[e]||[],s=[],u=-1,c=a.length;++u<c;)r=a[u],(t&&t!==r.callback||n&&n!==r.context)&&s.push(r);return o[e]=s,i}};t.exports=s},{"./assert":10,"./clone":11,"./toArray":26}],17:[function(e,t){function n(){var e=r(arguments);o(e.length>0,"extend expect one or more objects");for(var t=e.shift();e.length;)i(t,e.shift());return t}var r=e("./toArray"),i=e("./merge"),o=e("./assert");t.exports=n},{"./assert":10,"./merge":24,"./toArray":26}],18:[function(e,t){function n(e,t,n){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===!1)return}function r(e,t,n){for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r)===!1)return}function i(e,t,i){var o=Array.isArray(e)?n:r;o(e,t,i)}t.exports=i},{}],19:[function(e,t){function n(e,t){var r=e.constructor,a=r.prototype,s={};e.hasOwnProperty(t)?s=e[t]:a.hasOwnProperty(t)&&(s=a[t]);var u=r&&r.__super__;return u&&(s=i(n(u,t),s)),o({},s)}function r(e,t){var n=e.constructor,i=n.prototype,o=[];e.hasOwnProperty(t)?o=e[t]:i.hasOwnProperty(t)&&(o=i[t]);var a=n&&n.__super__;return a&&(o=[].concat(r(a,t),o)),[].concat(o)}var i=e("./merge"),o=e("./extend");t.exports={merge:n,concat:r}},{"./extend":17,"./merge":24}],20:[function(e,t){function n(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);return t}t.exports=n},{}],21:[function(e,t){t.exports={assert:e("./assert"),clone:e("./clone"),createUID:e("./createUID"),debounce:e("./debounce"),defer:e("./defer"),delay:e("./delay"),events:e("./events"),extend:e("./extend"),forEach:e("./forEach"),fromSuper:e("./fromSuper"),functions:e("./functions"),inherits:e("./inherits"),isEqual:e("./isEqual"),merge:e("./merge"),size:e("./size"),toArray:e("./toArray"),when:e("./when"),where:e("./where")}},{"./assert":10,"./clone":11,"./createUID":12,"./debounce":13,"./defer":14,"./delay":15,"./events":16,"./extend":17,"./forEach":18,"./fromSuper":19,"./functions":20,"./inherits":22,"./isEqual":23,"./merge":24,"./size":25,"./toArray":26,"./when":27,"./where":28}],22:[function(e,t){function n(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r(i,e),i.prototype=Object.create(e.prototype),r(i.prototype,t),i.prototype.constructor=i,r(i,n),i.__super__=e.prototype,i}var r=e("./extend");t.exports=n},{"./extend":17}],23:[function(e,t){function n(e,t){return e===t}t.exports=n},{}],24:[function(e,t){function n(e){for(var t,n=r(arguments,1);n.length;){t=n.shift();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}var r=e("./toArray");t.exports=n},{"./toArray":26}],25:[function(e,t){function n(e){return!Array.isArray(e)&&(e=Object.keys(e)),e.length}t.exports=n},{}],26:[function(e,t){function n(e){return e=e>0?e:0,new Array(e)}function r(e,t){for(var r=t||0,i=e.length,o=n(i-r),a=r;i>a;a++)o[a-r]=e[a];return o}t.exports=r},{}],27:[function(e,t){function n(){function e(){o.rejectWith(this)}function t(){if("rejected"!==o.state()){var e=s-a.length-1;if(u[e]=i(arguments),a.length){var n=a.shift();n.done(t)}else u.unshift(this),o.resolveWith.apply(o,u)}}var n=this,o=new r(n),a=i(arguments);1===a.length&&Array.isArray(a[0])&&(a=a[0]);var s=a.length,u=new Array(s);if(a.length){a.forEach(function(t){t.fail(e)});var c=a.shift();c.done(t)}else o.resolve();return o.promise()}var r=e("../WBDeferred"),i=e("./toArray");t.exports=n},{"../WBDeferred":4,"./toArray":26}],28:[function(e,t){function n(e,t){var n=[];return r(e,function(e){for(var r in t){if(e[r]!==t[r])return;n.push(e)}}),n}var r=e("./forEach");t.exports=n},{"./forEach":18}],29:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=n.extend({initialize:function(){var e=this;e.controllers=[],e.implemented=[],e["implements"]=r.concat(e,"implements"),e.createControllerInstances(),e.bindOnceTo(e,"destroy","destroyControllers")},createControllerInstances:function(){var e=this,t=e["implements"];"function"==typeof t&&(t=t.call(e));var n,r,i;for(i=t.length;i--;)n=t[i],e.implemented.indexOf(n.toString())<0&&(r=new n(e),e.controllers.push(r),r.parent=e,e.trackImplementedSuperConstructors(n));return e.implemented},trackImplementedSuperConstructors:function(e){var t=this,n=e.__super__,r=n&&n.constructor;r&&(t.implemented.push(r.toString()),t.trackImplementedSuperConstructors(r))},destroyControllers:function(){for(var e,t=this,n=t.controllers;n.length;)e=n.shift(),e.destroyed||e.destroy()}});t.exports=i},{"../WBMixin":6,"../lib/fromSuper":19}],30:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=e("../lib/clone"),o=n.extend({initialize:function(){var e=this,t=r.merge(e,"observes");for(var n in t)e.bindToTarget(e.resolveTarget(n),t[n])
},bindToTarget:function(e,t){var n=this;for(var r in t)n.bindHandlers(e,r,t[r])},bindHandlers:function(e,t,n){var r=this;for(n="string"==typeof n?[n]:i(n);n.length;)r.bindTo(e,t,n.shift())},resolveTarget:function(e){var t=this;if("self"===e)return t;var n=t[e];if(!n&&"string"==typeof e&&e.indexOf(".")>-1)for(e=e.split("."),n=t;e.length&&n;)n=n[e.shift()];return n}});t.exports=o},{"../WBMixin":6,"../lib/clone":11,"../lib/fromSuper":19}],31:[function(e,t){var n=e("../WBMixin"),r=e("../lib/createUID"),i=n.extend({properties:{_bindings:{},_namedEvents:{}},callbackFactory:function(e,t){var n,r=this;return n="string"==typeof e?r.stringCallbackFactory(e,t):r.functionCallbackFactory(e,t)},stringCallbackFactory:function(e,t){return function(){t[e].apply(t,arguments)}},functionCallbackFactory:function(e,t){return function(){e.apply(t,arguments)}},bindTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments);var a=i||o,s=o.isAlreadyBound(e,t,n,a);if(s)return s;var u,c;o.isTargetJquery(e)?(u=o.callbackFactory(n,a),c=[t,u]):(u="string"==typeof n?a[n]:n,c=[t,u,a]),e.on.apply(e,c);var l={uid:r(),target:e,event:t,originalCallback:n,callback:u,context:a};return o._bindings[l.uid]=l,o.addToNamedBindings(t,l),l},isTargetJquery:function(e){var t=e.constructor;return t&&t.fn&&t.fn.on===e.on},bindOnceTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments),i=i||o;var a=o.isAlreadyBound(e,t,n,i);if(a)return a;var s=function(){("string"==typeof n?i[n]:n).apply(i,arguments),o.unbindFrom(u)},u={uid:r(),target:e,event:t,originalCallback:n,callback:s,context:i};return e.on(t,s,i),o._bindings[u.uid]=u,o.addToNamedBindings(t,u),u},unbindFrom:function(e){var t=this,n=e&&e.uid;if(!e||"string"!=typeof n)throw new Error("Cannot unbind from undefined or invalid binding");var r=e.event,i=e.context,o=e.callback,a=e.target;if(r&&o&&a&&i){a.off(r,o,i);for(var s in e)"uid"!==s&&delete e[s];delete t._bindings[n];var u=t._namedEvents,c=u[r];if(c){for(var l=c&&c.slice(0),f=c.length-1;f>=0;f--)c[f].uid===n&&l.splice(f,1);u[r]=l}}},unbindFromTarget:function(e){var t=this;if(!e||"function"!=typeof e.on)throw new Error("Cannot unbind from undefined or invalid binding target");var n;for(var r in t._bindings)n=t._bindings[r],n.target===e&&t.unbindFrom(n)},unbindAll:function(){var e,t=this;for(var n in t._bindings)e=t._bindings[n],t.unbindFrom(e)},checkBindingArgs:function(e,t,n,r){if(r=r||this,!e||"function"!=typeof e.on)throw new Error("Cannot bind to undefined target or target without #on method");if(!t||"string"!=typeof t)throw new Error("Cannot bind to target event without event name");if(!n||"function"!=typeof n&&"string"!=typeof n)throw new Error("Cannot bind to target event without a function or method name as callback");if("string"==typeof n&&!r[n])throw new Error("Cannot bind to target using a method name that does not exist for the context")},isAlreadyBound:function(e,t,n,r){var i=this,o=i._namedEvents[t];if(o)for(var a=0,s=o.length;s>a;a++){var u=o[a]||{},c=u.target;if(!c)return!1;var l=e.uid?e.uid===c.uid:!1;if(u.originalCallback===n&&u.context===r&&l)return u}return!1},addToNamedBindings:function(e,t){var n=this;n._namedEvents[e]||(n._namedEvents[e]=[]),n._namedEvents[e].push(t)}});t.exports=i},{"../WBMixin":6,"../lib/createUID":12}],32:[function(e,t){function n(){}function r(e){var t=this;"string"==typeof e&&(e=t[e]),"function"==typeof e&&e.call(t)}var i=e("../lib/forEach"),o=e("../WBMixin"),a=["unbind","unbindAll","onDestroy"],s=o.extend({destroy:function(){var e=this;e.trigger("destroy"),i(a,r,e),e.destroyObject(e),e.destroyed=!0},destroyObject:function(e){var t=this;for(var n in e)t.destroyKey(n,e)},destroyKey:function(e,t){t.hasOwnProperty(e)&&"uid"!==e&&"cid"!==e&&(t[e]="function"==typeof t[e]?n:void 0)}});t.exports=s},{"../WBMixin":6,"../lib/forEach":18}],33:[function(e,t){var n=e("../WBMixin"),r=e("../lib/events"),i=n.extend(r);t.exports=i},{"../WBMixin":6,"../lib/events":16}],34:[function(e,t){var n=e("../lib/clone"),r=e("../lib/merge"),i=e("../lib/extend"),o=e("../lib/isEqual"),a=e("../WBMixin"),s=a.extend({attributes:{},options:{},initialize:function(e,t){var n=this;n.attributes=i({},n.defaults,e),n.options=t||{},n.changed={}},get:function(e){return console.warn("getters are deprecated"),this.attributes[e]},set:function(e,t,n){var i=this;if(null===e)return i;var o,a;if("object"==typeof e?(o=e,n=t):(o={},o[e]=t),n||(n={}),n.silent)r(i.attributes,a);else{var s=i.changes(o,n);i._trigger(o,s,n)}return i},unset:function(e,t){return this.set(e,void 0,i({},t,{unset:!0}))},clear:function(e){var t=this;return t.set(t.defaults,e)},changes:function(e,t){var r,i,a=this,s=[],u=n(a.attributes,!0),c=a.attributes;a.changed={};for(r in e)i=e[r],o(c[r],i)||s.push(r),o(u[r],i)?delete a.changed[r]:a.changed[r]=i,c[r]=t.unset?void 0:i;return s},_trigger:function(e,t,n){for(var r,i=this,o=i.attributes;t&&t.length&&i.trigger;)r=t.shift(),i.trigger("change:"+r,i,o[r],n)}});t.exports=s},{"../WBMixin":6,"../lib/clone":11,"../lib/extend":17,"../lib/isEqual":23,"../lib/merge":24}],35:[function(e,t){var n=e("../WBMixin"),r=e("../WBDeferred"),i=e("../lib/when"),o=e("../lib/toArray"),a=e("../lib/forEach"),s=e("../lib/delay"),u=e("../lib/defer"),c=e("../lib/functions"),l=n.extend({deferred:function(){var e=this;return new r(e)},when:function(){var e=this;return i.apply(e,arguments)},defer:function(e){var t=this,n=o(arguments);return n[1]=n[1]||this,"string"==typeof e&&(n[0]=t[e]),u.apply(null,n)},delay:function(e){var t=this,n=o(arguments);return n[2]=n[2]||t,"string"==typeof e&&(n[0]=t[e]),s.apply(null,n)},forEach:function(e,t,n){var r=this;n=n||r,"string"==typeof t&&(t=r[t]),a(e,t,n)},functions:function(e){return c(e||this)}});t.exports=l},{"../WBDeferred":4,"../WBMixin":6,"../lib/defer":14,"../lib/delay":15,"../lib/forEach":18,"../lib/functions":20,"../lib/toArray":26,"../lib/when":27}],36:[function(e,t){t.exports={ControllableMixin:e("./ControllableMixin"),ObservableHashMixin:e("./ObservableHashMixin"),WBBindableMixin:e("./WBBindableMixin"),WBDestroyableMixin:e("./WBDestroyableMixin"),WBEventsMixin:e("./WBEventsMixin"),WBStateMixin:e("./WBStateMixin"),WBUtilsMixin:e("./WBUtilsMixin")}},{"./ControllableMixin":29,"./ObservableHashMixin":30,"./WBBindableMixin":31,"./WBDestroyableMixin":32,"./WBEventsMixin":33,"./WBStateMixin":34,"./WBUtilsMixin":35}],37:[function(e,t){t.exports={lib:e("./lib"),BaseEventEmitter:e("./BaseEventEmitter"),BaseSingleton:e("./BaseSingleton"),WBClass:e("./WBClass"),WBDeferred:e("./WBDeferred"),WBEventEmitter:e("./WBEventEmitter"),WBMixin:e("./WBMixin"),WBSingleton:e("./WBSingleton"),WBStateModel:e("./WBStateModel"),mixins:e("./mixins")}},{"./BaseEventEmitter":1,"./BaseSingleton":2,"./WBClass":3,"./WBDeferred":4,"./WBEventEmitter":5,"./WBMixin":6,"./WBSingleton":8,"./WBStateModel":9,"./lib":21,"./mixins":36}]},{},[37])(37)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dist/database",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.database=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){var n=e("./WBEventEmitter").extend({mixins:[e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBEventEmitter":5,"./mixins/ObservableHashMixin":31,"./mixins/WBDestroyableMixin":33,"./mixins/WBUtilsMixin":36}],2:[function(e,t){var n=e("./WBSingleton").extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBBindableMixin"),e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBSingleton":8,"./mixins/ObservableHashMixin":31,"./mixins/WBBindableMixin":32,"./mixins/WBDestroyableMixin":33,"./mixins/WBEventsMixin":34,"./mixins/WBUtilsMixin":36}],3:[function(e,t){function n(e,t){var r=this;e=e||{};var o=e.mixins||[];delete e.mixins;for(var a,s=i(r,e,t);o.length;)a=o.shift(),"function"==typeof a.applyToClass&&a.applyToClass(s);return s.extend=r.extend||n,s}function r(e){var t=this;t.uid=t.uid||s(),t.options=e||t.options,t.augmentProperties(),t.initialize.apply(t,arguments),t.initMixins.apply(t,arguments)}var i=e("./lib/inherits"),o=e("./lib/extend"),a=e("./lib/clone"),s=e("./lib/createUID"),u=e("./lib/fromSuper"),c={initialize:function(){var e=this;return e},initMixins:function(){for(var e,t=this,n=u.concat(t,"initializers");n.length;)e=n.shift(),"function"==typeof e&&e.apply(t,arguments)},augmentProperties:function(){function e(e,n){var r=typeof n;t[e]="function"===r?n.call(t):"object"===r?a(n,!0):n}var t=this,n=u.merge(t,"properties");for(var r in n)e(r,n[r])}};o(r.prototype,c),r.extend=n,t.exports=r},{"./lib/clone":12,"./lib/createUID":13,"./lib/extend":18,"./lib/fromSuper":20,"./lib/inherits":23}],4:[function(e,t){function n(e,t,n){return function(){var r=this;if(!(r instanceof l))throw new Error(n+" invoked with wrong context");if(r._state!==s.pending)return r;r._args=a(arguments);var i=t?r._args.shift():void 0;return r._state=e,r.trigger(i),r}}var r=e("./WBClass"),i=e("./WBPromise"),o=e("./lib/assert"),a=e("./lib/toArray"),s={pending:0,resolved:2,rejected:4},u={0:["pending"],2:["resolved","resolve"],4:["rejected","reject"]},c={properties:{_state:s.pending,_args:[],handlers:[]},initialize:function(e){var t=this;t._context=e},state:function(){var e=this;return u[e._state][0]},trigger:function(e){var t=this;if(t._state!==s.pending)for(var n,r=t.handlers;r.length;)n=r.shift(),t.invoke(n,e||t._context)},invoke:function(e,t){var n=this,r=n._state,i=e.context||t||n,o=e.args;n._args.forEach(function(e){o.push(e)});var a=e.type,u="then"===a||"done"===a&&r===s.resolved||"fail"===a&&r===s.rejected;u&&e.fn.apply(i,o)},promise:function(){var e=this;return e._promise=e._promise||new i(this),e._promise}};["then","done","fail"].forEach(function(e){c[e]=function(){var t=this,n=a(arguments),r=n.shift(),i=n.shift();return o["function"](r,e+" accepts only functions"),t.handlers.push({type:e,context:i,fn:r,args:n}),t.trigger(),t}}),c.always=c.then,[s.resolved,s.rejected].forEach(function(e){var t=u[e][1];c[t]=n(e,!1,t),c[t+"With"]=n(e,!0,t)});var l=r.extend(c);t.exports=l},{"./WBClass":3,"./WBPromise":7,"./lib/assert":11,"./lib/toArray":27}],5:[function(e,t){var n=e("./WBClass").extend({mixins:[e("./mixins/WBBindableMixin"),e("./mixins/WBEventsMixin")]});t.exports=n},{"./WBClass":3,"./mixins/WBBindableMixin":32,"./mixins/WBEventsMixin":34}],6:[function(e,t){var n=e("./lib/extend"),r=e("./lib/clone"),i=e("./lib/assert"),o=e("./WBSingleton"),a=o.extend({applyTo:function(e){var t,i=r(this.Behavior,!0);"function"==typeof i.initialize&&(t=i.initialize,delete i.initialize);var o=i.properties;return delete i.properties,n(e,i),t&&t.apply(e),o&&n(e,o),e},applyToClass:function(e){i["class"](e,"applyToClass expects a class");var t=e.prototype,o=r(this.Behavior,!0),a=o.initialize;"function"==typeof a&&(!t.hasOwnProperty("initializers")&&(t.initializers=[]),t.initializers.push(a),delete o.initialize);var s=o.properties;return delete o.properties,n(t,o),!t.hasOwnProperty("properties")&&(t.properties={}),s&&n(t.properties,s),e}});a.extend=function(e,t){e||(e={}),t||(t={});var i=r(this.Behavior,!0);t.Behavior=n(i,e);var s=o.extend.call(this,t);return s.extend=a.extend,s},t.exports=a},{"./WBSingleton":8,"./lib/assert":11,"./lib/clone":12,"./lib/extend":18}],7:[function(e,t){function n(e){return function(){var t=this.deferred;return t[e].apply(t,arguments),this}}var r=e("./WBClass"),i={constructor:function(e){this.deferred=e},promise:function(){return this},state:function(){return this.deferred.state()}};["done","fail","then"].forEach(function(e){i[e]=n(e)}),i.always=i.then,t.exports=r.extend(i)},{"./WBClass":3}],8:[function(e,t){function n(e,t){for(var n;e.length;)n=e.shift(),"function"==typeof n.applyTo&&n.applyTo(t)}function r(e){e=e||{};var t=this||s;a.prototype=t;var u=new a,c=e.mixins||[];return e.mixins=void 0,n(c,u),i(u,e),u.extend=r,u.uid=o(),u}var i=e("./lib/extend"),o=e("./lib/createUID"),a=function(){};a.prototype={extend:r};var s=new a;t.exports=s},{"./lib/createUID":13,"./lib/extend":18}],9:[function(e,t){var n=e("./WBClass"),r=e("./mixins/WBDestroyableMixin"),i=r.Behavior.destroy,o=n.extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBStateMixin"),e("./mixins/WBBindableMixin"),r],initialize:function(e){var t=this;e&&(t.attributes=e)},sync:function(e,t,n){n&&"function"==typeof n.success&&n.success()},fetch:function(e){var t=this,n=e.success,r=this;return e.success=function(t){return r.set(t,e)?(n&&n(r,t,e),void r.trigger("sync",r,t,e)):!1},t.sync("read",t,e)},save:function(e,t,n){var r=this;return r.destroying||(r.set(e,t,n),"object"==typeof e&&(n=t),r.sync("update",r,n)),r},destroy:function(e){var t=this;t.destroying||(t.destroying=!0,i.call(t,e),t.attributes={},t.sync("delete",t,e))}});t.exports=o},{"./WBClass":3,"./mixins/WBBindableMixin":32,"./mixins/WBDestroyableMixin":33,"./mixins/WBEventsMixin":34,"./mixins/WBStateMixin":35}],10:[function(e,t){t.exports={lib:e("./lib"),BaseEventEmitter:e("./BaseEventEmitter"),BaseSingleton:e("./BaseSingleton"),WBClass:e("./WBClass"),WBDeferred:e("./WBDeferred"),WBEventEmitter:e("./WBEventEmitter"),WBMixin:e("./WBMixin"),WBSingleton:e("./WBSingleton"),WBStateModel:e("./WBStateModel"),mixins:e("./mixins")}},{"./BaseEventEmitter":1,"./BaseSingleton":2,"./WBClass":3,"./WBDeferred":4,"./WBEventEmitter":5,"./WBMixin":6,"./WBSingleton":8,"./WBStateModel":9,"./lib":22,"./mixins":37}],11:[function(e,t){function n(e,t){if(!e)throw new Error(t||"")}function r(e){n[e]=function(t,r){n(typeof t===e,r)}}var i=Array.isArray;n.empty=function(e,t){var r=i(e)?e:Object.keys(e);n(0===r.length,t)},n.array=function(e,t){n(i(e),t)},n["class"]=function(e,t){var r=e.prototype;n(r&&r.constructor===e,t)},n.number=function(e,t){n("number"==typeof e&&!isNaN(e),t)};for(var o=["undefined","boolean","string","function","object"];o.length;)r(o.shift());t.exports=n},{}],12:[function(e,t){function n(e,t){if(e=e.slice(),t){for(var n,r=[];e.length;)n=e.shift(),n=n instanceof Object?o(n,t):n,r.push(n);e=r}return e}function r(e){return new Date(e.getTime())}function i(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];n[i]=a instanceof Date?r(a):"object"==typeof a&&null!==a&&t?o(a,t):a}return n}function o(e,t){return a(e)?n(e,t):i(e,t)}var a=Array.isArray;t.exports=o},{}],13:[function(e,t){function n(){return 4294967295*f()|0}function r(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function i(){var e=n();return c[e&u]+c[e>>8&u]+"-"+c[e>>16&15|64]+c[e>>24&u]}function o(){var e=n();return c[63&e|128]+c[e>>8&u]+"-"+c[e>>16&u]+c[e>>24&u]}function a(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function s(e){var t=[r(),i(),o(),a()].join("-");return(e?e:"").toString()+t}for(var u=255,c=[],l=0;256>l;l++)c[l]=(16>l?"0":"")+l.toString(16);var f=Math.random;t.exports=s},{}],14:[function(e,t){function n(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}t.exports=n},{}],15:[function(e,t){function n(e){var t=r(arguments);return t[0]=1,t.unshift(e),i.apply(null,t)}var r=e("./toArray"),i=e("./delay");t.exports=n},{"./delay":16,"./toArray":27}],16:[function(e,t){function n(e,t,n){var i=r(arguments,3);return setTimeout(function(){var t=n&&n.destroyed;!t&&e.apply(n,i)},t)}var r=e("./toArray");t.exports=n},{"./toArray":27}],17:[function(e,t){var n=e("./assert"),r=e("./toArray"),i=e("./clone"),o=/\s+/,a={trigger:"Cannot trigger event(s) without event name(s)",events:"Cannot bind/unbind without valid event name(s)",callback:"Cannot bind/unbind to an event without valid callback function"},s={properties:{_events:{},_cache:{}},on:function(e,t,r){var i=this;return n.string(e,a.events),n["function"](t,a.callback),i.iterate(e,function(e){i.bind(e,t,r);var n=i._cache;n[e]&&t.apply(r||i,n[e])}),i},off:function(e,t,r){var i=this;if(e&&n.string(e,a.events),!e&&!t&&!r)return i._events={},i;var o=e||Object.keys(i._events);return i.iterate(o,function(e){i.unbind(e,t,r)}),i},once:function(e,t,n){var i=this,o=r(arguments);return o[1]=function(){i.off.apply(i,o),t.apply(n||i,arguments)},i.on.apply(i,o),i},publish:function(e){var t=this,i=r(arguments);return n.string(e,a.events),t.iterate(e,function(e){var n=t._cache;n[e]||(n[e]=i.slice(1),i[0]=e,t.trigger.apply(t,i))}),t},unpublish:function(e){var t=this;return n.string(e,a.events),t.iterate(e,function(e){t._cache[e]=void 0}),t},unpublishAll:function(){var e=this;return e._cache={},e},trigger:function(e){var t=this;n.string(e,a.trigger);var i=r(arguments,1);return t.iterate(e,function(e){t.triggerEvent(e,i)}),t},triggerEvent:function(e,t){for(var n,r=this,i=r._events||{},o=[],a=e.split(":");a.length;)o.push(a.shift()),n=o.join(":"),n in i&&r.triggerSection(n,a,t)},triggerSection:function(e,t,n){var r=this,o=r._events||{},a=o[e]||[];a.forEach(function(e){var o;t.length&&(o=i(n),o.unshift(t)),e.callback.apply(e.context||r,o||n)})},iterate:function(e,t){var r=this,i=e;for("string"==typeof i?i=i.split(o):n.array(i);i.length;)t.call(r,i.shift())},bind:function(e,t,n){var r=this,i=r._events||{},o=i[e]||(i[e]=[]);return o.push({callback:t,context:n}),r},unbind:function(e,t,n){for(var r,i=this,o=i._events,a=o[e]||[],s=[],u=-1,c=a.length;++u<c;)r=a[u],(t&&t!==r.callback||n&&n!==r.context)&&s.push(r);return o[e]=s,i}};t.exports=s},{"./assert":11,"./clone":12,"./toArray":27}],18:[function(e,t){function n(){var e=r(arguments);o(e.length>0,"extend expect one or more objects");for(var t=e.shift();e.length;)i(t,e.shift());return t}var r=e("./toArray"),i=e("./merge"),o=e("./assert");t.exports=n},{"./assert":11,"./merge":25,"./toArray":27}],19:[function(e,t){function n(e,t,n){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===!1)return}function r(e,t,n){for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r)===!1)return}function i(e,t,i){var o=Array.isArray(e)?n:r;o(e,t,i)}t.exports=i},{}],20:[function(e,t){function n(e,t){var r=e.constructor,a=r.prototype,s={};e.hasOwnProperty(t)?s=e[t]:a.hasOwnProperty(t)&&(s=a[t]);var u=r&&r.__super__;return u&&(s=i(n(u,t),s)),o({},s)}function r(e,t){var n=e.constructor,i=n.prototype,o=[];e.hasOwnProperty(t)?o=e[t]:i.hasOwnProperty(t)&&(o=i[t]);var a=n&&n.__super__;return a&&(o=[].concat(r(a,t),o)),[].concat(o)}var i=e("./merge"),o=e("./extend");t.exports={merge:n,concat:r}},{"./extend":18,"./merge":25}],21:[function(e,t){function n(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);return t}t.exports=n},{}],22:[function(e,t){t.exports={assert:e("./assert"),clone:e("./clone"),createUID:e("./createUID"),debounce:e("./debounce"),defer:e("./defer"),delay:e("./delay"),events:e("./events"),extend:e("./extend"),forEach:e("./forEach"),fromSuper:e("./fromSuper"),functions:e("./functions"),inherits:e("./inherits"),isEqual:e("./isEqual"),merge:e("./merge"),size:e("./size"),toArray:e("./toArray"),when:e("./when"),where:e("./where")}},{"./assert":11,"./clone":12,"./createUID":13,"./debounce":14,"./defer":15,"./delay":16,"./events":17,"./extend":18,"./forEach":19,"./fromSuper":20,"./functions":21,"./inherits":23,"./isEqual":24,"./merge":25,"./size":26,"./toArray":27,"./when":28,"./where":29}],23:[function(e,t){function n(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r(i,e),i.prototype=Object.create(e.prototype),r(i.prototype,t),i.prototype.constructor=i,r(i,n),i.__super__=e.prototype,i}var r=e("./extend");t.exports=n},{"./extend":18}],24:[function(e,t){function n(e,t){return e===t}t.exports=n},{}],25:[function(e,t){function n(e){for(var t,n=r(arguments,1);n.length;){t=n.shift();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}var r=e("./toArray");t.exports=n},{"./toArray":27}],26:[function(e,t){function n(e){return!Array.isArray(e)&&(e=Object.keys(e)),e.length}t.exports=n},{}],27:[function(e,t){function n(e){return e=e>0?e:0,new Array(e)}function r(e,t){for(var r=t||0,i=e.length,o=n(i-r),a=r;i>a;a++)o[a-r]=e[a];return o}t.exports=r},{}],28:[function(e,t){function n(){function e(){o.rejectWith(this)}function t(){if("rejected"!==o.state()){var e=s-a.length-1;if(u[e]=i(arguments),a.length){var n=a.shift();n.done(t)}else u.unshift(this),o.resolveWith.apply(o,u)}}var n=this,o=new r(n),a=i(arguments);1===a.length&&Array.isArray(a[0])&&(a=a[0]);var s=a.length,u=new Array(s);if(a.length){a.forEach(function(t){t.fail(e)});var c=a.shift();c.done(t)}else o.resolve();return o.promise()}var r=e("../WBDeferred"),i=e("./toArray");t.exports=n},{"../WBDeferred":4,"./toArray":27}],29:[function(e,t){function n(e,t){var n=[];return r(e,function(e){for(var r in t){if(e[r]!==t[r])return;n.push(e)}}),n}var r=e("./forEach");t.exports=n},{"./forEach":19}],30:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=n.extend({initialize:function(){var e=this;e.controllers=[],e.implemented=[],e["implements"]=r.concat(e,"implements"),e.createControllerInstances(),e.bindOnceTo(e,"destroy","destroyControllers")},createControllerInstances:function(){var e=this,t=e["implements"];"function"==typeof t&&(t=t.call(e));var n,r,i;for(i=t.length;i--;)n=t[i],e.implemented.indexOf(n.toString())<0&&(r=new n(e),e.controllers.push(r),r.parent=e,e.trackImplementedSuperConstructors(n));return e.implemented},trackImplementedSuperConstructors:function(e){var t=this,n=e.__super__,r=n&&n.constructor;r&&(t.implemented.push(r.toString()),t.trackImplementedSuperConstructors(r))},destroyControllers:function(){for(var e,t=this,n=t.controllers;n.length;)e=n.shift(),e.destroyed||e.destroy()}});t.exports=i},{"../WBMixin":6,"../lib/fromSuper":20}],31:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=e("../lib/clone"),o=n.extend({initialize:function(){var e=this,t=r.merge(e,"observes");for(var n in t)e.bindToTarget(e.resolveTarget(n),t[n])},bindToTarget:function(e,t){var n=this;for(var r in t)n.bindHandlers(e,r,t[r])},bindHandlers:function(e,t,n){var r=this;for(n="string"==typeof n?[n]:i(n);n.length;)r.bindTo(e,t,n.shift())},resolveTarget:function(e){var t=this;if("self"===e)return t;var n=t[e];if(!n&&"string"==typeof e&&e.indexOf(".")>-1)for(e=e.split("."),n=t;e.length&&n;)n=n[e.shift()];return n}});t.exports=o},{"../WBMixin":6,"../lib/clone":12,"../lib/fromSuper":20}],32:[function(e,t){var n=e("../WBMixin"),r=e("../lib/createUID"),i=n.extend({properties:{_bindings:{},_namedEvents:{}},callbackFactory:function(e,t){var n,r=this;return n="string"==typeof e?r.stringCallbackFactory(e,t):r.functionCallbackFactory(e,t)},stringCallbackFactory:function(e,t){return function(){t[e].apply(t,arguments)}},functionCallbackFactory:function(e,t){return function(){e.apply(t,arguments)}},bindTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments);var a=i||o,s=o.isAlreadyBound(e,t,n,a);if(s)return s;var u,c;o.isTargetJquery(e)?(u=o.callbackFactory(n,a),c=[t,u]):(u="string"==typeof n?a[n]:n,c=[t,u,a]),e.on.apply(e,c);var l={uid:r(),target:e,event:t,originalCallback:n,callback:u,context:a};return o._bindings[l.uid]=l,o.addToNamedBindings(t,l),l},isTargetJquery:function(e){var t=e.constructor;return t&&t.fn&&t.fn.on===e.on},bindOnceTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments),i=i||o;var a=o.isAlreadyBound(e,t,n,i);if(a)return a;var s=function(){("string"==typeof n?i[n]:n).apply(i,arguments),o.unbindFrom(u)},u={uid:r(),target:e,event:t,originalCallback:n,callback:s,context:i};return e.on(t,s,i),o._bindings[u.uid]=u,o.addToNamedBindings(t,u),u},unbindFrom:function(e){var t=this,n=e&&e.uid;if(!e||"string"!=typeof n)throw new Error("Cannot unbind from undefined or invalid binding");var r=e.event,i=e.context,o=e.callback,a=e.target;if(r&&o&&a&&i){a.off(r,o,i);for(var s in e)"uid"!==s&&delete e[s];delete t._bindings[n];var u=t._namedEvents,c=u[r];if(c){for(var l=c&&c.slice(0),f=c.length-1;f>=0;f--)c[f].uid===n&&l.splice(f,1);u[r]=l}}},unbindFromTarget:function(e){var t=this;if(!e||"function"!=typeof e.on)throw new Error("Cannot unbind from undefined or invalid binding target");var n;for(var r in t._bindings)n=t._bindings[r],n.target===e&&t.unbindFrom(n)},unbindAll:function(){var e,t=this;for(var n in t._bindings)e=t._bindings[n],t.unbindFrom(e)},checkBindingArgs:function(e,t,n,r){if(r=r||this,!e||"function"!=typeof e.on)throw new Error("Cannot bind to undefined target or target without #on method");if(!t||"string"!=typeof t)throw new Error("Cannot bind to target event without event name");if(!n||"function"!=typeof n&&"string"!=typeof n)throw new Error("Cannot bind to target event without a function or method name as callback");if("string"==typeof n&&!r[n])throw new Error("Cannot bind to target using a method name that does not exist for the context")},isAlreadyBound:function(e,t,n,r){var i=this,o=i._namedEvents[t];if(o)for(var a=0,s=o.length;s>a;a++){var u=o[a]||{},c=u.target;if(!c)return!1;var l=e.uid?e.uid===c.uid:!1;if(u.originalCallback===n&&u.context===r&&l)return u}return!1},addToNamedBindings:function(e,t){var n=this;n._namedEvents[e]||(n._namedEvents[e]=[]),n._namedEvents[e].push(t)}});t.exports=i},{"../WBMixin":6,"../lib/createUID":13}],33:[function(e,t){function n(){}function r(e){var t=this;"string"==typeof e&&(e=t[e]),"function"==typeof e&&e.call(t)}var i=e("../lib/forEach"),o=e("../WBMixin"),a=["unbind","unbindAll","onDestroy"],s=o.extend({destroy:function(){var e=this;e.trigger("destroy"),i(a,r,e),e.destroyObject(e),e.destroyed=!0},destroyObject:function(e){var t=this;for(var n in e)t.destroyKey(n,e)},destroyKey:function(e,t){t.hasOwnProperty(e)&&"uid"!==e&&"cid"!==e&&(t[e]="function"==typeof t[e]?n:void 0)}});t.exports=s},{"../WBMixin":6,"../lib/forEach":19}],34:[function(e,t){var n=e("../WBMixin"),r=e("../lib/events"),i=n.extend(r);t.exports=i},{"../WBMixin":6,"../lib/events":17}],35:[function(e,t){var n=e("../lib/clone"),r=e("../lib/merge"),i=e("../lib/extend"),o=e("../lib/isEqual"),a=e("../WBMixin"),s=a.extend({attributes:{},options:{},initialize:function(e,t){var n=this;n.attributes=i({},n.defaults,e),n.options=t||{},n.changed={}},get:function(e){return console.warn("getters are deprecated"),this.attributes[e]},set:function(e,t,n){var i=this;if(null===e)return i;var o,a;if("object"==typeof e?(o=e,n=t):(o={},o[e]=t),n||(n={}),n.silent)r(i.attributes,a);else{var s=i.changes(o,n);i._trigger(o,s,n)}return i},unset:function(e,t){return this.set(e,void 0,i({},t,{unset:!0}))},clear:function(e){var t=this;return t.set(t.defaults,e)},changes:function(e,t){var r,i,a=this,s=[],u=n(a.attributes,!0),c=a.attributes;a.changed={};for(r in e)i=e[r],o(c[r],i)||s.push(r),o(u[r],i)?delete a.changed[r]:a.changed[r]=i,c[r]=t.unset?void 0:i;return s},_trigger:function(e,t,n){for(var r,i=this,o=i.attributes;t&&t.length&&i.trigger;)r=t.shift(),i.trigger("change:"+r,i,o[r],n)}});t.exports=s},{"../WBMixin":6,"../lib/clone":12,"../lib/extend":18,"../lib/isEqual":24,"../lib/merge":25}],36:[function(e,t){var n=e("../WBMixin"),r=e("../WBDeferred"),i=e("../lib/when"),o=e("../lib/toArray"),a=e("../lib/forEach"),s=e("../lib/delay"),u=e("../lib/defer"),c=e("../lib/functions"),l=n.extend({deferred:function(){var e=this;return new r(e)},when:function(){var e=this;return i.apply(e,arguments)},defer:function(e){var t=this,n=o(arguments);return n[1]=n[1]||this,"string"==typeof e&&(n[0]=t[e]),u.apply(null,n)},delay:function(e){var t=this,n=o(arguments);return n[2]=n[2]||t,"string"==typeof e&&(n[0]=t[e]),s.apply(null,n)},forEach:function(e,t,n){var r=this;n=n||r,"string"==typeof t&&(t=r[t]),a(e,t,n)},functions:function(e){return c(e||this)}});t.exports=l},{"../WBDeferred":4,"../WBMixin":6,"../lib/defer":15,"../lib/delay":16,"../lib/forEach":19,"../lib/functions":21,"../lib/toArray":27,"../lib/when":28}],37:[function(e,t){t.exports={ControllableMixin:e("./ControllableMixin"),ObservableHashMixin:e("./ObservableHashMixin"),WBBindableMixin:e("./WBBindableMixin"),WBDestroyableMixin:e("./WBDestroyableMixin"),WBEventsMixin:e("./WBEventsMixin"),WBStateMixin:e("./WBStateMixin"),WBUtilsMixin:e("./WBUtilsMixin")}},{"./ControllableMixin":30,"./ObservableHashMixin":31,"./WBBindableMixin":32,"./WBDestroyableMixin":33,"./WBEventsMixin":34,"./WBStateMixin":35,"./WBUtilsMixin":36}],38:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.lib.clone,o=n.lib.assert,a=e("./lib/generateId"),s="id",u=function(){},c=r.extend({initialize:function(e){var t=this;o.object(e),o(e.database),t.database=e.database},generateId:function(e,t,n){if(!t){if(t=a(),n.collection)for(;n.collection.get(t);)t=a();n.set(e,t)}return t},queryCollection:function(e){var t=this,n=t.database.crud,r=e.storeName||e.model.prototype.storeName;return n.query(r)},operateOnModel:function(e,t){var n,r=this,o=r.database.crud;return n="function"==typeof e.toJSON?e.toJSON():i(e.attributes),n.id||(n.id=e.id),o[t](e.storeName,n)},sync:function(e,t,n){var r=this;n=n||{};var i=r.database.stores,o=t.collection,a=t.storeName||o&&o.storeName,u=i[a],c=u&&u.keyPath||s,l=t.attributes,f=l.id||l[c],d=r.isCreateUpdate(e);if(d&&(f=r.generateId(c,f,t)),!a||"none"===a)return void("function"==typeof n.success&&n.success());if(a in i){n.success=r.successFactory(n.success,e,a,u,f,t);var h;h="read"===e&&!t.id&&t.model?r.queryCollection(t):r.operateOnModel(t,e),h.done(n.success),n.error&&h.fail(n.error)}},successFactory:function(e,t,n,r,i,o){var a=this,s="function"==typeof e?e:u,c=a.isCreateUpdateDelete(t)?function(){a.database.trigger(t,n,i)}:u,l="fullTextIndexFields"in r?function(){a.trigger("index",t,n,o)}:u,f=a.isCreateUpdate(t)?function(){a.trigger("write",n,i)}:a.isDelete(t)?function(){a.trigger("destroy",n,i)}:u;return function(){s.apply(this,arguments),c(),l(),f()}},isCreateUpdateDelete:function(e){return"create"===e||"update"===e||"delete"===e},isCreateUpdate:function(e){return"create"===e||"update"===e},isDelete:function(e){return"delete"===e}});t.exports=c},{"./lib/generateId":48,"wunderbits.core":10}],39:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.WBDeferred,o=n.lib.when,a=n.lib.assert,s={init:"ERR_ABSTRACT_BACKEND_INITIALIZED"},u=r.extend({defaultKeyPath:"id",initialize:function(){var e=this;a(e.constructor!==u,s.init),e.ready=new i},connect:function(e){var t=this;return t.options=t.options||{},t.options.db=e,t.stores=e.stores,t.openDB(e.name,e.version,e),t.ready.promise()},openSuccess:function(){var e=this;e.trigger("connected"),e.ready.resolve()},openFailure:function(e,t){var n=this;n.trigger("error",e,t),n.ready.reject(e,t)},mapStores:function(e){for(var t,n,r,i=this,o=[],a=i.stores,s=Object.keys(a);s.length;)n=s.shift(),r=a[n],t=e.call(i,n,r),o.push(t);return o},truncate:function(e){var t=this,n=new i;t.ready=new i;var r=t.mapStores(t.clearStore);return o(r).then(function(){t.ready.reject(),n.resolve(),"function"==typeof e&&e(),t.trigger("truncated")}),n.promise()}});t.exports=u},{"wunderbits.core":10}],40:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.lib.toArray,o=n.lib.when,a=e("./AbstractBackend"),s=window.DOMError||window.DOMException,u=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB,c={READ:"readonly",WRITE:"readwrite"},l={privateMode:"ERR_IDB_FIREFOX_PRIVATE_MODE",downgrade:"ERR_IDB_CANT_DOWNGRADE_VERSION",unknown:"ERR_IDB_UNKNOWN",upgradeBrowser:"ERR_IDB_UPGRADE_BROWSER",storeCreationFailed:"ERR_IDB_STORE_CREATION_FAILED",storeClearFailed:"ERR_IDB_STORE_CLEAR_FAILED",notFound:"ERR_IDB_OBJECT_NOT_FOUND",getFailed:"ERR_IDB_STORE_GET_FAILED",cursorFailed:"ERR_IDB_CANT_OPEN_CURSOR",queryFailed:"ERR_IDB_QUERY_FAILED",updateFailed:"ERR_IDB_STORE_UPDATE_FAILED",destroyFailed:"ERR_IDB_STORE_DESTROY_FAILED",transactionUnavailable:"ERR_IDB_TRANSACTION_UNAVAILABLE"},f=a.prototype,d=a.extend({initialize:function(){var e=this;
f.initialize.apply(e,arguments),e.transactionQueue={},e.isFlushingTransactionQueue={}},flushNextTransactions:function(e,t){var n=this,r=n.transactionQueue[e],a=[],s=100;if(r.length){n.isFlushingTransactionQueue[e]=!0;var u=r.splice(0,s);u.forEach(function(e){var n=e(t);a.push(n)}),o(a).always(function(t){var o=i(arguments),a=o[o.length-1];t=a&&a[1],r.length?n.flushNextTransactions(e,t):n.isFlushingTransactionQueue[e]=!1})}},flushTransactionQueue:function(e){var t=this,n=t.transactionQueue[e],r=n.length,i=t.isFlushingTransactionQueue[e];r&&!i?t.flushNextTransactions(e):r||(t.isFlushingTransactionQueue[e]=!1)},queueTransactionOperation:function(e,t){var n=this,r=n.transactionQueue[e];r||(r=n.transactionQueue[e]=[]),r.push(t),!n.isFlushingTransactionQueue[e]&&n.flushTransactionQueue(e)},openDB:function(e,t){var n=this;if(u){var r=u.open(e,t);r.onerror=n.onRequestError.bind(n),r.onsuccess=n.onRequestSuccess.bind(n),r.onupgradeneeded=n.onUpgradeNeeded.bind(n)}else n.openFailure("ERR_IDB_CONNECT_FAILED")},onRequestError:function(e){var t=this,n=e.target.error,r=n.name,i=n instanceof s;"InvalidStateError"===r&&i?t.openFailure(l.privateMode):"VersionError"===r&&i?t.openFailure(l.downgrade):t.openFailure(l.unknown,n)},onRequestSuccess:function(e){var t=this;if(t.db)return void t.openSuccess();var n=e.target.result;return"string"==typeof n.version?void t.openFailure(l.upgradeBrowser):(t.db=n,t.storeNames=n.objectStoreNames,void t.openSuccess())},onUpgradeNeeded:function(e){var t=this,n=e.target.result;t.db=n,t.storeNames=n.objectStoreNames,t.options.versionless||(t.trigger("upgrading"),t.mapStores(t.createStore))},createStore:function(e,t){var n=this,r=n.db;if(!n.storeNames.contains(e)){var i=r.createObjectStore(e,{keyPath:t.keyPath||n.defaultKeyPath});i.onerror=function(t){n.trigger("error",l.storeCreationFailed,t,e)}}},_getTransaction:function(e,t){var n,r=this;try{n=r.db.transaction([e],t)}catch(i){console.error(i)}return n},_getReadTransaction:function(e){return this._getTransaction(e,c.READ)},_getWriteTransaction:function(e){return this._getTransaction(e,c.WRITE)},clearStore:function(e){function t(){o.resolve()}function n(t){i.trigger("error",l.storeClearFailed,t,e),o.reject()}var i=this,o=new r,a=i._getWriteTransaction(e);if(a){var s=a.objectStore(e),u=s.clear();u.onsuccess=t,u.onerror=n}else n(l.transactionUnavailable);return o.promise()},read:function(e,t){function n(n){o.trigger("error",l.getFailed,n,e,t),a.reject()}function i(t){var n=t.target.result;n?a.resolve(n):(o.trigger("error",l.notFound,null,e,n),a.reject())}var o=this,a=new r,s=o._getReadTransaction(e);if(s){var u=s.objectStore(e),c=t[u.keyPath||o.defaultKeyPath]||t.id,f=u.get(c);f.onsuccess=i,f.onerror=n}else n(l.transactionUnavailable);return a.promise()},query:function(e){function t(t){i.trigger("error",l.queryFailed,t,e),o.reject()}function n(e){var t=e.target.result;t?(u.push(t.value),t["continue"]()):o.resolve(u)}var i=this,o=new r,a=i._getReadTransaction(e);if(a){var s=a.objectStore(e),u=[],c=s.openCursor();c?(c.onerror=t,c.onsuccess=n):(i.trigger("error",l.cursorFailed,null,e),o.reject())}else t(l.transactionUnavailable);return o.promise()},update:function(e,t){var n=this,i=new r,o=i.promise();return n.queueTransactionOperation(e,function(r){function a(){i.resolve(void 0,u)}function s(r){n.trigger("error",l.updateFailed,r,e,t),i.reject()}var u=r?r:n._getWriteTransaction(e);if(u){var c=u.objectStore(e),f=c.put(t);f.onsuccess=a,f.onerror=s}else s(l.transactionUnavailable);return o}),o},destroy:function(e,t){var n=this,i=new r,o=i.promise();return n.queueTransactionOperation(e,function(r){function a(){i.resolve(void 0,u)}function s(r){n.trigger("error",l.destroyFailed,r,e,t),i.reject()}var u=r?r:n._getWriteTransaction(e);if(u){var c=u.objectStore(e),f=t[c.keyPath||n.defaultKeyPath]||t.id,d=c["delete"](f);d.onsuccess=a,d.onerror=s}else s(l.transactionUnavailable);return o}),o},nuke:function(){var e=this,t=e.options.db.name,n=new r,i=u.deleteDatabase(t);return i.onsuccess=function(){n.resolve()},i.onerror=function(){n.reject()},n.promise()}});t.exports=d},{"./AbstractBackend":39,"wunderbits.core":10}],41:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.lib.forEach,o=n.lib.toArray,a=e("./AbstractBackend"),s=e("../lib/SafeParse"),u=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB,c=a.extend({cache:{},localStorageAvailable:!0,initialize:function(){var e=this;e.ready=new r},connect:function(e){var t=this;if(t.stores=e.stores,t.localStorageAvailable=e.localStorageAvailable,t.localStorageAvailable){var n=window.localStorage;if("memory"===n.getItem("availableBackend")&&n.getItem("dbVersion")!==""+e.version)if(n.clear(),u){var r=u.deleteDatabase(e.name);r.onsuccess=r.onerror=function(){window.location.reload()}}else window.location.reload()}return!t.cache&&t.reset(),t.ready.resolve(),t.ready.promise()},reset:function(){var e=this;e.cache={},i(e.stores,function(t,n){e.cache[n]={}})},truncate:function(e){var t=this,n=new r;return t.ready=new r,t.reset(),t.localStorageAvailable&&window.localStorage.clear(),setTimeout(function(){t.ready.reject(),n.resolve(),"function"==typeof e&&e(),t.trigger("truncated")},50),n.promise()},read:function(e,t){var n,i=this,o=new r,a=i.stores[e];if(i.localStorageAvailable&&a.critical){var u=t[a.keyPath]||t.id;n=window.localStorage[e+"_"+u],n&&(n=s.json(n))}else n=i.cache[e][t.id];return setTimeout(function(){void 0!==n?o.resolve(n):o.reject()},50),o.promise()},query:function(e){var t=this,n=new r,i=o(t.cache[e]);return n.resolve(i).promise()},update:function(e,t){var n=this,i=new r,o=n.stores[e];if(n.localStorageAvailable&&o.critical){var a=t[o.keyPath]||t.id;window.localStorage[e+"_"+a]=JSON.stringify(t)}else n.cache[e][t.id]=t;return i.resolve().promise()},destroy:function(e,t){var n=this,i=new r;return delete n.cache[e][t.id],i.resolve().promise()}});t.exports=c},{"../lib/SafeParse":47,"./AbstractBackend":39,"wunderbits.core":10}],42:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.lib.when,o=e("./AbstractBackend"),a=e("../lib/printf"),s=e("../lib/FieldTypes"),u=e("../lib/SafeParse"),c=window.openDatabase,l=window.escape,f=window.unescape,d={createTable:"CREATE TABLE IF NOT EXISTS ? (? TEXT PRIMARY KEY, ?)",truncateTable:"DELETE FROM ?",dropTable:"DROP TABLE IF EXISTS ?",getAllTables:"SELECT * FROM sqlite_master WHERE type='table'",read:"SELECT * from ? WHERE ?='?' LIMIT 1",query:"SELECT * from ?",upsert:"INSERT OR REPLACE INTO ? (?) VALUES (?)",destroy:"DELETE FROM ? WHERE ?='?'"},h={"default":"TEXT"};h[s.Float]="REAL",h[s.Integer]="INTEGER";var p=o.extend({properties:{dbSize:5242880},openDB:function(e,t,n){var r=this,i=r.ready,o=setTimeout(function(){r.openFailure("ERR_WS_CONNECT_TIMEOUT")},2e3);i.done(function(){clearTimeout(o)});try{var a=n.dbSize||r.dbSize,s=c(e,"",e,a);r.db=s,t=""+t,s.version===t||n.versionless?r.openSuccess():s.changeVersion(s.version||"",t,function(){r.onUpgradeNeeded().done(r.openSuccess,r).fail(r.openFailure,r)})}catch(u){r.openFailure("ERR_WS_CONNECT_FAILED",u)}},execute:function(e){var t=this,n=new r;return t.db.transaction(function(t){t.executeSql(e,[],function(e,t){n.resolve(t)},function(e,t){n.reject(t)})}),n.promise()},parseGeneric:function(e){return u.json(f(e.json))},populateGeneric:function(e,t,n){e.push("json"),t.push("'"+l(JSON.stringify(n))+"'")},parseFields:function(e,t){var n,r,i,o,a={id:e.id};for(n in t)r=t[n],i=e[n],void 0!==e[n]&&(r===s.Integer?(o=parseInt(i,10),isNaN(i)&&console.warn("failed to parse %s as Integer",i),i=o||0):r===s.Float?(o=parseFloat(i,10),isNaN(i)&&console.warn("failed to parse %s as Float",i),i=o||0):(i=i&&f(i),r===s.Boolean?i="true"===i:r===s.Array?i=u.json(i)||[]:r===s.Object?i=u.json(i)||{}:""===i&&(i=null)),a[n]=i);return a},populateFields:function(e,t,n,r,i){var o,a,u;for(o in r)a=r[o],u=n[o],void 0!==u&&o!==i&&(u=a===s.Float||a===s.Integer?u&&!isNaN(u)?u:0:a===s.Array&&Array.isArray(u)?"'"+l(JSON.stringify(u))+"'":a===s.Object?"'"+l(JSON.stringify(u))+"'":null!==u?"'"+l(u)+"'":"NULL",e.push('"'+o+'"'),t.push(u))},toArray:function(e,t){for(var n,r=this,i=e.length,o=new Array(i),a=r[t?"parseFields":"parseGeneric"],s=0;i>s;s++)n=e.item(s),o[s]=a.call(r,n,t);return o},onUpgradeNeeded:function(){var e=this,t=new r;e.trigger("upgrading");var n=e.mapStores(e.clearStore);return i(n).always(function(){e.listTables().done(function(n){n=n||[];var r=n.length?n.map(function(t){return e.dropStore(t)}):[];i(r).always(function(){var n=e.mapStores(e.createStore);i(n).done(function(){t.resolve()}).fail(function(){t.reject()})}).fail(function(){console.warn("table drop failed")})}).fail(function(){console.warn("get tables failed")})}).fail(function(){console.warn("clear failed")}),t.promise()},createStore:function(e,t){var n=this,i=new r,o=t.keyPath||n.defaultKeyPath,s=t.fields,u=d.createTable;if(s){"id"===o&&delete s.id;var c=Object.keys(s).map(function(e){return'"'+e+'" '+(h[s[e]]||h["default"])});u=a(u,e,o,c.join(", "))}else u=a(u,e,o,"json TEXT");return n.execute(u).done(i.resolve,i).fail(function(t){n.trigger("error","ERR_WS_STORE_CREATION_FAILED",t,e),i.reject()}),i.promise()},dropStore:function(e){var t=this,n=new r,i=a(d.dropTable,e);return t.execute(i).done(n.resolve,n).fail(function(){n.reject()}),n.promise()},clearStore:function(e){var t=this,n=new r,i=a(d.truncateTable,e);return t.execute(i).done(n.resolve,n).fail(function(r){t.trigger("error","ERR_WS_CLEAR_FAILED",r,e),n.reject()}),n.promise()},listTables:function(){var e=this,t=new r;return e.execute(d.getAllTables).done(function(e){for(var n,r=e.rows,i=r.length,o=[],a=1;i>a;a++)n=r.item(a),o.push(n.name);t.resolve(o)}),t.promise()},read:function(e,t){var n=this,i=new r,o=n.stores[e],s=o.fields,u=o.keyPath||n.defaultKeyPath,c=t[u]||t.id,l=a(d.read,e,u,c);return n.execute(l).done(function(r){if(0===r.rows.length)n.trigger("error","ERR_WS_OBJECT_NOT_FOUND",null,e,t),i.reject();else{var o=n.toArray(r.rows,s);i.resolve(o[0])}}).fail(function(r){n.trigger("error","ERR_WS_READ_FAILED",r,e,t),i.reject()}),i.promise()},query:function(e){var t=this,n=new r,i=t.stores[e],o=i&&i.fields,s=a(d.query,e);return t.execute(s).done(function(e){var r=t.toArray(e.rows,o);n.resolve(r)}).fail(function(r){t.trigger("error","ERR_WS_QUERY_FAILED",r,e),n.reject()}),n.promise()},update:function(e,t){var n=this,i=new r,o=n.stores[e],s=o.fields,u=o.keyPath||n.defaultKeyPath,c=t[u]||t.id,l=['"'+u+'"'],f=["'"+c+"'"],h=n[s?"populateFields":"populateGeneric"];h.call(n,l,f,t,s,u);var p=a(d.upsert,e,l,f);try{n.execute(p).done(function(){i.resolve()}).fail(function(r){n.trigger("error","ERR_WS_UPDATE_FAILED",r,e,t),i.reject()})}catch(g){n.trigger("error","ERR_WS_UPDATE_FAILED",g,e,t),i.reject()}return i.promise()},destroy:function(e,t){var n=this,i=new r,o=n.stores[e],s=o.keyPath||n.defaultKeyPath,u=t[s]||t.id,c=a(d.destroy,e,s,u);return n.execute(c).done(function(){i.resolve()}).fail(function(r){n.trigger("error","ERR_WS_DESTROY_FAILED",r,e,t),i.reject()}),i.promise()},nuke:function(){var e=this;return console.warn("cant delete websql database"),e.truncate()}});t.exports=p},{"../lib/FieldTypes":46,"../lib/SafeParse":47,"../lib/printf":49,"./AbstractBackend":39,"wunderbits.core":10}],43:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.WBDeferred,o=n.lib.assert,a=n.lib.extend,s=n.lib.clone,u=n.lib.merge,c=n.lib.toArray,l=e("./Backends/MemoryBackend"),f=e("./Backends/WebSQLBackend"),d=e("./Backends/IndexedDBBackend"),h=window.chrome,p=!!(h&&h.app&&h.app.runtime),g=!0,v={indexeddb:["indexedDB","webkitIndexedDB","mozIndexedDB","msIndexedDB"],websql:["openDatabase"]},m={memory:l,websql:f,indexeddb:d},y=r.extend({initialize:function(e){var t=this;e=e||{},t.crud={},t.ready=new i,o.object(e.schema);var n=e.schema;t.stores=n.stores;var r=n.database;t.name=r.name,t.versionless=!!e.versionless;var a=1e7*Object.keys(t.stores).length;a+=parseInt(r.version,10)||1,t.version=a},init:function(e,t){var n=this,r=n.ready;if("resolved"===r.state())return r.promise();e=n.findAvailableBackend(e),n.backendName=e;var i=n.initLogger(e.toUpperCase()),o=n.stores;return t=u(t||{},{name:n.name,version:n.version,versionless:n.versionless,stores:o,infoLog:i.info,errorLog:i.error,localStorageAvailable:g}),n.initBackend(e,t),r.promise()},currentBackend:function(){var e=this;return e.backendName},initLogger:function(e){return{info:console.info.bind(console,"["+e+"]"),error:console.error.bind(console,"["+e+"]")}},initBackend:function(e,t){var n=this,r=m[e],i=n.backend=new r;n.options=t,i.on("error",function(){var e=c(arguments);e.unshift("error"),n.trigger.apply(n,e)}),i.connect(t).done(n.initSuccess,n).fail(n.initFailure,n)},initSuccess:function(){var e=this,t=e.backend,n={create:t.update,read:t.read,update:t.update,"delete":t.destroy,query:t.query};Object.keys(n).forEach(function(e){var r=n[e];n[e]=function(){var e=arguments,n=new i,o=t.ready;return o.done(function(){r.apply(t,e).done(n.resolve,n).fail(n.reject,n)}),o.fail(n.reject,n),n.promise()}}),a(e.crud,n),e.ready.resolve(),e.publish("ready",{stores:e.stores})},initFailure:function(){var e=this;e.ready.reject()},findAvailableBackend:function(e){if(e in v)return e;if(h&&h.storage)return"indexeddb";try{var t=window.localStorage.getItem("availableBackend");if(t in v)return t}catch(n){return g=!1,"memory"}var r;for(var i in v)for(var o=s(v[i]);o.length&&!r;)if(window[o.shift()]){r=i;break}return r||"memory"},getAll:function(e,t,n){var r=this;r.ready.done(function(){var i=r.backend.query(e);t&&i.done(t),n&&i.fail(n)})},truncate:function(e){var t=this;t.ready.done(function(){"memory"===t.backendName||p||g&&window.localStorage.clear(),t.backend.truncate().then(e)})}});t.exports=y},{"./Backends/IndexedDBBackend":40,"./Backends/MemoryBackend":41,"./Backends/WebSQLBackend":42,"wunderbits.core":10}],44:[function(e,t){var n,r=window.chrome,i=r&&r.storage;n=e(i?"./localStorage/WBChromeLocalStorage":"./localStorage/WBBrowserLocalStorage"),t.exports=n},{"./localStorage/WBBrowserLocalStorage":50,"./localStorage/WBChromeLocalStorage":51}],45:[function(e,t){function n(e){var t=e.fields;delete e.fields;var r=i.extend.call(this,e);r.extend=n;var a,s,c;for(a in t)if(s=t[a],c=u[a],c&&Array.isArray(s)){for(;s.length;)t[s.shift()]=c;delete t[a]}return r.fields=o({},r.fields,t),r}var r=e("wunderbits.core"),i=r.WBSingleton,o=r.lib.extend,a=e("./lib/FieldTypes"),s=i.extend({FieldTypes:a,fields:{}}),u={};Object.keys(a).forEach(function(e){u[e.toLowerCase()+"s"]=a[e]}),s.extend=n,t.exports=s},{"./lib/FieldTypes":46,"wunderbits.core":10}],46:[function(e,t){t.exports={Array:"ARRAY",Boolean:"BOOLEAN",DateTime:"DATETIME",Float:"FLOAT",Integer:"INTEGER",Object:"OBJECT",Text:"TEXT"}},{}],47:[function(e,t){function n(e){try{return JSON.parse(e)}catch(t){console.warn('Unable to parse "'+e+'"')}}var r=e("wunderbits.core"),i=r.WBSingleton,o=i.extend({json:n});t.exports=o},{"wunderbits.core":10}],48:[function(e,t){function n(){return(16*Math.random()|0).toString(16)}function r(){return"lw"+new Array(31).join("x").replace(/x/g,n)}t.exports=r},{}],49:[function(e,t){function n(e){var t=1,n=arguments;return e.replace(/\?/g,function(){var e=n[t++];return void 0===e?"":Array.isArray(e)?e.join(", "):e})}t.exports=n},{}],50:[function(e,t){var n,r=e("wunderbits.core"),i=r.WBClass,o=r.WBDeferred;try{n=window.localStorage}catch(a){console.warn(a)}var s=i.extend({getItem:function(e){var t,r=new o;try{t=n.getItem(e),r.resolve(t)}catch(i){r.reject(i)}return r.promise()},setItem:function(e,t){var r=new o;try{n.setItem(e,t),r.resolve()}catch(i){r.reject(i)}return r.promise()},removeItem:function(e){var t=new o;try{n.removeItem(e),t.resolve()}catch(r){t.reject(r)}return t.promise()},clear:function(){var e=new o;try{n.clear(),e.resolve()}catch(t){e.reject(t)}return e.promise()}});t.exports=s},{"wunderbits.core":10}],51:[function(e,t){var n=e("wunderbits.core"),r=n.WBClass,i=n.WBDeferred,o=window.chrome,a=o&&o.storage&&o.storage.local,s=r.extend({getItem:function(e){var t=new i;return a.get(e,function(n){if(o.runtime.lastError)t.reject(o.runtime.lastError);else{var r=n[e];t.resolve(r)}}),t.promise()},setItem:function(e,t){var n=new i,r={};return r[e]=t,a.set(r,function(){o.runtime.lastError?n.reject(o.runtime.lastError):n.resolve()}),n.promise()},removeItem:function(e){var t=new i;return a.remove(e,function(){o.runtime.lastError?t.reject(o.runtime.lastError):t.resolve()}),t.promise()},clear:function(){var e=new i;return a.clear(function(){o.runtime.lastError?e.reject(o.runtime.lastError):e.resolve()}),e.promise()}});t.exports=s},{"wunderbits.core":10}],52:[function(e,t){t.exports={BackboneDBSync:e("./BackboneDBSync"),WBDatabase:e("./WBDatabase"),WBLocalStorage:e("./WBLocalStorage"),WBSchema:e("./WBSchema")}},{"./BackboneDBSync":38,"./WBDatabase":43,"./WBLocalStorage":44,"./WBSchema":45}]},{},[52])(52)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dist/sdk",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.sdk=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(){},{}],2:[function(e,t,n){arguments[4][1][0].apply(n,arguments)},{dup:1}],3:[function(e,t,n){(function(t){"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new o(e,arguments[1]):new o(e)}function a(e,t){if(e=g(e,0>t?0:0|v(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|y(t,n);return e=g(e,r),e.write(t,n),e}function u(e,t){if(o.isBuffer(t))return c(e,t);if(J(t))return l(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return d(e,t)}return t.length?h(e,t):p(e,t)}function c(e,t){var n=0|v(t.length);return e=g(e,n),t.copy(e,0,0,n),e}function l(e,t){var n=0|v(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n=0|v(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){return o.TYPED_ARRAY_SUPPORT?(t.byteLength,e=o._augment(new Uint8Array(t))):e=f(e,new Uint8Array(t)),e}function h(e,t){var n=0|v(t.length);e=g(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t){var n,r=0;"Buffer"===t.type&&J(t.data)&&(n=t.data,r=0|v(n.length)),e=g(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function g(e,t){o.TYPED_ARRAY_SUPPORT?(e=o._augment(new Uint8Array(t)),e.__proto__=o.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=o.poolSize>>>1;return n&&(e.parent=K),e}function v(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e,t){if(!(this instanceof m))return new m(e,t);var n=new o(e,t);return delete n.parent,n}function y(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||1/0===n?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return M(this,t,n);case"binary":return B(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,r){return X(z(t,e.length-n),e,n,r)}function _(e,t,n,r){return X(H(t),e,n,r)}function S(e,t,n,r){return _(e,t,n,r)}function k(e,t,n,r){return X($(t),e,n,r)}function E(e,t,n,r){return X(Y(t,e.length-n),e,n,r)}function T(e,t,n){return V.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var u,c,l,f;switch(s){case 1:128>o&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(55296>f||f>57343)&&(a=f));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&1114112>f&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return D(r)}function D(e){var t=e.length;if(Q>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function B(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=F(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function W(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||a>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function R(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function L(e,t,n,r,i){return i||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return i||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(e,t,n,r,52,8),n+8}function U(e){if(e=P(e).replace(et,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function F(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function $(e){return V.toByteArray(U(e))}function X(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var V=e("base64-js"),G=e("ieee754"),J=e("isarray");n.Buffer=o,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var K={};o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);a>i&&e[i]===t[i];)++i;return i!==a&&(n=e[i],r=t[i]),r>n?-1:n>r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!J(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new o(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new o(t),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,i),i+=a.length}return r},o.byteLength=y,o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):b.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:o.compare(this,e)},o.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(o.isBuffer(e))return n(this,e,t);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=o._augment(this.subarray(e,t));else{var i=t-e;r=new o(i,void 0);for(var a=0;i>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},o.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),G.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),G.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),G.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),G.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||W(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||W(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);W(this,e,t,n,i-1,-i)}var o=0,a=1,s=0>e?1:0;
for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);W(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||W(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&t>n&&r>t)for(i=a-1;i>=0;i--)e[i+t]=this[i+n];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=z(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var et=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":4,ieee754:5,isarray:6}],4:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){function t(e){var t=e.charCodeAt(0);return t===a||t===f?62:t===s||t===d?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function n(e){function n(e){c[f++]=e}var r,i,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new o(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],5:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*g}},{}],6:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],7:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],8:[function(e,t){var n=t.exports,r=(e("events").EventEmitter,e("./lib/request")),i=e("url");n.request=function(e,t){"string"==typeof e&&(e=i.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.protocol=e.scheme?e.scheme+":":window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var n=new r(new o,e);return t&&n.on("response",t),n},n.get=function(e,t){e.method="GET";var r=n.request(e,t);return r.end(),r},n.Agent=function(){},n.Agent.defaultMaxSockets=4;var o=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();n.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":9,events:7,url:34}],9:[function(e,t){var n=e("stream"),r=e("./response"),i=e("Base64"),o=e("inherits"),a=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(o){}if(t.responseType)try{e.responseType=t.responseType}catch(o){}if(e.open(t.method||"GET",n.uri,!0),e.onerror=function(){n.emit("error",new Error("Network error"))},n._headers={},t.headers)for(var a=s(t.headers),u=0;u<a.length;u++){var c=a[u];if(n.isSafeRequestHeader(c)){var l=t.headers[c];n.setHeader(c,l)}}t.auth&&this.setHeader("Authorization","Basic "+i.btoa(t.auth));var f=new r;f.on("close",function(){n.emit("close")}),f.on("ready",function(){n.emit("response",f)}),f.on("error",function(e){n.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||f.handle(e)}};o(a,n),a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},a.prototype.write=function(e){this.body.push(e)},a.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},a.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=s(this._headers),n=0;n<t.length;n++){var r=t[n],i=this._headers[r];if(u(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(u(this.body[0])){for(var a=[],n=0;n<this.body.length;n++)a.push.apply(a,this.body[n]);this.xhr.send(a)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var c=0,n=0;n<this.body.length;n++)c+=this.body[n].length;for(var a=new this.body[0].constructor(c),f=0,n=0;n<this.body.length;n++)for(var d=this.body[n],o=0;o<d.length;o++)a[f++]=d[o];this.xhr.send(a)}else if(l(this.body[0]))this.xhr.send(this.body[0]);else{for(var a="",n=0;n<this.body.length;n++)a+=this.body[n].toString();this.xhr.send(a)}},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?-1===c(a.unsafeHeaders,e.toLowerCase()):!1};var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},l=function(e){return"undefined"!=typeof Blob&&e instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&e instanceof FormData?!0:void 0}},{"./response":10,Base64:11,inherits:13,stream:32}],10:[function(e,t){function n(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var i=t[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),u=o[2];void 0!==n[a]?s(n[a])?n[a].push(u):n[a]=[n[a],u]:n[a]=u}else n[i]=!0}}return n}var r=e("stream"),i=e("util"),o=t.exports=function(){this.offset=0,this.readable=!0};i.inherits(o,r);var a={streaming:!0,status2:!0};o.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},o.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},o.prototype.handle=function(e){if(2===e.readyState&&a.status2){try{this.statusCode=e.status,this.headers=n(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=n(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){a.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},o.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:32,util:36}],11:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,o=0,a=r,s="";t.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&n>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(n=o%4?64*n+i:i,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return s})}()},{}],12:[function(e,t){var n=e("http"),r=t.exports;for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);r.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",n.request.call(this,e,t)}},{http:8}],13:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],14:[function(e,t){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],15:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],16:[function(e,t){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}a=!1}}function r(){}var i=t.exports={},o=[],a=!1;i.nextTick=function(e){o.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],17:[function(t,n,r){(function(t){!function(i){function o(e){throw RangeError(W[e])}function a(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return a(e.split(j),t).join(".")}function u(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function l(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function f(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?I(e/C):e>>1,e+=I(e/t);e>R*E>>1;r+=S)e=I(e/R);return I(r+(R+1)*e/(e+T))}function h(e){var t,n,r,i,a,s,u,f,h,p,g=[],v=e.length,m=0,y=M,b=D;for(n=e.lastIndexOf(B),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&o("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;v>i;){for(a=m,s=1,u=S;i>=v&&o("invalid-input"),f=l(e.charCodeAt(i++)),(f>=S||f>I((_-m)/s))&&o("overflow"),m+=f*s,h=b>=u?k:u>=b+E?E:u-b,!(h>f);u+=S)p=S-h,s>I(_/p)&&o("overflow"),s*=p;t=g.length+1,b=d(m-a,t,0==a),I(m/t)>_-y&&o("overflow"),y+=I(m/t),m%=t,g.splice(m++,0,y)}return c(g)}function p(e){var t,n,r,i,a,s,c,l,h,p,g,v,m,y,b,x=[];for(e=u(e),v=e.length,t=M,n=0,a=D,s=0;v>s;++s)g=e[s],128>g&&x.push(N(g));for(r=i=x.length,i&&x.push(B);v>r;){for(c=_,s=0;v>s;++s)g=e[s],g>=t&&c>g&&(c=g);for(m=r+1,c-t>I((_-n)/m)&&o("overflow"),n+=(c-t)*m,t=c,s=0;v>s;++s)if(g=e[s],t>g&&++n>_&&o("overflow"),g==t){for(l=n,h=S;p=a>=h?k:h>=a+E?E:h-a,!(p>l);h+=S)b=l-p,y=S-p,x.push(N(f(p+b%y,0))),l=I(b/y);x.push(N(f(l,0))),a=d(n,m,r==i),n=0,++r}++n,++t}return x.join("")}function g(e){return s(e,function(e){return A.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return s(e,function(e){return O.test(e)?"xn--"+p(e):e})}var m="object"==typeof r&&r,y="object"==typeof n&&n&&n.exports==m&&n,b="object"==typeof t&&t;(b.global===b||b.window===b)&&(i=b);var x,w,_=2147483647,S=36,k=1,E=26,T=38,C=700,D=72,M=128,B="-",A=/^xn--/,O=/[^ -~]/,j=/\x2E|\u3002|\uFF0E|\uFF61/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=S-k,I=Math.floor,N=String.fromCharCode;if(x={version:"1.2.4",ucs2:{decode:u,encode:c},decode:h,encode:p,toASCII:v,toUnicode:g},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return x});else if(m&&!m.nodeType)if(y)y.exports=x;else for(w in x)x.hasOwnProperty(w)&&(m[w]=x[w]);else i.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,d,h,p,g=e[l].replace(s,"%20"),v=g.indexOf(i);v>=0?(f=g.substr(0,v),d=g.substr(v+1)):(f=g,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(a,h)?r(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],19:[function(e,t){function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var s=encodeURIComponent(r(o))+a;return i(e[o])?n(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],20:[function(e,t,n){n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":18,"./encode":19}],21:[function(e,t){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":22}],22:[function(e,t){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=e("core-util-is");s.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");s.inherits(r,u),o(a(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":24,"./_stream_writable":26,_process:16,"core-util-is":27,inherits:13}],23:[function(e,t){function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":25,"core-util-is":27,inherits:13}],24:[function(e,t){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(D||(D=e("string_decoder/").StringDecoder),this.decoder=new D(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void T.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(C.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&f(e)),h(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=B)e=B;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||C.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return C.isBuffer(t)||C.isString(t)||C.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,f(e)}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){d(e)}):d(e))}function d(e){M("emit readable"),e.emit("readable"),y(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&E.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){m(e,t)}))}function m(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(M("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function b(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):k.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new k(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var s=r[0],f=Math.min(e-u,s.length);o?n+=s.slice(0,f):s.copy(n,u,0,f),f<s.length?r[0]=s.slice(f):r.shift(),u+=f}}return n}function x(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function _(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var S=e("isarray"),k=e("buffer").Buffer;i.ReadableState=r;var E=e("events").EventEmitter;E.listenerCount||(E.listenerCount=function(e,t){return e.listeners(t).length});var T=e("stream"),C=e("core-util-is");C.inherits=e("inherits");var D,M=e("util");M=M&&M.debuglog?M.debuglog("stream"):function(){},C.inherits(i,T),i.prototype.push=function(e,t){var n=this._readableState;return C.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new k(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return D||(D=e("string_decoder/").StringDecoder),this._readableState.decoder=new D(t),this._readableState.encoding=t,this};var B=8388608;i.prototype.read=function(e){M("read",e);var t=this._readableState,n=e;if((!C.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):f(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&x(this),null;var r=t.needReadable;M("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,M("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,M("reading or ended",r)),r&&(M("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?b(e,t):null,C.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&x(this),C.isNull(i)||this.emit("data",i),i},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){M("onunpipe"),e===f&&o()}function i(){M("onend"),e.end()}function o(){M("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",s),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",a),!d.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function a(t){M("ondata");var n=e.write(t);!1===n&&(M("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function s(t){M("onerror",t),l(),e.removeListener("error",s),0===E.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){M("onfinish"),e.removeListener("close",u),l()}function l(){M("unpipe"),f.unpipe(e)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,M("pipe count=%d opts=%j",d.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;d.endEmitted?n.nextTick(p):f.once("end",p),e.on("unpipe",r);
var v=g(f);return e.on("drain",v),f.on("data",a),e._events&&e._events.error?S(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",u),e.once("finish",c),e.emit("pipe",f),d.flowing||(M("pipe resume"),f.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=_(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=T.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&f(this,i);else{var o=this;n.nextTick(function(){M("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,e.reading||(M("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(M("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)C.isFunction(e[i])&&C.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return w(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){M("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=b}).call(this,e("_process"))},{"./_stream_duplex":22,_process:16,buffer:3,"core-util-is":27,events:7,inherits:13,isarray:15,stream:32,"string_decoder/":33,util:2}],25:[function(e,t){function n(e,t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,s.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new n(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){s.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;s.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":22,"core-util-is":27,inherits:13}],26:[function(e,t){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void S.call(this)):new o(t)}function a(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function s(e,t,r,i){var o=!0;if(!(_.isBuffer(r)||_.isString(r)||_.isNullOrUndefined(r)||t.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),n.nextTick(function(){i(a)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&_.isString(t)&&(t=new w(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),_.isBuffer(n)&&(i="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,a,n,i,o),s}function l(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function f(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(d(r),t)f(e,r,i,t,o);else{var a=m(e,r);a||r.corked||r.bufferProcessing||!r.buffer.length||v(e,r),i?n.nextTick(function(){p(e,r,a,o)}):p(e,r,a,o)}}function p(e,t,n,r){n||g(e,t),t.pendingcb--,r(),b(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,a,s),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function m(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function b(e,t){var n=m(e,t);return n&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),n}function x(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var w=e("buffer").Buffer;o.WritableState=i;var _=e("core-util-is");_.inherits=e("inherits");var S=e("stream");_.inherits(o,S),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return _.isFunction(t)&&(n=t,t=null),_.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),_.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;_.isFunction(e)?(n=e,e=null,t=null):_.isFunction(t)&&(n=t,t=null),_.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||x(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":22,_process:16,buffer:3,"core-util-is":27,inherits:13,stream:32}],27:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===v(e)}function f(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===v(e)}function h(e){return"[object Error]"===v(e)||e instanceof Error}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=f,n.isDate=d,n.isError=h,n.isFunction=p,n.isPrimitive=g,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":14}],28:[function(e,t){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":23}],29:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":22,"./lib/_stream_passthrough.js":23,"./lib/_stream_readable.js":24,"./lib/_stream_transform.js":25,"./lib/_stream_writable.js":26,stream:32}],30:[function(e,t){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":25}],31:[function(e,t){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":26}],32:[function(e,t){function n(){r.call(this)}t.exports=n;var r=e("events").EventEmitter,i=e("inherits");i(n,r),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",i),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",i),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{events:7,inherits:13,"readable-stream/duplex.js":21,"readable-stream/passthrough.js":28,"readable-stream/readable.js":29,"readable-stream/transform.js":30,"readable-stream/writable.js":31}],33:[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,u=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:3}],34:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){return null===e}function f(e){return null==e}var d=e("punycode");n.parse=i,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=r;var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(g),m=["'"].concat(v),y=["%","/","?",";","#"].concat(m),b=["/","?","#"],x=255,w=/^[a-z0-9A-Z_-]{0,63}$/,_=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=e("querystring");r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=h.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&k[i]||(r=r.substr(2),this.slashes=!0)}if(!k[i]&&(a||i&&!E[i])){for(var s=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var f,p;p=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==p&&(f=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),c=0,C=v.length;C>c;c++){var D=v[c];if(D&&!D.match(w)){for(var M="",B=0,A=D.length;A>B;B++)M+=D.charCodeAt(B)>127?"x":D[B];if(!M.match(w)){var O=v.slice(0,c),j=v.slice(c+1),W=D.match(_);W&&(O.push(W[1]),j.unshift(W[2])),j.length&&(r="/"+j.join(".")+r),this.hostname=O.join(".");break}}}if(this.hostname=this.hostname.length>x?"":this.hostname.toLowerCase(),!g){for(var R=this.hostname.split("."),I=[],c=0;c<R.length;++c){var N=R[c];I.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(N):N)}this.hostname=I.join(".")}var L=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+L,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!S[o])for(var c=0,C=m.length;C>c;c++){var U=m[c],P=encodeURIComponent(U);P===U&&(P=escape(U)),r=r.split(U).join(P)}var F=r.indexOf("#");-1!==F&&(this.hash=r.substr(F),r=r.slice(0,F));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),t&&(this.query=T.parse(this.query)),r=r.slice(0,z)):t&&(this.search="",this.query={}),r&&(this.pathname=r),E[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",N=this.search||"";this.path=L+N}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!E[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||k[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=c||s||n.host&&e.pathname,h=d,p=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],g=n.protocol&&!E[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===p[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(g){n.hostname=n.host=p.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=e.search,n.query=e.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var m=p.slice(-1)[0],y=(n.host||e.host)&&("."===m||".."===m)||""===m,b=0,x=p.length;x>=0;x--)m=p[x],"."==m?p.splice(x,1):".."===m?(p.splice(x,1),b++):b&&(p.splice(x,1),b--);if(!d&&!h)for(;b--;b)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),y&&"/"!==p.join("/").substr(-1)&&p.push("");var w=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(g){n.hostname=n.host=w?"":p.length?p.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return d=d||n.host&&p.length,d&&!w&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:17,querystring:20}],35:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],36:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var a=Object.keys(t),g=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),E(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(T(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return l(t)}var m="",y=!1,x=["{","}"];if(p(t)&&(y=!0,x=["[","]"]),T(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(_(t)&&(m=" "+RegExp.prototype.toString.call(t)),k(t)&&(m=" "+Date.prototype.toUTCString.call(t)),E(t)&&(m=" "+l(t)),0===a.length&&(!y||0==t.length))return x[0]+m+x[1];if(0>r)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=y?f(e,t,r,g,a):a.map(function(n){return d(e,t,r,g,n,y)}),e.seen.pop(),h(S,m,x)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)o.push(A(t,String(a))?d(e,t,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(n)?u(e,c.value,null):u(e,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function x(e){return"symbol"==typeof e}function w(e){return void 0===e}function _(e){return S(e)&&"[object RegExp]"===D(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===D(e)}function E(e){return S(e)&&("[object Error]"===D(e)||e instanceof Error)}function T(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function D(e){return Object.prototype.toString.call(e)}function M(e){return 10>e?"0"+e.toString(10):e.toString(10)}function B(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(O,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=v(s)||!S(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var j,W={};n.debuglog=function(e){if(w(j)&&(j=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!W[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var r=t.pid;W[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else W[e]=function(){};return W[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=x,n.isUndefined=w,n.isRegExp=_,n.isObject=S,n.isDate=k,n.isError=E,n.isFunction=T,n.isPrimitive=C,n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",B(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":35,_process:16,inherits:13}],37:[function(e,t){(function(n,r){var i=n.browser;if(i&&r.MagiConsole)t.exports=r.MagiConsole;else{var o=r.console,a=e("wunderbits.core/public/WBClass"),s=e("wunderbits.core/public/lib/assert"),u=e("wunderbits.core/public/lib/functions"),c=e("wunderbits.core/public/lib/toArray"),l={error:3,warn:4,log:5,info:6,debug:7},f=Object.keys(l),d={blue:"[34m",cyan:"[36m",green:"[32m",grey:"[90m",magenta:"[35m",red:"[31m",white:"[37m",yellow:"[33m"},h="[39m",p={debug:"cyan",error:"red",info:"grey",log:"white",warn:"yellow"};f.forEach(function(e){"function"!=typeof o[e]&&(o[e]=o.log)});var g={constructor:function(e){var t=this;s.string(e,"namespace must be a string");var n=v.namespaces;return n[e]instanceof v?n[e]:(t.namespace=e,n[e]=t,void a.call(t))},shouldRunLevel:function(e){var t=l[v.level],n=l[e];return void 0===t||void 0===n?!0:v.levelOnly?n===t:t>=n},shouldRun:function(e){var t=this,n=v.pattern,r=v.level,i=n&&n.test(t.namespace);return i=i&&(r?t.shouldRunLevel(e):!0),!(!i||!o)},colorizeString:function(e,t){return d[t]+e+h},colorizeNamespace:function(e,t){var n=p[t];return n&&(e=this.colorizeString(e,n)),e},colorizeStrings:function(e,t){var n=this;return t.forEach(function(r,i){"string"==typeof r&&(t[i]=n.colorizeNamespace(r,e))}),t},injectNamespace:function(e,t){var n=this;if(f.indexOf(e)>=0){t=c(t);var r="["+n.namespace.toUpperCase()+"]";"string"==typeof t[0]?t[0]=r+" "+t[0]:t.unshift(r),!i&&n.colorizeStrings(e,t)}return t}};u(o).forEach(function(e){g[e]=function(){var t=this,n=arguments;t.shouldRun(e)&&(n=t.injectNamespace(e,n),o[e].apply(o,n))}});var v=a.extend(g);if(v.release=function(){v.namespaces={}},v.reset=v.off=function(){v.pattern=void 0,v.level=void 0,v.levelOnly=!1},v.setPattern=function(e){s.string(e,"regexPatternString must be a string"),e="*"===e?".?":e,v.pattern=new RegExp(e)},v.setLevel=function(e,t){s.string(e,"logLevel must be a string"),e="*"===e?void 0:e,v.level=e,v.levelOnly=!!t},!i){var m=n.env,y=m.MLOG,b=m.MLEVEL;y&&v.setPattern(y),b&&v.setLevel(b,"true"===m.MLEVELONLY)}v.release(),v.reset(),t.exports=v}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:16,"wunderbits.core/public/WBClass":41,"wunderbits.core/public/lib/assert":49,"wunderbits.core/public/lib/functions":59,"wunderbits.core/public/lib/toArray":65}],38:[function(e,t){function n(e,t){var n;return n=t?new i(e,t):new i(e)}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;t.exports=i?n:null,i&&(n.prototype=i.prototype)},{}],39:[function(e,t){var n=e("./WBEventEmitter").extend({mixins:[e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBEventEmitter":43,"./mixins/ObservableHashMixin":69,"./mixins/WBDestroyableMixin":71,"./mixins/WBUtilsMixin":74}],40:[function(e,t){var n=e("./WBSingleton").extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBBindableMixin"),e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBSingleton":46,"./mixins/ObservableHashMixin":69,"./mixins/WBBindableMixin":70,"./mixins/WBDestroyableMixin":71,"./mixins/WBEventsMixin":72,"./mixins/WBUtilsMixin":74}],41:[function(e,t){function n(e,t){var r=this;e=e||{};var o=e.mixins||[];delete e.mixins;for(var a,s=i(r,e,t);o.length;)a=o.shift(),"function"==typeof a.applyToClass&&a.applyToClass(s);return s.extend=r.extend||n,s}function r(e){var t=this;t.uid=t.uid||s(),t.options=e||t.options,t.augmentProperties(),t.initialize.apply(t,arguments),t.initMixins.apply(t,arguments)}var i=e("./lib/inherits"),o=e("./lib/extend"),a=e("./lib/clone"),s=e("./lib/createUID"),u=e("./lib/fromSuper"),c={initialize:function(){var e=this;return e},initMixins:function(){for(var e,t=this,n=u.concat(t,"initializers");n.length;)e=n.shift(),"function"==typeof e&&e.apply(t,arguments)},augmentProperties:function(){function e(e,n){var r=typeof n;t[e]="function"===r?n.call(t):"object"===r?a(n,!0):n}var t=this,n=u.merge(t,"properties");for(var r in n)e(r,n[r])}};o(r.prototype,c),r.extend=n,t.exports=r},{"./lib/clone":50,"./lib/createUID":51,"./lib/extend":56,"./lib/fromSuper":58,"./lib/inherits":61}],42:[function(e,t){function n(e,t,n){return function(){var r=this;if(!(r instanceof l))throw new Error(n+" invoked with wrong context");if(r._state!==s.pending)return r;
r._args=a(arguments);var i=t?r._args.shift():void 0;return r._state=e,r.trigger(i),r}}var r=e("./WBClass"),i=e("./WBPromise"),o=e("./lib/assert"),a=e("./lib/toArray"),s={pending:0,resolved:2,rejected:4},u={0:["pending"],2:["resolved","resolve"],4:["rejected","reject"]},c={properties:{_state:s.pending,_args:[],handlers:[]},initialize:function(e){var t=this;t._context=e},state:function(){var e=this;return u[e._state][0]},trigger:function(e){var t=this;if(t._state!==s.pending)for(var n,r=t.handlers;r.length;)n=r.shift(),t.invoke(n,e||t._context)},invoke:function(e,t){var n=this,r=n._state,i=e.context||t||n,o=e.args;n._args.forEach(function(e){o.push(e)});var a=e.type,u="then"===a||"done"===a&&r===s.resolved||"fail"===a&&r===s.rejected;u&&e.fn.apply(i,o)},promise:function(){var e=this;return e._promise=e._promise||new i(this),e._promise}};["then","done","fail"].forEach(function(e){c[e]=function(){var t=this,n=a(arguments),r=n.shift(),i=n.shift();return o["function"](r,e+" accepts only functions"),t.handlers.push({type:e,context:i,fn:r,args:n}),t.trigger(),t}}),c.always=c.then,[s.resolved,s.rejected].forEach(function(e){var t=u[e][1];c[t]=n(e,!1,t),c[t+"With"]=n(e,!0,t)});var l=r.extend(c);t.exports=l},{"./WBClass":41,"./WBPromise":45,"./lib/assert":49,"./lib/toArray":65}],43:[function(e,t){var n=e("./WBClass").extend({mixins:[e("./mixins/WBBindableMixin"),e("./mixins/WBEventsMixin")]});t.exports=n},{"./WBClass":41,"./mixins/WBBindableMixin":70,"./mixins/WBEventsMixin":72}],44:[function(e,t){var n=e("./lib/extend"),r=e("./lib/clone"),i=e("./lib/assert"),o=e("./WBSingleton"),a=o.extend({applyTo:function(e){var t,i=r(this.Behavior,!0);"function"==typeof i.initialize&&(t=i.initialize,delete i.initialize);var o=i.properties;return delete i.properties,n(e,i),t&&t.apply(e),o&&n(e,o),e},applyToClass:function(e){i["class"](e,"applyToClass expects a class");var t=e.prototype,o=r(this.Behavior,!0),a=o.initialize;"function"==typeof a&&(!t.hasOwnProperty("initializers")&&(t.initializers=[]),t.initializers.push(a),delete o.initialize);var s=o.properties;return delete o.properties,n(t,o),!t.hasOwnProperty("properties")&&(t.properties={}),s&&n(t.properties,s),e}});a.extend=function(e,t){e||(e={}),t||(t={});var i=r(this.Behavior,!0);t.Behavior=n(i,e);var s=o.extend.call(this,t);return s.extend=a.extend,s},t.exports=a},{"./WBSingleton":46,"./lib/assert":49,"./lib/clone":50,"./lib/extend":56}],45:[function(e,t){function n(e){return function(){var t=this.deferred;return t[e].apply(t,arguments),this}}var r=e("./WBClass"),i={constructor:function(e){this.deferred=e},promise:function(){return this},state:function(){return this.deferred.state()}};["done","fail","then"].forEach(function(e){i[e]=n(e)}),i.always=i.then,t.exports=r.extend(i)},{"./WBClass":41}],46:[function(e,t){function n(e,t){for(var n;e.length;)n=e.shift(),"function"==typeof n.applyTo&&n.applyTo(t)}function r(e){e=e||{};var t=this||s;a.prototype=t;var u=new a,c=e.mixins||[];return e.mixins=void 0,n(c,u),i(u,e),u.extend=r,u.uid=o(),u}var i=e("./lib/extend"),o=e("./lib/createUID"),a=function(){};a.prototype={extend:r};var s=new a;t.exports=s},{"./lib/createUID":51,"./lib/extend":56}],47:[function(e,t){var n=e("./WBClass"),r=e("./mixins/WBDestroyableMixin"),i=r.Behavior.destroy,o=n.extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBStateMixin"),e("./mixins/WBBindableMixin"),r],initialize:function(e){var t=this;e&&(t.attributes=e)},sync:function(e,t,n){n&&"function"==typeof n.success&&n.success()},fetch:function(e){var t=this,n=e.success,r=this;return e.success=function(t){return r.set(t,e)?(n&&n(r,t,e),void r.trigger("sync",r,t,e)):!1},t.sync("read",t,e)},save:function(e,t,n){var r=this;return r.destroying||(r.set(e,t,n),"object"==typeof e&&(n=t),r.sync("update",r,n)),r},destroy:function(e){var t=this;t.destroying||(t.destroying=!0,i.call(t,e),t.attributes={},t.sync("delete",t,e))}});t.exports=o},{"./WBClass":41,"./mixins/WBBindableMixin":70,"./mixins/WBDestroyableMixin":71,"./mixins/WBEventsMixin":72,"./mixins/WBStateMixin":73}],48:[function(e,t){t.exports={lib:e("./lib"),BaseEventEmitter:e("./BaseEventEmitter"),BaseSingleton:e("./BaseSingleton"),WBClass:e("./WBClass"),WBDeferred:e("./WBDeferred"),WBEventEmitter:e("./WBEventEmitter"),WBMixin:e("./WBMixin"),WBSingleton:e("./WBSingleton"),WBStateModel:e("./WBStateModel"),mixins:e("./mixins")}},{"./BaseEventEmitter":39,"./BaseSingleton":40,"./WBClass":41,"./WBDeferred":42,"./WBEventEmitter":43,"./WBMixin":44,"./WBSingleton":46,"./WBStateModel":47,"./lib":60,"./mixins":75}],49:[function(e,t){function n(e,t){if(!e)throw new Error(t||"")}function r(e){n[e]=function(t,r){n(typeof t===e,r)}}var i=Array.isArray;n.empty=function(e,t){var r=i(e)?e:Object.keys(e);n(0===r.length,t)},n.array=function(e,t){n(i(e),t)},n["class"]=function(e,t){var r=e.prototype;n(r&&r.constructor===e,t)},n.number=function(e,t){n("number"==typeof e&&!isNaN(e),t)};for(var o=["undefined","boolean","string","function","object"];o.length;)r(o.shift());t.exports=n},{}],50:[function(e,t){function n(e,t){if(e=e.slice(),t){for(var n,r=[];e.length;)n=e.shift(),n=n instanceof Object?o(n,t):n,r.push(n);e=r}return e}function r(e){return new Date(e.getTime())}function i(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];n[i]=a instanceof Date?r(a):"object"==typeof a&&null!==a&&t?o(a,t):a}return n}function o(e,t){return a(e)?n(e,t):i(e,t)}var a=Array.isArray;t.exports=o},{}],51:[function(e,t){function n(){return 4294967295*f()|0}function r(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function i(){var e=n();return c[e&u]+c[e>>8&u]+"-"+c[e>>16&15|64]+c[e>>24&u]}function o(){var e=n();return c[63&e|128]+c[e>>8&u]+"-"+c[e>>16&u]+c[e>>24&u]}function a(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function s(e){var t=[r(),i(),o(),a()].join("-");return(e?e:"").toString()+t}for(var u=255,c=[],l=0;256>l;l++)c[l]=(16>l?"0":"")+l.toString(16);var f=Math.random;t.exports=s},{}],52:[function(e,t){function n(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}t.exports=n},{}],53:[function(e,t){function n(e){var t=r(arguments);return t[0]=1,t.unshift(e),i.apply(null,t)}var r=e("./toArray"),i=e("./delay");t.exports=n},{"./delay":54,"./toArray":65}],54:[function(e,t){function n(e,t,n){var i=r(arguments,3);return setTimeout(function(){var t=n&&n.destroyed;!t&&e.apply(n,i)},t)}var r=e("./toArray");t.exports=n},{"./toArray":65}],55:[function(e,t){var n=e("./assert"),r=e("./toArray"),i=e("./clone"),o=/\s+/,a={trigger:"Cannot trigger event(s) without event name(s)",events:"Cannot bind/unbind without valid event name(s)",callback:"Cannot bind/unbind to an event without valid callback function"},s={properties:{_events:{},_cache:{}},on:function(e,t,r){var i=this;return n.string(e,a.events),n["function"](t,a.callback),i.iterate(e,function(e){i.bind(e,t,r);var n=i._cache;n[e]&&t.apply(r||i,n[e])}),i},off:function(e,t,r){var i=this;if(e&&n.string(e,a.events),!e&&!t&&!r)return i._events={},i;var o=e||Object.keys(i._events);return i.iterate(o,function(e){i.unbind(e,t,r)}),i},once:function(e,t,n){var i=this,o=r(arguments);return o[1]=function(){i.off.apply(i,o),t.apply(n||i,arguments)},i.on.apply(i,o),i},publish:function(e){var t=this,i=r(arguments);return n.string(e,a.events),t.iterate(e,function(e){var n=t._cache;n[e]||(n[e]=i.slice(1),i[0]=e,t.trigger.apply(t,i))}),t},unpublish:function(e){var t=this;return n.string(e,a.events),t.iterate(e,function(e){t._cache[e]=void 0}),t},unpublishAll:function(){var e=this;return e._cache={},e},trigger:function(e){var t=this;n.string(e,a.trigger);var i=r(arguments,1);return t.iterate(e,function(e){t.triggerEvent(e,i)}),t},triggerEvent:function(e,t){for(var n,r=this,i=r._events||{},o=[],a=e.split(":");a.length;)o.push(a.shift()),n=o.join(":"),n in i&&r.triggerSection(n,a,t)},triggerSection:function(e,t,n){var r=this,o=r._events||{},a=o[e]||[];a.forEach(function(e){var o;t.length&&(o=i(n),o.unshift(t)),e.callback.apply(e.context||r,o||n)})},iterate:function(e,t){var r=this,i=e;for("string"==typeof i?i=i.split(o):n.array(i);i.length;)t.call(r,i.shift())},bind:function(e,t,n){var r=this,i=r._events||{},o=i[e]||(i[e]=[]);return o.push({callback:t,context:n}),r},unbind:function(e,t,n){for(var r,i=this,o=i._events,a=o[e]||[],s=[],u=-1,c=a.length;++u<c;)r=a[u],(t&&t!==r.callback||n&&n!==r.context)&&s.push(r);return o[e]=s,i}};t.exports=s},{"./assert":49,"./clone":50,"./toArray":65}],56:[function(e,t){function n(){var e=r(arguments);o(e.length>0,"extend expect one or more objects");for(var t=e.shift();e.length;)i(t,e.shift());return t}var r=e("./toArray"),i=e("./merge"),o=e("./assert");t.exports=n},{"./assert":49,"./merge":63,"./toArray":65}],57:[function(e,t){function n(e,t,n){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===!1)return}function r(e,t,n){for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r)===!1)return}function i(e,t,i){var o=Array.isArray(e)?n:r;o(e,t,i)}t.exports=i},{}],58:[function(e,t){function n(e,t){var r=e.constructor,a=r.prototype,s={};e.hasOwnProperty(t)?s=e[t]:a.hasOwnProperty(t)&&(s=a[t]);var u=r&&r.__super__;return u&&(s=i(n(u,t),s)),o({},s)}function r(e,t){var n=e.constructor,i=n.prototype,o=[];e.hasOwnProperty(t)?o=e[t]:i.hasOwnProperty(t)&&(o=i[t]);var a=n&&n.__super__;return a&&(o=[].concat(r(a,t),o)),[].concat(o)}var i=e("./merge"),o=e("./extend");t.exports={merge:n,concat:r}},{"./extend":56,"./merge":63}],59:[function(e,t){function n(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);return t}t.exports=n},{}],60:[function(e,t){t.exports={assert:e("./assert"),clone:e("./clone"),createUID:e("./createUID"),debounce:e("./debounce"),defer:e("./defer"),delay:e("./delay"),events:e("./events"),extend:e("./extend"),forEach:e("./forEach"),fromSuper:e("./fromSuper"),functions:e("./functions"),inherits:e("./inherits"),isEqual:e("./isEqual"),merge:e("./merge"),size:e("./size"),toArray:e("./toArray"),when:e("./when"),where:e("./where")}},{"./assert":49,"./clone":50,"./createUID":51,"./debounce":52,"./defer":53,"./delay":54,"./events":55,"./extend":56,"./forEach":57,"./fromSuper":58,"./functions":59,"./inherits":61,"./isEqual":62,"./merge":63,"./size":64,"./toArray":65,"./when":66,"./where":67}],61:[function(e,t){function n(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r(i,e),i.prototype=Object.create(e.prototype),r(i.prototype,t),i.prototype.constructor=i,r(i,n),i.__super__=e.prototype,i}var r=e("./extend");t.exports=n},{"./extend":56}],62:[function(e,t){function n(e,t){return e===t}t.exports=n},{}],63:[function(e,t){function n(e){for(var t,n=r(arguments,1);n.length;){t=n.shift();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}var r=e("./toArray");t.exports=n},{"./toArray":65}],64:[function(e,t){function n(e){return!Array.isArray(e)&&(e=Object.keys(e)),e.length}t.exports=n},{}],65:[function(e,t){function n(e){return e=e>0?e:0,new Array(e)}function r(e,t){for(var r=t||0,i=e.length,o=n(i-r),a=r;i>a;a++)o[a-r]=e[a];return o}t.exports=r},{}],66:[function(e,t){function n(){function e(){o.rejectWith(this)}function t(){if("rejected"!==o.state()){var e=s-a.length-1;if(u[e]=i(arguments),a.length){var n=a.shift();n.done(t)}else u.unshift(this),o.resolveWith.apply(o,u)}}var n=this,o=new r(n),a=i(arguments);1===a.length&&Array.isArray(a[0])&&(a=a[0]);var s=a.length,u=new Array(s);if(a.length){a.forEach(function(t){t.fail(e)});var c=a.shift();c.done(t)}else o.resolve();return o.promise()}var r=e("../WBDeferred"),i=e("./toArray");t.exports=n},{"../WBDeferred":42,"./toArray":65}],67:[function(e,t){function n(e,t){var n=[];return r(e,function(e){for(var r in t){if(e[r]!==t[r])return;n.push(e)}}),n}var r=e("./forEach");t.exports=n},{"./forEach":57}],68:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=n.extend({initialize:function(){var e=this;e.controllers=[],e.implemented=[],e["implements"]=r.concat(e,"implements"),e.createControllerInstances(),e.bindOnceTo(e,"destroy","destroyControllers")},createControllerInstances:function(){var e=this,t=e["implements"];"function"==typeof t&&(t=t.call(e));var n,r,i;for(i=t.length;i--;)n=t[i],e.implemented.indexOf(n.toString())<0&&(r=new n(e),e.controllers.push(r),r.parent=e,e.trackImplementedSuperConstructors(n));return e.implemented},trackImplementedSuperConstructors:function(e){var t=this,n=e.__super__,r=n&&n.constructor;r&&(t.implemented.push(r.toString()),t.trackImplementedSuperConstructors(r))},destroyControllers:function(){for(var e,t=this,n=t.controllers;n.length;)e=n.shift(),e.destroyed||e.destroy()}});t.exports=i},{"../WBMixin":44,"../lib/fromSuper":58}],69:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=e("../lib/clone"),o=n.extend({initialize:function(){var e=this,t=r.merge(e,"observes");for(var n in t)e.bindToTarget(e.resolveTarget(n),t[n])},bindToTarget:function(e,t){var n=this;for(var r in t)n.bindHandlers(e,r,t[r])},bindHandlers:function(e,t,n){var r=this;for(n="string"==typeof n?[n]:i(n);n.length;)r.bindTo(e,t,n.shift())},resolveTarget:function(e){var t=this;if("self"===e)return t;var n=t[e];if(!n&&"string"==typeof e&&e.indexOf(".")>-1)for(e=e.split("."),n=t;e.length&&n;)n=n[e.shift()];return n}});t.exports=o},{"../WBMixin":44,"../lib/clone":50,"../lib/fromSuper":58}],70:[function(e,t){var n=e("../WBMixin"),r=e("../lib/createUID"),i=n.extend({properties:{_bindings:{},_namedEvents:{}},callbackFactory:function(e,t){var n,r=this;return n="string"==typeof e?r.stringCallbackFactory(e,t):r.functionCallbackFactory(e,t)},stringCallbackFactory:function(e,t){return function(){t[e].apply(t,arguments)}},functionCallbackFactory:function(e,t){return function(){e.apply(t,arguments)}},bindTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments);var a=i||o,s=o.isAlreadyBound(e,t,n,a);if(s)return s;var u,c;o.isTargetJquery(e)?(u=o.callbackFactory(n,a),c=[t,u]):(u="string"==typeof n?a[n]:n,c=[t,u,a]),e.on.apply(e,c);var l={uid:r(),target:e,event:t,originalCallback:n,callback:u,context:a};return o._bindings[l.uid]=l,o.addToNamedBindings(t,l),l},isTargetJquery:function(e){var t=e.constructor;return t&&t.fn&&t.fn.on===e.on},bindOnceTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments),i=i||o;var a=o.isAlreadyBound(e,t,n,i);if(a)return a;var s=function(){("string"==typeof n?i[n]:n).apply(i,arguments),o.unbindFrom(u)},u={uid:r(),target:e,event:t,originalCallback:n,callback:s,context:i};return e.on(t,s,i),o._bindings[u.uid]=u,o.addToNamedBindings(t,u),u},unbindFrom:function(e){var t=this,n=e&&e.uid;if(!e||"string"!=typeof n)throw new Error("Cannot unbind from undefined or invalid binding");var r=e.event,i=e.context,o=e.callback,a=e.target;if(r&&o&&a&&i){a.off(r,o,i);for(var s in e)"uid"!==s&&delete e[s];delete t._bindings[n];var u=t._namedEvents,c=u[r];if(c){for(var l=c&&c.slice(0),f=c.length-1;f>=0;f--)c[f].uid===n&&l.splice(f,1);u[r]=l}}},unbindFromTarget:function(e){var t=this;if(!e||"function"!=typeof e.on)throw new Error("Cannot unbind from undefined or invalid binding target");var n;for(var r in t._bindings)n=t._bindings[r],n.target===e&&t.unbindFrom(n)},unbindAll:function(){var e,t=this;for(var n in t._bindings)e=t._bindings[n],t.unbindFrom(e)},checkBindingArgs:function(e,t,n,r){if(r=r||this,!e||"function"!=typeof e.on)throw new Error("Cannot bind to undefined target or target without #on method");if(!t||"string"!=typeof t)throw new Error("Cannot bind to target event without event name");if(!n||"function"!=typeof n&&"string"!=typeof n)throw new Error("Cannot bind to target event without a function or method name as callback");if("string"==typeof n&&!r[n])throw new Error("Cannot bind to target using a method name that does not exist for the context")},isAlreadyBound:function(e,t,n,r){var i=this,o=i._namedEvents[t];if(o)for(var a=0,s=o.length;s>a;a++){var u=o[a]||{},c=u.target;if(!c)return!1;var l=e.uid?e.uid===c.uid:!1;if(u.originalCallback===n&&u.context===r&&l)return u}return!1},addToNamedBindings:function(e,t){var n=this;n._namedEvents[e]||(n._namedEvents[e]=[]),n._namedEvents[e].push(t)}});t.exports=i},{"../WBMixin":44,"../lib/createUID":51}],71:[function(e,t){function n(){}function r(e){var t=this;"string"==typeof e&&(e=t[e]),"function"==typeof e&&e.call(t)}var i=e("../lib/forEach"),o=e("../WBMixin"),a=["unbind","unbindAll","onDestroy"],s=o.extend({destroy:function(){var e=this;e.trigger("destroy"),i(a,r,e),e.destroyObject(e),e.destroyed=!0},destroyObject:function(e){var t=this;for(var n in e)t.destroyKey(n,e)},destroyKey:function(e,t){t.hasOwnProperty(e)&&"uid"!==e&&"cid"!==e&&(t[e]="function"==typeof t[e]?n:void 0)}});t.exports=s},{"../WBMixin":44,"../lib/forEach":57}],72:[function(e,t){var n=e("../WBMixin"),r=e("../lib/events"),i=n.extend(r);t.exports=i},{"../WBMixin":44,"../lib/events":55}],73:[function(e,t){var n=e("../lib/clone"),r=e("../lib/merge"),i=e("../lib/extend"),o=e("../lib/isEqual"),a=e("../WBMixin"),s=a.extend({attributes:{},options:{},initialize:function(e,t){var n=this;n.attributes=i({},n.defaults,e),n.options=t||{},n.changed={}},get:function(e){return console.warn("getters are deprecated"),this.attributes[e]},set:function(e,t,n){var i=this;if(null===e)return i;var o,a;if("object"==typeof e?(o=e,n=t):(o={},o[e]=t),n||(n={}),n.silent)r(i.attributes,a);else{var s=i.changes(o,n);i._trigger(o,s,n)}return i},unset:function(e,t){return this.set(e,void 0,i({},t,{unset:!0}))},clear:function(e){var t=this;return t.set(t.defaults,e)},changes:function(e,t){var r,i,a=this,s=[],u=n(a.attributes,!0),c=a.attributes;a.changed={};for(r in e)i=e[r],o(c[r],i)||s.push(r),o(u[r],i)?delete a.changed[r]:a.changed[r]=i,c[r]=t.unset?void 0:i;return s},_trigger:function(e,t,n){for(var r,i=this,o=i.attributes;t&&t.length&&i.trigger;)r=t.shift(),i.trigger("change:"+r,i,o[r],n)}});t.exports=s},{"../WBMixin":44,"../lib/clone":50,"../lib/extend":56,"../lib/isEqual":62,"../lib/merge":63}],74:[function(e,t){var n=e("../WBMixin"),r=e("../WBDeferred"),i=e("../lib/when"),o=e("../lib/toArray"),a=e("../lib/forEach"),s=e("../lib/delay"),u=e("../lib/defer"),c=e("../lib/functions"),l=n.extend({deferred:function(){var e=this;return new r(e)},when:function(){var e=this;return i.apply(e,arguments)},defer:function(e){var t=this,n=o(arguments);return n[1]=n[1]||this,"string"==typeof e&&(n[0]=t[e]),u.apply(null,n)},delay:function(e){var t=this,n=o(arguments);return n[2]=n[2]||t,"string"==typeof e&&(n[0]=t[e]),s.apply(null,n)},forEach:function(e,t,n){var r=this;n=n||r,"string"==typeof t&&(t=r[t]),a(e,t,n)},functions:function(e){return c(e||this)}});t.exports=l},{"../WBDeferred":42,"../WBMixin":44,"../lib/defer":53,"../lib/delay":54,"../lib/forEach":57,"../lib/functions":59,"../lib/toArray":65,"../lib/when":66}],75:[function(e,t){t.exports={ControllableMixin:e("./ControllableMixin"),ObservableHashMixin:e("./ObservableHashMixin"),WBBindableMixin:e("./WBBindableMixin"),WBDestroyableMixin:e("./WBDestroyableMixin"),WBEventsMixin:e("./WBEventsMixin"),WBStateMixin:e("./WBStateMixin"),WBUtilsMixin:e("./WBUtilsMixin")}},{"./ControllableMixin":68,"./ObservableHashMixin":69,"./WBBindableMixin":70,"./WBDestroyableMixin":71,"./WBEventsMixin":72,"./WBStateMixin":73,"./WBUtilsMixin":74}],76:[function(e,t,n){(function(t,r){var i=e("url"),o=e("child_process").spawn,a=e("fs");n.XMLHttpRequest=function(){var n,s,u=this,c=e("http"),l=e("https"),f={},d=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p={},g={},v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],m=["TRACE","TRACK","CONNECT"],y=!1,b=!1,x={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;var w=function(e){return d||e&&-1===v.indexOf(e.toLowerCase())},_=function(e){return e&&-1===m.indexOf(e)};this.open=function(e,t,n,r,i){if(this.abort(),b=!1,!_(e))throw new Error("SecurityError: Request method not allowed");f={method:e,url:t.toString(),async:"boolean"!=typeof n?!0:n,user:r||null,password:i||null},S(this.OPENED)},this.setDisableHeaderCheck=function(e){d=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!w(e))return void console.warn('Refused to set unsafe header "'+e+'"');if(y)throw new Error("INVALID_STATE_ERR: send flag is true");e=g[e.toLowerCase()]||e,g[e.toLowerCase()]=e,p[e]=p[e]?p[e]+", "+t:t},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&s&&s.headers&&s.headers[e.toLowerCase()]&&!b?s.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||b)return"";var e="";for(var t in s.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+s.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&g[e.toLowerCase()]?p[g[e.toLowerCase()]]:""},this.send=function(e){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(y)throw new Error("INVALID_STATE_ERR: send has already been called");var d,v=!1,m=!1,x=i.parse(f.url);switch(x.protocol){case"https:":v=!0;case"http:":d=x.hostname;break;case"file:":m=!0;break;case void 0:case null:case"":d="localhost";break;default:throw new Error("Protocol not supported.")}if(m){if("GET"!==f.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(f.async)a.readFile(x.pathname,"utf8",function(e,t){e?u.handleError(e):(u.status=200,u.responseText=t,S(u.DONE))});else try{this.responseText=a.readFileSync(x.pathname,"utf8"),this.status=200,S(u.DONE)}catch(w){this.handleError(w)}}else{var _=x.port||(v?443:80),k=x.pathname+(x.search?x.search:"");for(var E in h)g[E.toLowerCase()]||(p[E]=h[E]);if(p.Host=d,v&&443===_||80===_||(p.Host+=":"+x.port),f.user){"undefined"==typeof f.password&&(f.password="");var T=new r(f.user+":"+f.password);p.Authorization="Basic "+T.toString("base64")}"GET"===f.method||"HEAD"===f.method?e=null:e?(p["Content-Length"]=r.isBuffer(e)?e.length:r.byteLength(e),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===f.method&&(p["Content-Length"]=0);var C={host:d,port:_,path:k,method:f.method,headers:p,agent:!1,withCredentials:u.withCredentials};if(b=!1,f.async){var D=v?l.request:c.request;y=!0,u.dispatchEvent("readystatechange");var M=function I(e){if(s=e,301===s.statusCode||302===s.statusCode||303===s.statusCode||307===s.statusCode){f.url=s.headers.location;var t=i.parse(f.url);d=t.hostname;var r={hostname:t.hostname,port:t.port,path:t.path,method:303===s.statusCode?"GET":f.method,headers:p,withCredentials:u.withCredentials};return n=D(r,I).on("error",B),void n.end()}s.setEncoding("utf8"),S(u.HEADERS_RECEIVED),u.status=s.statusCode,s.on("data",function(e){e&&(u.responseText+=e),y&&S(u.LOADING)}),s.on("end",function(){y&&(S(u.DONE),y=!1)}),s.on("error",function(e){u.handleError(e)})},B=function(e){u.handleError(e)};n=D(C,M).on("error",B),e&&n.write(e),n.end(),u.dispatchEvent("loadstart")}else{var A=".node-xmlhttprequest-content-"+t.pid,O=".node-xmlhttprequest-sync-"+t.pid;a.writeFileSync(O,"","utf8");for(var j="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(v?"s":"")+".request;var options = "+JSON.stringify(C)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+A+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+O+"');});response.on('error', function(error) {fs.writeFileSync('"+A+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+O+"');});}).on('error', function(error) {fs.writeFileSync('"+A+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+O+"');});"+(e?"req.write('"+JSON.stringify(e).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",W=o(t.argv[0],["-e",j]);a.existsSync(O););var R=JSON.parse(a.readFileSync(A,"utf8"));W.stdin.end(),a.unlinkSync(A),R.err?u.handleError(R.err):(s=R.data,u.status=R.data.statusCode,u.responseText=R.data.text,S(u.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,b=!0,S(this.DONE),this.dispatchEvent("error")},this.abort=function(){n&&(n.abort(),n=null),p=h,this.status=0,this.responseText="",this.responseXML="",b=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!y||this.readyState===this.DONE||(y=!1,S(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in x||(x[e]=[]),x[e].push(t)},this.removeEventListener=function(e,t){e in x&&(x[e]=x[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof u["on"+e]&&u["on"+e](),e in x)for(var t=0,n=x[e].length;n>t;t++)x[e][t].call(u)};var S=function(e){(e==u.LOADING||u.readyState!==e)&&(u.readyState=e,(f.async||u.readyState<u.OPENED||u.readyState===u.DONE)&&u.dispatchEvent("readystatechange"),u.readyState!==u.DONE||b||(u.dispatchEvent("load"),u.dispatchEvent("loadend")))}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:16,buffer:3,child_process:1,fs:1,http:8,https:12,url:34}],77:[function(e,t){t.exports={release:"0.0.0",clientID:void 0,webSocketTimeout:15e3,api:{host:"https://a.wunderlist.com/api"},realtime:{host:"wss://socket.wunderlist.com:8443/api/v1/sync"}}},{}],78:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=r.prototype,o=r.extend({properties:{loadDurationTime:void 0,loadStarted:!1,loadStartTime:void 0,latencyTime:void 0,startTime:void 0,url:void 0,xhr:void 0},error:i.fail});t.exports=o},{"wunderbits.core":48}],79:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=r.extend({properties:{startTime:void 0,endTime:void 0,requestID:void 0,uri:void 0}});t.exports=i},{"wunderbits.core":48}],80:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=n.mixins.WBBindableMixin,o=n.mixins.WBEventsMixin,a=e("../io/IO"),s=15e3,u=r.extend({mixins:[i,o],init:function(e){var t=this;t.setupIO(e.config),t.startPolling()},destroy:function(){var e=this;e.poller&&clearInterval(e.poller)},setupIO:function(e){var t=this;if(!t.io){var n=new a({config:e});t.io=n.io,t.url=e.api.host+"/health"}},startPolling:function(){var e=this;e.poller&&clearInterval(e.poller),e.poller=setInterval(function(){e.checkApiHealth()},s)},checkApiHealth:function(){var e=this;e.io.get(e.url).done(e.onHealthy,e).fail(e.onUnhealthy,e)},onHealthy:function(){var e=this;e.trigger("healthy")},onUnhealthy:function(){var e=this;e.trigger("unhealthy")}});t.exports=u},{"../io/IO":83,"wunderbits.core":48}],81:[function(e,t){(function(n){var r=e("wunderbits.core"),i=e("../lib/browserWindow"),o=r.WBSingleton,a=i?i.navigator:{},s=n.process||{},u=a.userAgent||"node "+s.version,c="dev",l=o.extend({headers:{"x-client-platform":"web","x-client-product":"wunderlist","x-client-product-version":null,"x-client-system":u,"x-client-system-version":"Standard","x-client-product-git-hash":null},getProductVersion:function(e){var t=c,n=e.name;return e.release&&"production"===n?t=e.release:e.release&&n?t=e.release+"-"+n:e.release&&(t=e.release+"-"+c),t},init:function(e){var t=this,n=e,r=t.headers;r["x-client-product-version"]=t.getProductVersion(n);var i=/\[(.*)\]/.exec(n.gitHash);i=i&&i[1],r["x-client-product-git-hash"]=i||c,n.testing&&(r["x-client-testing"]="true"),n.product&&(r["x-client-product"]=n.product)}});t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browserWindow":91,"wunderbits.core":48}],82:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=r.extend({compileParams:function(e){var t,n=!0,r="";for(var i in e)t=encodeURIComponent(e[i]),r+=(n?"?":"&")+i+"="+encodeURIComponent(t),n&&(n=!1);return r},generateURI:function(e,t){var n=this;return e+n.compileParams(t)}});t.exports=i},{"wunderbits.core":48}],83:[function(e,t){var n=e("wunderbits.core"),r=n.lib.createUID,i=n.WBDeferred,o=n.mixins.WBBindableMixin,a=n.mixins.WBEventsMixin,s=e("./IOBase"),u=s.prototype,c=e("magiconsole"),l=new c("SDK:IO"),f=s.extend({mixins:[o,a],initialize:function(e){var t=this;u.initialize.apply(t,arguments),t.config=e.config,t.requests={},t.wrapVerbs()},wrapVerbs:function(){var e=this,t=e.io;["get","patch","post","put","delete"].forEach(function(n){t["_"+n]=t[n],t[n]=e.requestWrapper.bind(e,n)})},requests:{},tokens:{id:"([-])?[0-9]+",version:"v(\\d)+",provider:"[a-z]+"},authFreeRoutes:{api:["health","{{version}}/oauth/{{provider}}/exchange","{{version}}/signup","{{version}}/authenticate","{{version}}/user/password/reset"]},extendHeaders:function(e){var t=this,n=t.config.clientID,r=t.config.deviceID,i=t.config.instanceID;return n&&(e["x-client-id"]=n),r&&(e["x-client-device-id"]=r),i&&(e["x-client-instance-id"]=i),"function"==typeof t.config.extendHeaders&&t.config.extendHeaders(e),u.extendHeaders.apply(t,arguments)},setAuthorization:function(e){var t=this,n=t.config.accessToken;n&&(e["x-access-token"]=n)},requestWrapper:function(e,t,n,r,o){var a=this,s=new i,u={};return r||(r=a.generateUID()),a.requests[r]=s,u["x-client-request-id"]=r,o=o?parseInt(o,10):6e4,a.io["_"+e](t,n,u,o).done(function(e,n){l.log(n.status,t),s.resolve(e,n.status)}).fail(function(e,n){l.error(n.status,n.statusText,t),s.reject(e,n.status),401===n.status&&a.trigger("unauthorized")}).always(function(){a.requests[r]=void 0}),s.promise()},generateUID:function(){for(var e,t=this;!e||!t.isUIDValid(e);)e=r();return e},isUIDValid:function(e){return!(e in this.requests)},cancelInflightCreate:function(e,t,n){var r=this,i=r.requests[e];if(l.debug("cancelling request locally",e,"alive?",!!i),i){r.requests[e]=void 0;var o=t?{id:t}:{};o.revision=n,i.resolve(o,200)}}});t.exports=f},{"./IOBase":84,magiconsole:37,"wunderbits.core":48}],84:[function(e,t){var n=e("wunderbits.core"),r=n.WBClass,i=n.WBDeferred,o=n.lib.assert,a=n.lib.extend,s=e("./io/AjaxTransport"),u=e("../helpers/PlatformHeaders"),c=r.prototype,l=/^(https?:)?\/\/\w+\.wunderlist\.com\//;t.exports=r.extend({initialize:function(e){var t=this;t.config=e.config,s.maxRequests=t.config.maxHttpRequests||5,c.initialize.apply(t,arguments),t.io=s.ajax.bind(s);for(var n=["delete","get","patch","post","put"],r=0,i=n.length;i>r;r++)t.defineVerb(n[r]);t.authFreeRoutes=t.compileRoutes(t.authFreeRoutes,t.tokens)},compileRoutes:function(e,t){function n(e){return e.replace(/\{\{(\w+)\}\}/g,function(e,n){return t[n]})}var r=this;if(!e)return void 0;var i={};for(var o in e){var a=e[o];a=a.map(n);var s=new RegExp("^/("+a.join("|")+")(\\?|$)"),u=r.config[o].host;i[u]=s}return i},extendHeaders:function(e,t){var n=this,r=l.test(t);if(e=e||{},r&&a(e,u.headers),n.authFreeRoutes)for(var i in n.authFreeRoutes){var o=n.authFreeRoutes[i];if(o.test(t))return e}return r&&!e.Authorization&&n.setAuthorization(e,t),e},setAuthorization:function(){},defineVerb:function(e){var t=this;t.io[e]=function(n,r,a,s,u){o(n,"need a url for ajax calls"),a=a||{},a=t.extendHeaders(a,n);var c=new i,l=c.promise();if("object"==typeof r)if("get"===e||"delete"===e){var f,d=[];for(f in r)d.push(f+"="+encodeURIComponent(r[f]));d.length&&(n=n+"?"+d.join("&")),r=void 0}else r=JSON.stringify(r);return t.io(n,{type:e.toUpperCase(),data:r,headers:a,success:c.resolve.bind(c),error:c.reject.bind(c),timeout:s,context:u}),l}}})},{"../helpers/PlatformHeaders":81,"./io/AjaxTransport":86,"wunderbits.core":48}],85:[function(e,t){var n=e("wunderbits.core"),r=n.lib.createUID,i=n.lib.extend,o=n.WBEventEmitter,a=n.WBDeferred,s=e("../helpers/PlatformHeaders"),u=e("./mixins/RequestQueueMixin"),c=e("../deferreds/RestSocketRequestDeferred"),l=e("../wunderbits/lib/SafeParse"),f=e("../helpers/URL"),d=e("./io/WebSocket"),h=e("magiconsole"),p=new h("SDK:RESTSOCKET"),g=u.extend({maxRequests:100,executeRequest:function(e){var t=this,n=e.options;
t.socketRequest(e.deferred,n.method,n.uri,n.data,n.requestID,n.requestType).always(function(){delete t.executingRequests[e.queueID],t.checkQueue()})}}),v=o.prototype,m=o.extend({mixins:[g],timeout:6e4,socket:void 0,ready:void 0,requests:{},initialize:function(e){var t=this;v.initialize.apply(t,arguments),t.appState=e.appState,t.config=e.config,t.ready=new a,t.socket=new d(e),t.requests={},t.wrapVerbs(),t.pollForTimeouts(),t.bindToSocket(),t.ready.resolve()},destroy:function(){var e=this;e.unbindAll(),e.socket&&e.socket.destroy(),e.destroyed=!0},wrapVerbs:function(){var e=this,t=["get","post","put","patch","delete"];t.forEach(function(t){var n=e[t];e[t]=function(){return n.apply(e,arguments)}})},pollForTimeouts:function(){var e=this;e.timer&&clearInterval(e.timer),e.timer=setInterval(function(){e.checkForRequestTimeouts()},1e3)},close:function(e){p.info("close","reconnect = ",e);var t=this;t.cancelPollHealth(),t.socket&&t.socket.close(e)},closeAndReconnect:function(){this.close(!0)},bindToSocket:function(){var e=this;e.bindTo(e.socket,"open","onSocketConnect"),e.bindTo(e.socket,"message","onMessage"),e.bindTo(e.socket,"close","onSocketFalure"),e.bindTo(e.socket,"close","onSocketDisconnect"),e.bindTo(e.socket,"error","onSocketFalure")},onSocketConnect:function(e){var t=this;t.getSocketHealth().done(function(){t.connected=!0,t.trigger("connected",e),t.pollHealth()}).fail(t.closeAndReconnect,t)},pollHealth:function(){var e=this;e.cancelPollHealth(),e.poller=setInterval(function(){e.connected?e.getSocketHealth().fail(e.closeAndReconnect,e):e.cancelPollHealth()},15e3)},cancelPollHealth:function(){var e=this;e.poller&&clearInterval(e.poller)},getSocketHealth:function(){var e=this,t=e.request(void 0,void 0,void 0,void 0,"health").done(function(e,t){p.info("websocket healthy",e||"",t)}).fail(function(e,t){p.error("websocket not healthy",e||"",t)});return t.promise()},onSocketDisconnect:function(e){var t=this;t.cancelPollHealth(),t.connected=!1,t.trigger("disconnected",e)},onMessage:function(e){var t=this,n=l.json(e.data);n&&n.headers&&(n.headers=t.normalizeHeaders(n.headers));var r=t.extractRequestIDFromHeaders(n),i=r&&t.requests[r];switch(t.parseDataBody(n),n.type){case"request":i&&t.handleRequest(i,n,r);break;case"health":i&&t.handleHealthRequest(i,n,r);break;case"desktop_notification":t.handleDesktopNotification(n);break;case"mutation":t.isCorrectMutationVersion(n)&&t.handleMessage(n);break;default:t.handleMessage(n)}},extractRequestIDFromHeaders:function(e){return e&&e.headers&&e.headers["x-client-request-id"]},parseDataBody:function(e){e&&e.body&&(e.body=l.json(e.body))},isCorrectMutationVersion:function(e){var t=!1,n=e.subject.type,r=e.version,i=["file"],o=-1!==i.indexOf(n),a=2===r,s=1===r;return o&&(a||s)?t=!0:s&&(t=!0),t},handleRequest:function(e,t,n){var r=this;e.endTime=Date.now();var i=/^2/.test(t.status);r.logRequestTimings(i,e,t),e[i?"resolve":"reject"](t.body,t.status),r.checkStillAuthorized(t.status),r.requests[n]=void 0},handleHealthRequest:function(e,t,n){var r=this;e.endTime=Date.now();var i=t.body&&t.body.healthy===!0;r.logRequestTimings(i,e,t),e[i?"resolve":"reject"](t.body,t.status),r.requests[n]=void 0},logRequestTimings:function(e,t,n){var r=[n.status,t.uri,t.endTime-t.startTime];e?(this.triggerTiming(t),p.info.apply(p,r)):p.error.apply(p,r)},triggerTiming:function(e){var t=this,n=e.startTime;e.loadDurationTime=e.endTime-n,e.latencyTime=e.loadDurationTime;var r={start:n,end:e.endTime,duration:e.loadDurationTime,latency:e.latencyTime,download:void 0,url:e.uri,type:"websocket"};t.trigger("timing:io",r)},checkStillAuthorized:function(e){var t="unauthorized";401===e&&this.trigger(t)},handleMessage:function(e){var t=this;p.debug("arbitrary message",e),t.trigger("event",e);var n=e&&e.operation;n&&t.trigger(n,e)},handleDesktopNotification:function(e){var t=this;t.trigger("desktopNotification",e)},request:function(e,t,n,r,i){var o=this,a={method:e,uri:t,data:n,requestID:r,requestType:i},s=o.queueRequest(t,a,c);return s.promise()},socketRequest:function(e,t,n,r,i,o){var a=this,s=a.socket;i=i||a.generateUID();var u={type:o||"request"};return a.addHeaders(u,i,o),t&&(u.verb=t),n&&(u.uri=n),"POST"!==t&&"PATCH"!==t&&"PUT"!==t||!r||(u.body=JSON.stringify(r)),e.requestID=i,e.uri=n,e.startTime=Date.now(),a.requests[i]=e,a.appState.isOnline()&&a.socket.isConnected()?s.send(JSON.stringify(u)):e.reject({errors:["no websocket connection available"]},0),e.promise()},addHeaders:function(e,t,n){var r=this,i="health"===n;if(i)e.headers={"x-client-id":r.config.clientID,"x-client-request-id":t};else{var o=r.compileHeaders(t);e.headers=r.normalizeHeaders(o)}},compileHeaders:function(e){var t=this,n={"x-client-request-id":e,"x-client-id":t.appState.attributes.clientID,"x-client-instance-id":t.appState.attributes.instanceID,"x-client-device-id":t.appState.attributes.deviceID,"content-type":"application/json",accept:"application/json"};n=i(n,s.headers),t.config&&"function"==typeof t.config.extendHeaders&&t.config.extendHeaders(n);var r;for(var o in n)r=n[o],(void 0===r||null===r)&&delete n[o];return n},normalizeHeaders:function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t},requestWrapper:function(e,t,n,r){var i=this,o=new a;return t="/api"+t,i.ready.done(function(){i.request(e,t,n,r).done(o.resolve,o).fail(o.reject,o)}),o.promise()},onSocketFalure:function(){var e,t=this;for(var n in t.requests)e=t.requests[n],e&&e.reject({errors:["websocket connection lost"]},0),t.requests[n]=void 0},checkForRequestTimeouts:function(){var e=this,t=Date.now();for(var n in e.requests)e.checkRequestIsTimedout(e.requests[n],t)},checkRequestIsTimedout:function(e,t){var n=this;e&&t-e.startTime>=n.timeout&&(p.error("timeout",e.uri,t-e.startTime),e.reject({errors:["request timedout locally due to no response in "+n.timeout]},408),n.requests[e.requestID]=void 0)},"delete":function(e,t,n){var r=e+f.compileParams(t);return this.requestWrapper("DELETE",r,void 0,n)},get:function(e,t,n){var r=e+f.compileParams(t);return this.requestWrapper("GET",r,void 0,n)},patch:function(e,t,n){return this.requestWrapper("PATCH",e,t,n)},post:function(e,t,n){return this.requestWrapper("POST",e,t,n)},put:function(e,t,n){return this.requestWrapper("PUT",e,t,n)},generateUID:function(){for(var e,t=this;!e||!t.isUIDValid(e);)e=r();return e},isUIDValid:function(e){return!(e in this.requests)},cancelInflightCreate:function(e,t,n){var r=this,i=r.requests[e];if(p.debug("cancelling request locally",e,"alive?",!!i),i){r.requests[e]=void 0;var o=t?{id:t}:{};o.revision=n,i.resolve(o,200)}}});t.exports=m},{"../deferreds/RestSocketRequestDeferred":79,"../helpers/PlatformHeaders":81,"../helpers/URL":82,"../wunderbits/lib/SafeParse":143,"./io/WebSocket":89,"./mixins/RequestQueueMixin":90,magiconsole:37,"wunderbits.core":48}],86:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=n.mixins.WBBindableMixin,o=n.mixins.WBEventsMixin,a=e("../../helpers/URL"),s=e("../../wunderbits/lib/SafeParse"),u=e("./NativeXMLHttpRequest"),c=e("../../deferreds/RequestDeferred"),l=e("../mixins/RequestQueueMixin"),f=l.extend({maxRequests:5,executeRequest:function(e){var t=this,n=e.url,r=e.options,i=e.deferred;t.executingRequests[e.queueID]=e;var o=t.xhrRequest(n,{type:r.type,data:r.data,headers:r.headers,timeout:r.timeout},i);o.done(function(e,n){t.onSuccess(e,n,r)}).fail(function(e,n){t.onFailure(e,n,r)}).always(function(){delete t.executingRequests[e.queueID],t.checkQueue()})}}),d=r.extend({mixins:[i,o,f],xhrRequest:function(e,t,n){var r=this,i=!0,o=t.type,s=t.data;!s||"GET"!==o&&"DELETE"!==o||(e=a.generateURI(e,s),s=void 0);var c=new u;return r.attachXhrListeners(c,n),c.open(o,e,i),t.timeout&&(c.timeout=t.timeout),r.setupXhrHeaders(c,t.headers,s),n.startTime=Date.now(),s?c.send(s):c.send(),n.url=e,n.xhr=c,n},setupXhrHeaders:function(e,t,n){var r="application/json; charset=utf-8";if(t)for(var i in t)e.setRequestHeader(i.toLowerCase(),t[i]);n&&e.setRequestHeader("Content-Type",r),e.setRequestHeader("Accept",r)},attachXhrListeners:function(e,t){var n=this;e.addEventListener("progress",function(r){n.onXhrProgress(r,e,t)},!1),e.addEventListener("load",function(r){n.onXhrLoad(r,e,t)},!1),e.addEventListener("error",function(r){n.onXhrError(r,e,t)},!1),e.addEventListener("abort",function(r){n.onXhrAbort(r,e,t)},!1),e.addEventListener("timeout",function(r){n.onXhrTimeout(r,e,t)},!1)},onXhrLoad:function(e,t,n){var r=this,i=2===parseInt(t.status/100,10);i&&r.triggerTiming(n),n[i?"resolve":"reject"].call(n,t.responseText,t)},triggerTiming:function(e){var t=this,n=Date.now(),r=e.startTime,i=e.loadStartTime;e.loadDurationTime=n-i,e.latencyTime=i-r,t.trigger("timing:io",{start:r,end:n,duration:n-r,latency:e.latencyTime,download:e.loadDurationTime,url:e.url,type:"ajax"})},onXhrProgress:function(e,t,n){n.loadStarted||(n.loadStartTime=Date.now(),n.loadStarted=!0)},onXhrError:function(e,t,n){this.onXhrFail(e,t,n)},onXhrAbort:function(e,t,n){this.onXhrFail(e,t,n)},onXhrTimeout:function(e,t,n){this.onXhrFail(e,t,n)},onXhrFail:function(e,t,n){n.reject(t.responseText,t)},ajax:function(e,t){var n=this,r=n.queueRequest(e,t,c);return r},onSuccess:function(e,t,n){"string"==typeof e&&204!==t.status&&(e=s.json(e)),n.success&&n.success(e,t)},onFailure:function(e,t,n){var r=(t.getResponseHeader("content-type")||"").split(";")[0];"string"==typeof e&&/application\/json/.test(r)&&(e=s.json(t.responseText)),"function"==typeof n.error&&n.error(e,t)}});t.exports=d},{"../../deferreds/RequestDeferred":78,"../../helpers/URL":82,"../../wunderbits/lib/SafeParse":143,"../mixins/RequestQueueMixin":90,"./NativeXMLHttpRequest":88,"wunderbits.core":48}],87:[function(e,t){var n=e("../../lib/browserWindow");t.exports=n?n.WebSocket:e("ws")},{"../../lib/browserWindow":91,ws:38}],88:[function(e,t){var n=e("../../lib/browserWindow");t.exports=n?n.XMLHttpRequest:e("xmlhttprequest").XMLHttpRequest},{"../../lib/browserWindow":91,xmlhttprequest:76}],89:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.lib.assert,o=e("../../helpers/URL"),a=e("./NativeWebSocket"),s=e("../../wunderbits/lib/bindAll"),u=e("magiconsole"),c=new u("SDK:WEBSOCKET"),l=r.prototype,f=r.extend({NativeWebSocketClass:a,socket:void 0,minRetryWait:1e3,maxRetryWait:24e4,currentRetry:0,initialize:function(e){var t=this;t.appState=e.appState,l.initialize.apply(t,arguments);var n=["onSocketClose","onSocketError","onSocketMessage","onSocketOpen"];s(t,n),t.validateToken(),t.connect(),t.bindToAppState()},destroy:function(){var e=this;e.close(),e.unbindAll(),e.destroyed=!0},bindToAppState:function(){var e=this;e.appState&&(e.unbindFrom(e.appState),e.bindTo(e.appState,"change:online",function(){e[e.appState.isOnline()?"connect":"close"]()}))},validateToken:function(){i.string(this.appState.attributes.accessToken,"Cannot instantiate class without an auth token.")},connect:function(){var e=this;c.info("connecting to websocket"),e.socket&&(e.close(),e.unbindFromSocket(e.socket)),e.clearSocketTimeout();var t=e.appState.attributes,n={client_id:t.clientID,access_token:t.accessToken,client_device_id:t.deviceID,client_instance_id:t.instanceID},r=e.appState.attributes.realtime.host,i=o.generateURI(r,n),a=e.NativeWebSocketClass;try{e.socket=new a(i),e.bindToSocket()}catch(s){c.error("unable to connect to websocket",s)}},isConnected:function(){var e=this.socket;return!(!e||1!==e.readyState)},send:function(e){try{this.socket.send(e)}catch(t){c.error("could not send websocket message",t)}},close:function(e){var t=this;t.socket&&(t.socket.close(),t.unbindFromSocket(),t.socket=void 0),e&&t.reconnectToSocket()},bindToSocket:function(){var e=this,t=e.socket;t&&(t.addEventListener("close",e.onSocketClose),t.addEventListener("error",e.onSocketError),t.addEventListener("message",e.onSocketMessage),t.addEventListener("open",e.onSocketOpen),e.trackTimeout())},unbindFromSocket:function(){var e=this,t=e.socket,n=t&&"function"==typeof t.removeEventListener;n&&(t.removeEventListener("close",e.onSocketClose),t.removeEventListener("error",e.onSocketError),t.removeEventListener("message",e.onSocketMessage),t.removeEventListener("open",e.onSocketOpen))},trackTimeout:function(){var e=this,t=e.appState.attributes.webSocketTimeout,n=Date.now(),r=function(){e.socket&&0===e.socket.readyState&&(Date.now()-n<t?e.socketTimeout=setTimeout(r,1e3):(e.onSocketTimeout(),e.socket&&(e.socket.close(),e.socket=void 0)))};r()},clearSocketTimeout:function(){var e=this;e.socketTimeout&&clearTimeout(e.socketTimeout)},onSocketTimeout:function(e){var t=this;t.clearSocketTimeout(),c.error("timeout",e),t.trigger("timeout")},onSocketError:function(e){var t=this;t.clearSocketTimeout(),c.error("error",e),t.trigger("error",e)},onSocketOpen:function(e){var t=this;t.currentRetry=0,t.clearReconnectTimeout(),c.info("opened",e),t.trigger("open",e)},onSocketClose:function(e){var t=this;t.clearSocketTimeout(),t.socket=void 0,c.info("closed",e),t.trigger("close",e),t.reconnectToSocket()},onSocketMessage:function(e){var t=this;t.trigger("message",e)},clearReconnectTimeout:function(){var e=this;e.reconnectTimeout&&clearTimeout(e.reconnectTimeout)},reconnectToSocket:function(){var e=this;if(e.clearReconnectTimeout(),e.appState.isOnline()){var t=e.getReconnectWait();e.reconnectTimeout=setTimeout(function(){!e.destroyed&&e.connect()},t)}},getReconnectWait:function(){var e=this;e.currentRetry+=1;var t=e.minRetryWait+100*Math.pow(2,e.currentRetry),n=Math.round(Math.random()*(t/2));return t+=n,t=t>=e.maxRetryWait?e.maxRetryWait:t,t=t<e.minRetryWait?e.minRetryWait:t}});t.exports=f},{"../../helpers/URL":82,"../../wunderbits/lib/bindAll":144,"./NativeWebSocket":87,magiconsole:37,"wunderbits.core":48}],90:[function(e,t){var n=e("wunderbits.core"),r=n.lib.createUID,i=n.WBMixin;t.exports=i.extend({maxRequests:5,requestsQueue:[],executingRequests:{},reset:function(){var e=this;e.requestsQueue=[],e.executingRequests={}},checkQueue:function(){var e,t=this,n=Object.keys(t.executingRequests).length;n<t.maxRequests&&(e=t.requestsQueue.shift(),e&&t.executeRequest(e))},queueRequest:function(e,t,n){var i=this,o=new n;return i.requestsQueue.push({deferred:o,url:e,options:t,queueID:r()}),i.checkQueue(),o},executeRequest:function(e){throw new Error("You must override RequestQueueMixin#executeRequest!",e)}})},{"wunderbits.core":48}],91:[function(e,t){var n;try{n=window}catch(r){}t.exports=n},{}],92:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.WBStateModel,o=n.lib.clone,a=e("../wunderbits/WBOnlineStatus"),s=i.prototype,u=i.extend({defaults:{api:{host:"https://a.wunderlist.com/api"},realtime:{host:"wss://socket.wunderlist.com:8443/api/v1/sync"},accessToken:void 0,clientID:void 0,debug:!1,online:!0,webSocketTimeout:15e3,maxHttpRequests:5,checkHealth:!0},initialize:function(){var e=this;s.initialize.apply(e,arguments),e.initialized=new r,setTimeout(function(){e.destroyed||(e.watchOnlineState(),e.initialized.resolve())})},destroy:function(){var e=this;e.onlineState&&e.onlineState.destroy(),s.destroy.apply(e,arguments)},watchOnlineState:function(){var e=this;e.onlineState&&(e.unbindFrom(e.onlineState),e.onlineState.destroy()),e.onlineState=new a({config:e.toJSON()}),e.set("online",e.onlineState.isOnline()),e.bindTo(e.onlineState,"online","onOnline"),e.bindTo(e.onlineState,"offline","onOffline")},onOnline:function(){this.set("online",!0)},onOffline:function(){this.set("online",!1)},isOnline:function(){return!!this.attributes.online},toJSON:function(){return o(this.attributes)}});t.exports=u},{"../wunderbits/WBOnlineStatus":142,"wunderbits.core":48}],93:[function(e,t){var n=e("./Conversations");t.exports=n.extend({baseUrl:"/activities",type:"activities"})},{"./Conversations":96}],94:[function(e,t){var n=e("./Service");t.exports=n.extend({baseUrl:"/",login:function(e,t){var n=this,r={email:e,password:t};return n.post(n.baseUrl+"authenticate",r).promise()},signup:function(e,t,n,r,i){var o=this,a={name:e,email:t,password:n,password_confirmation:r,account_locale:i},s=o.post(o.baseUrl+"signup",a);return s.promise()},exchangeToken:function(e,t){var n=this,r={provider_token:t},i=n.baseUrl+"oauth/"+e+"/exchange",o=n.post(i,r);return o.promise()}})},{"./Service":123}],95:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=e("./Service"),o=i.prototype;t.exports=i.extend({initialize:function(){var e=this;o.initialize.apply(e,arguments),e.validateAccessParams()},validateAccessParams:function(){var e=this,t=e.appState.attributes;r.string(t.clientID,"This service requires a client ID."),r.string(t.accessToken,"This service requires an access token.")}})},{"./Service":123,"wunderbits.core":48}],96:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/conversations",type:"conversations",all:function(e,t){var n=this;return n.get(n.baseUrl,e,t).promise()}})},{"./AuthenticatedService":95}],97:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({api:{host:"https://backup.wunderlist.com/api"},baseUrl:"/export",type:"export",all:function(e){var t=this;return t.get(t.baseUrl,void 0,e,3e5).promise()}})},{"./ServiceGetOnly":124}],98:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({baseUrl:"/features",type:"feature"})},{"./ServiceGetOnly":124}],99:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:FILES"),s=e("./AuthenticatedService"),u=s.prototype;t.exports=s.extend({apiVersion:2,baseUrl:"/files",type:"file",create:function(e,t){var n=this;try{n.validateCreateData(e)}catch(r){return a.error(r),(new i).reject({errors:[r.toString()]},0).promise()}var o=u.create.call(n,e,t);return o.promise()},validateCreateData:function(e){e=e||{};var t=Object.keys(e).length,n=" required for file creation";r(t,"data"+n),r.number(e.task_id,"data.task_id"+n)}})},{"./AuthenticatedService":95,magiconsole:37,"wunderbits.core":48}],100:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/folders",type:"folder"})},{"./AuthenticatedService":95}],101:[function(e,t){var n=e("./Service");t.exports=n.extend({baseUrl:"/user/password/reset",requestReset:function(e,t){var n=this,r={email:e};return n.post(n.baseUrl,r,t)}})},{"./Service":123}],102:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({baseUrl:"/ical/feed",type:"ical_feed",getURL:function(e){var t=this;return t.get(t.baseUrl,void 0,e).promise()}})},{"./ServiceGetOnly":124}],103:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({api:{host:"https://backup.wunderlist.com/api"},baseUrl:"/import",type:"import",create:function(e,t){var n=this;return n.post(n.baseUrl,e,t,3e5).promise()}})},{"./AuthenticatedService":95}],104:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/invite_tokens",type:"invite_token",create:function(e,t){var n=this;return n.post(n.baseUrl,e,t)}})},{"./AuthenticatedService":95}],105:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/invites",type:"invite",create:function(e,t){var n=this;return n.post(n.baseUrl,e,t)}})},{"./AuthenticatedService":95}],106:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({baseUrl:"/invoices",type:"invoice"})},{"./ServiceGetOnly":124}],107:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/list_positions",type:"list_position"})},{"./AuthenticatedService":95}],108:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/list_reminders_collections",type:"list_reminders_collection"})},{"./AuthenticatedService":95}],109:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:LISTS"),s=e("./Memberships"),u=e("./AuthenticatedService"),c=u.prototype;t.exports=u.extend({baseUrl:"/lists",type:"list",initialize:function(e){var t=this;c.initialize.apply(t,arguments),t.membershipsService=new s(e)},create:function(e){var t=this;try{t.validateCreateData(e)}catch(n){return a.error(n),(new i).reject({errors:[n.toString()]},0).promise()}var r=c.create.apply(t,arguments);return r.promise()},accepted:function(){var e=this,t=new i;return e.membershipsService.mine().done(function(n){var r=n.filter(function(e){return"accepted"===e.state}),i=r.map(function(e){return e.list_id});e.all().done(function(e){var n=e.filter(function(e){return i.indexOf(e.id)>-1});t.resolve(n)}).fail(t.reject,t)}).fail(t.reject,t),t.promise()},validateCreateData:function(e){e=e||{},r(e.title,"Title is required for list creation.")}})},{"./AuthenticatedService":95,"./Memberships":110,magiconsole:37,"wunderbits.core":48}],110:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=e("./User"),o=e("./AuthenticatedService"),a=o.prototype;t.exports=o.extend({baseUrl:"/memberships",type:"membership",initialize:function(e){var t=this;a.initialize.apply(t,arguments),t.userService=new i(e)},mine:function(){var e=this,t=new r;return e.userService.all().done(function(n){e.forUser(n.id).done(t.resolve,t).fail(t.reject,t)}).fail(t.reject,t),t.promise()}})},{"./AuthenticatedService":95,"./User":138,"wunderbits.core":48}],111:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin;t.exports=r.extend({})},{"wunderbits.core":48}],112:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:CREATE"),s=e("./BaseServiceMixin");t.exports=s.extend({create:function(e,t){var n=this,o=e&&Object.keys(e).length;try{r(o,"Creation requires data.")}catch(s){return a.error(s),(new i).reject({errors:[s.toString()]},0).promise()}return e=n.cleanCreateData(e),n.post(n.baseUrl,e,t)},cleanCreateData:function(e){for(var t in e)(null===e[t]||void 0===e[t])&&delete e[t];return e}})},{"./BaseServiceMixin":111,magiconsole:37,"wunderbits.core":48}],113:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin,i=n.lib.assert,o=n.WBDeferred,a=e("magiconsole"),s=new a("SDK:SERVICE:DELETE"),u=e("../../helpers/URL");t.exports=r.extend({deleteID:function(e,t,n){try{i.number(e,"Deletion requires an id."),i.number(t,"Deletion requires a revision.")}catch(r){return s.error(r),(new o).reject({errors:[r.toString()]},0).promise()}var a={revision:t},c=u.compileParams(a),l=this;return l["delete"](l.baseUrl+"/"+e+c,void 0,n)}})},{"../../helpers/URL":82,magiconsole:37,"wunderbits.core":48}],114:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin;t.exports=r.extend({getID:function(e,t){var n=this;return n.get(n.baseUrl+"/"+e,void 0,t)},getItemsForAttribute:function(e,t,n,r){var i=this,o={};return o[t]=n,i.get(e,o,r).promise()},forUser:function(e,t){var n=this;return n.getItemsForAttribute(n.baseUrl,"user_id",e,t)},forTask:function(e,t){var n=this;return n.getItemsForAttribute(n.baseUrl,"task_id",e,t)},forList:function(e,t){var n=this;return n.getItemsForAttribute(n.baseUrl,"list_id",e,t)},all:function(e){var t=this;return t.get(t.baseUrl,void 0,e).promise()},forAllLists:function(e){var t=this;return t.get(t.baseUrl+"/lists",void 0,e)},forAllTasksForList:function(e,t){var n=this;return n.getItemsForAttribute(n.baseUrl+"/tasks","list_id",e,t)}})},{"wunderbits.core":48}],115:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:UPDATE"),s=e("./BaseServiceMixin");t.exports=s.extend({update:function(e,t,n,o){var s=this,u=n&&Object.keys(n).length;try{r.number(e,"Updating a resource requires an id of type number."),r.number(t,"Updating a resource requires a revision of type number."),r(u,"Updating a resource requires data to be sent.")}catch(c){return a.error(c),(new i).reject({errors:[c.toString()]},0)}return n.revision=t,n=s.prepareDataForPatch(n),s.patch(s.baseUrl+"/"+e,n,o)},prepareDataForPatch:function(e){var t,n=[];for(var r in e)t=e[r],(null===t||void 0===t)&&(n.push(r),delete e[r]);return n.length&&(e.remove=n),e}})},{"./BaseServiceMixin":111,magiconsole:37,"wunderbits.core":48}],116:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/notes",type:"note",forList:function(e,t,n){var r=this,i=r.get(r.baseUrl,{list_id:e,completed_tasks:!!t},n);return i.promise()}})},{"./AuthenticatedService":95}],117:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/oauth/",connect:function(e,t){var n=this,r={provider_token:t},i=n.baseUrl+e+"/connect",o=n.post(i,r);return o.promise()}})},{"./AuthenticatedService":95}],118:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/payments/adyen",type:"payment",generateURL:function(e,t,n){var r=this,i={product:e,platform:t};return r.post(r.baseUrl+"/generate_url",i,n)}})},{"./AuthenticatedService":95}],119:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/previews",type:"preview",getPreview:function(e,t,n,r){var i=this,o={file_id:e,platform:t,size:n};return i.get(i.baseUrl,o,r)}})},{"./AuthenticatedService":95}],120:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({baseUrl:"/products",type:"product",all:function(e,t,n){var r=this,i={};return i.provider="adyen",e&&(i.currency=e),t&&(i.locale=t),i=Object.keys(i).length?i:void 0,r.get(r.baseUrl,i,n).promise()}})},{"./ServiceGetOnly":124}],121:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/reminders",type:"reminder",forList:function(e,t,n){var r=this,i=r.get(r.baseUrl,{list_id:e,completed_tasks:!!t},n);return i.promise()}})},{"./AuthenticatedService":95}],122:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/root",type:"root"})},{"./AuthenticatedService":95}],123:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.lib.assert,o=n.lib.toArray,a=e("../models/ApplicationState"),s=e("../io/IO"),u=e("./Mixins/ServiceCreate"),c=e("./Mixins/ServiceDelete"),l=e("./Mixins/ServiceGet"),f=e("./Mixins/ServiceUpdate"),d=["get","post","put","patch","delete"],h=r.prototype,p=r.extend({mixins:[u,c,l,f],baseUrl:void 0,apiVersion:1,type:void 0,io:void 0,"delete":void 0,get:void 0,patch:void 0,post:void 0,put:void 0,initialize:function(e){var t=this;h.initialize.apply(t,arguments),t.options=e=e||{},t.appState=e.appState,t.checkAppState(),t.baseUrl="/v"+t.apiVersion+t.baseUrl,t.host=t.api&&t.api.host||t.appState.attributes.api.host,t.options.websocket?t.setupSocketInterfaces():t.setupRestInterfaces()},setupRestInterfaces:function(){var e,t=this;e=t.options.httpIO?t.options.httpIO:new s({config:t.appState.toJSON()});var n=t.io=e;d.forEach(function(e){t[e]=function(){var r=o(arguments);return r[0]=t.host+r[0],n.io[e].apply(void 0,r)}}),t.bindTo(t.io,"unauthorized",function(){!t.destroyed&&t.trigger("unauthorized")})},checkAppState:function(){var e=this;!e.appState&&e.options.config&&(e.appState=new a(e.options.config),e.options.appState=e.appState)},setupSocketInterfaces:function(){var e=this,t=e.options.restSocket;i(t,"No RestSocket instance available."),e.io=t,d.forEach(function(t){e[t]=e.io[t]})},destroy:function(){function e(e){for(var t in e)e[t]=void 0}var t=this;t.unbindAll(),e(t),t.destroyed=!0},destroyed:!1});t.exports=p},{"../io/IO":83,"../models/ApplicationState":92,"./Mixins/ServiceCreate":112,"./Mixins/ServiceDelete":113,"./Mixins/ServiceGet":114,"./Mixins/ServiceUpdate":115,"wunderbits.core":48}],124:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.lib.toArray,o=e("./Service"),a=e("./Mixins/ServiceGet"),s=e("../io/IO"),u=function(){throw new Error("Method not allowed for this service.")};t.exports=o.extend({mixins:[a],setupRestInterfaces:function(){var e=this,t=e.io=new s({config:e.appState.toJSON()});e.get=function(){var n=i(arguments);return n[0]=e.host+n[0],t.io.get.apply(void 0,n)}},setupSocketInterfaces:function(){var e=this,t=e.options.restSocket;r(t,"No RestSocket instance available."),e.io=t,e.get=e.io.get},"delete":u,patch:u,post:u,put:u})},{"../io/IO":83,"./Mixins/ServiceGet":114,"./Service":123,"wunderbits.core":48}],125:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/services",type:"service"})},{"./AuthenticatedService":95}],126:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/settings",type:"setting"})},{"./AuthenticatedService":95}],127:[function(e,t){var n=e("./ServiceGetOnly");t.exports=n.extend({baseUrl:"/smartcards",type:"smartcard",forTask:function(e,t,n,r){var i=this,o={task_id:e};return void 0!==t&&void 0!==n&&(o.lat=t,o["long"]=n),i.get(i.baseUrl,o,r).promise()}})},{"./ServiceGetOnly":124}],128:[function(e,t){var n=e("./Service");t.exports=n.extend({baseUrl:"/subscriptions",type:"subscription"})},{"./Service":123}],129:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/subtask_positions",type:"subtask_position",forList:function(e,t,n){var r=this,i=r.get(r.baseUrl,{list_id:e,completed_tasks:!!t},n);return i.promise()}})},{"./AuthenticatedService":95}],130:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:SUBTASKS"),s=e("./AuthenticatedService"),u=s.prototype;t.exports=s.extend({baseUrl:"/subtasks",type:"subtask",create:function(e){var t=this;try{t.validateCreateData(e)}catch(n){return a.error(n),(new i).reject({errors:[n.toString()]},0).promise()}var r=u.create.apply(t,arguments);return r.promise()},forList:function(e,t,n){var r=this,i=r.get(r.baseUrl,{list_id:e,completed_tasks:!!t},n);return i.promise()},validateCreateData:function(e){e=e||{};var t=Object.keys(e).length,n=" required for subtask creation";r(t,"data"+n),r.number(e.task_id,"data.task_id"+n),r.string(e.title,"data.title"+n)}})},{"./AuthenticatedService":95,magiconsole:37,"wunderbits.core":48}],131:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/task_comments",type:"task_comment"})},{"./AuthenticatedService":95}],132:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/task_comments_states",type:"task_comments_state"})},{"./AuthenticatedService":95}],133:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/task_positions",type:"task_position"})},{"./AuthenticatedService":95}],134:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:TASKS"),s=e("./AuthenticatedService"),u=s.prototype;t.exports=s.extend({baseUrl:"/tasks",type:"task",forList:function(e,t,n){var r=this,i=r.get(r.baseUrl,{list_id:e,completed:!!t},n);return i.promise()},create:function(e){var t=this;try{t.validateCreateData(e)}catch(n){return a.error(n),(new i).reject({errors:[n.toString()]},0).promise()}var r=u.create.apply(t,arguments);return r.promise()},validateCreateData:function(e){e=e||{};var t=Object.keys(e).length,n=" required for task creation";r(t,"data"+n),r.number(e.list_id,"data.list_id"+n),r.string(e.title,"data.title"+n)}})},{"./AuthenticatedService":95,magiconsole:37,"wunderbits.core":48}],135:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/lists/tasks_count",type:"tasks_count"})},{"./AuthenticatedService":95}],136:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/unread_activity_counts",type:"unread_activities_count"})},{"./AuthenticatedService":95}],137:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/uploads",type:"upload",create:function(e,t){var n=this;return n.post(n.baseUrl,e,t)},getPart:function(e,t,n){var r=this,i={part_number:t};return r.get(r.baseUrl+"/"+e+"/parts",i,n)},finish:function(e,t){var n=this,r={state:"finished"};return n.patch(n.baseUrl+"/"+e,r,t)}})},{"./AuthenticatedService":95}],138:[function(e,t){var n=e("wunderbits.core"),r=n.lib.assert,i=n.WBDeferred,o=e("magiconsole"),a=new o("SDK:SERVICE:USER"),s=e("./AuthenticatedService");t.exports=s.extend({baseUrl:"/user",type:"user",update:function(e,t,n){var o=this,s=t&&Object.keys(t).length;try{r.number(e,"Updating a user requires a revision of type number."),r(s,"Updating a user requires data to be sent.")}catch(u){return a.error(u),(new i).reject({errors:[u.toString()]},0).promise()}return t.revision=e,t=o.prepareDataForPatch(t),o.patch(o.baseUrl,t,n)},changeEmail:function(e,t,n){var r=this,i={email:e,password:t};
return r.patch(r.baseUrl+"/email",i,n)},changePassword:function(e,t,n){var r=this,i={password:e,old_password:t};return r.patch(r.baseUrl+"/password",i,n)},deleteSelf:function(e,t){var n=this,r={password:e};return n["delete"](n.baseUrl,r,t)}})},{"./AuthenticatedService":95,magiconsole:37,"wunderbits.core":48}],139:[function(e,t){var n=e("./Service");t.exports=n.extend({baseUrl:"/track"})},{"./Service":123}],140:[function(e,t){var n=e("./AuthenticatedService");t.exports=n.extend({baseUrl:"/users",type:"user"})},{"./AuthenticatedService":95}],141:[function(e,t){var n=e("./ServiceGetOnly"),r={activities:e("./Activities"),auth:e("./Auth"),conversations:e("./Conversations"),"export":e("./Export"),features:e("./Features"),files:e("./Files"),forgot_password:e("./ForgotPassword"),"import":e("./Import"),invites:e("./Invites"),invite_tokens:e("./InviteTokens"),invoices:e("./Invoices"),ical_feed:e("./IcalFeed"),folders:e("./Folders"),list_positions:e("./ListPositions"),list_reminders_collections:e("./ListRemindersCollections"),lists:e("./Lists"),memberships:e("./Memberships"),notes:e("./Notes"),oauth:e("./OAuth"),payments:e("./Payments"),previews:e("./Previews"),products:e("./Products"),reminders:e("./Reminders"),root:e("./Root"),services:e("./Services.js"),settings:e("./Settings"),subscriptions:e("./Subscriptions"),subtask_positions:e("./SubtaskPositions"),subtasks:e("./Subtasks"),task_comments:e("./TaskComments"),task_comments_states:e("./TaskCommentsStates"),task_positions:e("./TaskPositions"),tasks:e("./Tasks"),tasks_counts:e("./TasksCounts"),unread_activities_counts:e("./UnreadActivitiesCounts"),uploads:e("./Uploads"),user:e("./User"),userEvents:e("./UserEvents"),users:e("./Users"),smartcards:e("./Smartcards")},i=["list","task"];i.forEach(function(e){var t=e+"_revisions";r[t]=n.extend({baseUrl:"/"+t,type:t})}),t.exports=r},{"./Activities":93,"./Auth":94,"./Conversations":96,"./Export":97,"./Features":98,"./Files":99,"./Folders":100,"./ForgotPassword":101,"./IcalFeed":102,"./Import":103,"./InviteTokens":104,"./Invites":105,"./Invoices":106,"./ListPositions":107,"./ListRemindersCollections":108,"./Lists":109,"./Memberships":110,"./Notes":116,"./OAuth":117,"./Payments":118,"./Previews":119,"./Products":120,"./Reminders":121,"./Root":122,"./ServiceGetOnly":124,"./Services.js":125,"./Settings":126,"./Smartcards":127,"./Subscriptions":128,"./SubtaskPositions":129,"./Subtasks":130,"./TaskComments":131,"./TaskCommentsStates":132,"./TaskPositions":133,"./Tasks":134,"./TasksCounts":135,"./UnreadActivitiesCounts":136,"./Uploads":137,"./User":138,"./UserEvents":139,"./Users":140}],142:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=e("../helpers/HealthCheck"),o=e("../lib/browserWindow"),a=o?o.navigator:{onLine:!0},s=r.extend({online:null,initialize:function(e){var t=this,n=o&&o.document;if(t.online=a.onLine,o&&o.addEventListener)o.addEventListener("online",t.onOnline.bind(t),!1),o.addEventListener("offline",t.onOffline.bind(t),!1);else if(n){var r=n.body;r.ononline=t.isOnline,r.onoffline=t.isOffline}e.config.checkHealth&&t.bindToApiHealth(e)},destroy:function(){i.destroy()},bindToApiHealth:function(e){var t=this;i.init(e),t.bindTo(i,"healthy","onOnline"),t.bindTo(i,"unhealthy","onOffline")},isOnline:function(){return this.online},onOnline:function(){var e=this;e.online=!0,e.trigger("online")},onOffline:function(){var e=this;e.online=!1,e.trigger("offline")}});t.exports=s},{"../helpers/HealthCheck":80,"../lib/browserWindow":91,"wunderbits.core":48}],143:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=e("magiconsole"),o=new i("SDK:SAFEPARSE"),a=r.extend({json:function(e){try{return JSON.parse(e)}catch(t){o.warn('Unable to parse "'+e+'"')}}});t.exports=a},{magiconsole:37,"wunderbits.core":48}],144:[function(e,t){var n=e("wunderbits.core"),r=n.lib.functions,i=[],o=function(){return function(e){for(var t,n=arguments.length>1?i.concat.apply(i,i.slice.call(arguments,1)):r(e);n.length;)t=n.shift(),"constructor"!==t&&(e[t]=e[t].bind(e))}}();t.exports=o},{"wunderbits.core":48}],145:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.WBDeferred,o=n.lib.extend,a=e("../io/io/AjaxTransport"),s=e("../config/default"),u=e("../models/ApplicationState"),c=e("../io/IO"),l=e("../io/RestSocket"),f=e("../helpers/PlatformHeaders"),d=e("../services"),h=e("magiconsole"),p=r.prototype,g=r.extend({auth:void 0,state:void 0,online:void 0,initialized:void 0,http:void 0,socket:void 0,initialize:function(e){var t=this;p.initialize.apply(t,arguments),t.options=e=o(s,e||{}),t.setupLogging(t.options),t.validateOptions(),t.appState=new u(e),f.init(e);var n=d.auth;t.auth=new n({appState:t.appState});var r=t.state=new i;t.initialized=t.state.promise(),t.online=t.appState.isOnline(),t.start().done(r.resolveWith,r,t).fail(r.reject,r)},setupLogging:function(e){e.logLevel&&h.setLevel(e.logLevel),e.logPattern&&h.setPattern(e.logPattern)},isInitialized:function(){var e=this;return!(!e.initialized||"resolved"!==e.initialized.state())},start:function(){var e,t=this;return e=t.getServices(),t.bindTo(t.appState,"change:online","onOnlineOffline"),t.bindTo(a,"timing:io","onIOTiming"),e},onOnlineOffline:function(){var e=this;e.online=e.appState.isOnline(),e.trigger(e.online?"online":"offline")},onIOTiming:function(e){var t=this;t.trigger("timing:io",e)},getServices:function(){var e,t,n,r=this,o={http:{},socket:{}},a=new i,s=r.appState.attributes.accessToken;return r.createSocket(s).done(function(){r.http=void 0,r.socket=void 0,t=t||r.options.services||Object.keys(d),r.httpIO=new c({config:r.appState.toJSON()});for(var i=0,s=t.length;s>i;i++)e=t[i],n=d[e],o.http[e]=new n({appState:r.appState,httpIO:r.httpIO}),r.bindTo(o.http[e],"unauthorized",r.onUnauthorized),o.socket[e]=new n({websocket:!0,restSocket:r.restSocket,appState:r.appState});r.http=o.http,r.socket=o.socket,a.resolve(o)}),a.promise()},isSocketOnline:function(){var e=this,t=e.restSocket,n=t&&t.socket,r=!(!n||!n.isConnected());return r},getOutlet:function(){var e=this,t=e.isSocketOnline(),n=!!e.options.forceHTTP;return t&&!n?e.socket:e.http},createSocket:function(){var e=this;e.restSocket&&e.unbindFrom(e.restSocket);var t=new l({appState:e.appState,config:e.options});return e.restSocket=t,e.bindTo(t,"event",function(t){e.trigger("event",t)}),e.bindTo(t,"desktopNotification",function(t){e.trigger("desktopNotification",t)}),e.bindTo(t,"unauthorized",e.onUnauthorized),e.bindTo(t,"timing:io","onIOTiming"),t.ready.promise()},onUnauthorized:function(){var e=this;e.trigger("unauthorized"),e.destroy()},destroy:function(){function e(e){for(var t in e)e[t]=void 0}var t=this;t.restSocket&&t.restSocket.destroy(),t.unbindAll();var n=["http","socket"];n.forEach(function(e){var n;for(var r in t[e])n=t[e][r],n.destroy&&n.destroy();t[e]=void 0}),t.appState.destroy(),e(t),t.destroyed=!0},destroyed:!1,validateOptions:function(){var e=this,t=e.options||{},n=!!t.accessToken;if(!t.clientID||!n)throw new Error("Cannot initialize the Wunderlist SDK without a Client ID or auth credentials")},cancelInflightCreate:function(e,t,n){var r=this,i=r.restSocket,o=r.httpIO;i&&i.cancelInflightCreate(e,t,n),o&&o.cancelInflightCreate(e,t,n)}},{services:d,headers:f});t.exports=g},{"../config/default":77,"../helpers/PlatformHeaders":81,"../io/IO":83,"../io/RestSocket":85,"../io/io/AjaxTransport":86,"../models/ApplicationState":92,"../services":141,magiconsole:37,"wunderbits.core":48}]},{},[145])(145)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dist/sync",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.sync=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}a=!1}}function r(){}var i=t.exports={},o=[],a=!1;i.nextTick=function(e){o.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t){(function(n,r){var i=n.browser;if(i&&r.MagiConsole)t.exports=r.MagiConsole;else{var o=r.console,a=e("wunderbits.core/public/WBClass"),s=e("wunderbits.core/public/lib/assert"),u=e("wunderbits.core/public/lib/functions"),c=e("wunderbits.core/public/lib/toArray"),l={error:3,warn:4,log:5,info:6,debug:7},f=Object.keys(l),d={blue:"[34m",cyan:"[36m",green:"[32m",grey:"[90m",magenta:"[35m",red:"[31m",white:"[37m",yellow:"[33m"},h="[39m",p={debug:"cyan",error:"red",info:"grey",log:"white",warn:"yellow"};f.forEach(function(e){"function"!=typeof o[e]&&(o[e]=o.log)});var g={constructor:function(e){var t=this;s.string(e,"namespace must be a string");var n=v.namespaces;return n[e]instanceof v?n[e]:(t.namespace=e,n[e]=t,void a.call(t))},shouldRunLevel:function(e){var t=l[v.level],n=l[e];return void 0===t||void 0===n?!0:v.levelOnly?n===t:t>=n},shouldRun:function(e){var t=this,n=v.pattern,r=v.level,i=n&&n.test(t.namespace);return i=i&&(r?t.shouldRunLevel(e):!0),!(!i||!o)},colorizeString:function(e,t){return d[t]+e+h},colorizeNamespace:function(e,t){var n=p[t];return n&&(e=this.colorizeString(e,n)),e},colorizeStrings:function(e,t){var n=this;return t.forEach(function(r,i){"string"==typeof r&&(t[i]=n.colorizeNamespace(r,e))}),t},injectNamespace:function(e,t){var n=this;if(f.indexOf(e)>=0){t=c(t);var r="["+n.namespace.toUpperCase()+"]";"string"==typeof t[0]?t[0]=r+" "+t[0]:t.unshift(r),!i&&n.colorizeStrings(e,t)}return t}};u(o).forEach(function(e){g[e]=function(){var t=this,n=arguments;t.shouldRun(e)&&(n=t.injectNamespace(e,n),o[e].apply(o,n))}});var v=a.extend(g);if(v.release=function(){v.namespaces={}},v.reset=v.off=function(){v.pattern=void 0,v.level=void 0,v.levelOnly=!1},v.setPattern=function(e){s.string(e,"regexPatternString must be a string"),e="*"===e?".?":e,v.pattern=new RegExp(e)},v.setLevel=function(e,t){s.string(e,"logLevel must be a string"),e="*"===e?void 0:e,v.level=e,v.levelOnly=!!t},!i){var m=n.env,y=m.MLOG,b=m.MLEVEL;y&&v.setPattern(y),b&&v.setLevel(b,"true"===m.MLEVELONLY)}v.release(),v.reset(),t.exports=v}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1,"wunderbits.core/public/WBClass":5,"wunderbits.core/public/lib/assert":13,"wunderbits.core/public/lib/functions":23,"wunderbits.core/public/lib/toArray":29}],3:[function(e,t){var n=e("./WBEventEmitter").extend({mixins:[e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBEventEmitter":7,"./mixins/ObservableHashMixin":33,"./mixins/WBDestroyableMixin":35,"./mixins/WBUtilsMixin":38}],4:[function(e,t){var n=e("./WBSingleton").extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBBindableMixin"),e("./mixins/WBDestroyableMixin"),e("./mixins/WBUtilsMixin"),e("./mixins/ObservableHashMixin")]});t.exports=n},{"./WBSingleton":10,"./mixins/ObservableHashMixin":33,"./mixins/WBBindableMixin":34,"./mixins/WBDestroyableMixin":35,"./mixins/WBEventsMixin":36,"./mixins/WBUtilsMixin":38}],5:[function(e,t){function n(e,t){var r=this;e=e||{};var o=e.mixins||[];delete e.mixins;for(var a,s=i(r,e,t);o.length;)a=o.shift(),"function"==typeof a.applyToClass&&a.applyToClass(s);return s.extend=r.extend||n,s}function r(e){var t=this;t.uid=t.uid||s(),t.options=e||t.options,t.augmentProperties(),t.initialize.apply(t,arguments),t.initMixins.apply(t,arguments)}var i=e("./lib/inherits"),o=e("./lib/extend"),a=e("./lib/clone"),s=e("./lib/createUID"),u=e("./lib/fromSuper"),c={initialize:function(){var e=this;return e},initMixins:function(){for(var e,t=this,n=u.concat(t,"initializers");n.length;)e=n.shift(),"function"==typeof e&&e.apply(t,arguments)},augmentProperties:function(){function e(e,n){var r=typeof n;t[e]="function"===r?n.call(t):"object"===r?a(n,!0):n}var t=this,n=u.merge(t,"properties");for(var r in n)e(r,n[r])}};o(r.prototype,c),r.extend=n,t.exports=r},{"./lib/clone":14,"./lib/createUID":15,"./lib/extend":20,"./lib/fromSuper":22,"./lib/inherits":25}],6:[function(e,t){function n(e,t,n){return function(){var r=this;if(!(r instanceof l))throw new Error(n+" invoked with wrong context");if(r._state!==s.pending)return r;r._args=a(arguments);var i=t?r._args.shift():void 0;return r._state=e,r.trigger(i),r}}var r=e("./WBClass"),i=e("./WBPromise"),o=e("./lib/assert"),a=e("./lib/toArray"),s={pending:0,resolved:2,rejected:4},u={0:["pending"],2:["resolved","resolve"],4:["rejected","reject"]},c={properties:{_state:s.pending,_args:[],handlers:[]},initialize:function(e){var t=this;t._context=e},state:function(){var e=this;return u[e._state][0]},trigger:function(e){var t=this;if(t._state!==s.pending)for(var n,r=t.handlers;r.length;)n=r.shift(),t.invoke(n,e||t._context)},invoke:function(e,t){var n=this,r=n._state,i=e.context||t||n,o=e.args;n._args.forEach(function(e){o.push(e)});var a=e.type,u="then"===a||"done"===a&&r===s.resolved||"fail"===a&&r===s.rejected;u&&e.fn.apply(i,o)},promise:function(){var e=this;return e._promise=e._promise||new i(this),e._promise}};["then","done","fail"].forEach(function(e){c[e]=function(){var t=this,n=a(arguments),r=n.shift(),i=n.shift();return o["function"](r,e+" accepts only functions"),t.handlers.push({type:e,context:i,fn:r,args:n}),t.trigger(),t}}),c.always=c.then,[s.resolved,s.rejected].forEach(function(e){var t=u[e][1];c[t]=n(e,!1,t),c[t+"With"]=n(e,!0,t)});var l=r.extend(c);t.exports=l},{"./WBClass":5,"./WBPromise":9,"./lib/assert":13,"./lib/toArray":29}],7:[function(e,t){var n=e("./WBClass").extend({mixins:[e("./mixins/WBBindableMixin"),e("./mixins/WBEventsMixin")]});t.exports=n},{"./WBClass":5,"./mixins/WBBindableMixin":34,"./mixins/WBEventsMixin":36}],8:[function(e,t){var n=e("./lib/extend"),r=e("./lib/clone"),i=e("./lib/assert"),o=e("./WBSingleton"),a=o.extend({applyTo:function(e){var t,i=r(this.Behavior,!0);"function"==typeof i.initialize&&(t=i.initialize,delete i.initialize);var o=i.properties;return delete i.properties,n(e,i),t&&t.apply(e),o&&n(e,o),e},applyToClass:function(e){i["class"](e,"applyToClass expects a class");var t=e.prototype,o=r(this.Behavior,!0),a=o.initialize;"function"==typeof a&&(!t.hasOwnProperty("initializers")&&(t.initializers=[]),t.initializers.push(a),delete o.initialize);var s=o.properties;return delete o.properties,n(t,o),!t.hasOwnProperty("properties")&&(t.properties={}),s&&n(t.properties,s),e}});a.extend=function(e,t){e||(e={}),t||(t={});var i=r(this.Behavior,!0);t.Behavior=n(i,e);var s=o.extend.call(this,t);return s.extend=a.extend,s},t.exports=a},{"./WBSingleton":10,"./lib/assert":13,"./lib/clone":14,"./lib/extend":20}],9:[function(e,t){function n(e){return function(){var t=this.deferred;return t[e].apply(t,arguments),this}}var r=e("./WBClass"),i={constructor:function(e){this.deferred=e},promise:function(){return this},state:function(){return this.deferred.state()}};["done","fail","then"].forEach(function(e){i[e]=n(e)}),i.always=i.then,t.exports=r.extend(i)},{"./WBClass":5}],10:[function(e,t){function n(e,t){for(var n;e.length;)n=e.shift(),"function"==typeof n.applyTo&&n.applyTo(t)}function r(e){e=e||{};var t=this||s;a.prototype=t;var u=new a,c=e.mixins||[];return e.mixins=void 0,n(c,u),i(u,e),u.extend=r,u.uid=o(),u}var i=e("./lib/extend"),o=e("./lib/createUID"),a=function(){};a.prototype={extend:r};var s=new a;t.exports=s},{"./lib/createUID":15,"./lib/extend":20}],11:[function(e,t){var n=e("./WBClass"),r=e("./mixins/WBDestroyableMixin"),i=r.Behavior.destroy,o=n.extend({mixins:[e("./mixins/WBEventsMixin"),e("./mixins/WBStateMixin"),e("./mixins/WBBindableMixin"),r],initialize:function(e){var t=this;e&&(t.attributes=e)},sync:function(e,t,n){n&&"function"==typeof n.success&&n.success()},fetch:function(e){var t=this,n=e.success,r=this;return e.success=function(t){return r.set(t,e)?(n&&n(r,t,e),void r.trigger("sync",r,t,e)):!1},t.sync("read",t,e)},save:function(e,t,n){var r=this;return r.destroying||(r.set(e,t,n),"object"==typeof e&&(n=t),r.sync("update",r,n)),r},destroy:function(e){var t=this;t.destroying||(t.destroying=!0,i.call(t,e),t.attributes={},t.sync("delete",t,e))}});t.exports=o},{"./WBClass":5,"./mixins/WBBindableMixin":34,"./mixins/WBDestroyableMixin":35,"./mixins/WBEventsMixin":36,"./mixins/WBStateMixin":37}],12:[function(e,t){t.exports={lib:e("./lib"),BaseEventEmitter:e("./BaseEventEmitter"),BaseSingleton:e("./BaseSingleton"),WBClass:e("./WBClass"),WBDeferred:e("./WBDeferred"),WBEventEmitter:e("./WBEventEmitter"),WBMixin:e("./WBMixin"),WBSingleton:e("./WBSingleton"),WBStateModel:e("./WBStateModel"),mixins:e("./mixins")}},{"./BaseEventEmitter":3,"./BaseSingleton":4,"./WBClass":5,"./WBDeferred":6,"./WBEventEmitter":7,"./WBMixin":8,"./WBSingleton":10,"./WBStateModel":11,"./lib":24,"./mixins":39}],13:[function(e,t){function n(e,t){if(!e)throw new Error(t||"")}function r(e){n[e]=function(t,r){n(typeof t===e,r)}}var i=Array.isArray;n.empty=function(e,t){var r=i(e)?e:Object.keys(e);n(0===r.length,t)},n.array=function(e,t){n(i(e),t)},n["class"]=function(e,t){var r=e.prototype;n(r&&r.constructor===e,t)},n.number=function(e,t){n("number"==typeof e&&!isNaN(e),t)};for(var o=["undefined","boolean","string","function","object"];o.length;)r(o.shift());t.exports=n},{}],14:[function(e,t){function n(e,t){if(e=e.slice(),t){for(var n,r=[];e.length;)n=e.shift(),n=n instanceof Object?o(n,t):n,r.push(n);e=r}return e}function r(e){return new Date(e.getTime())}function i(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];n[i]=a instanceof Date?r(a):"object"==typeof a&&null!==a&&t?o(a,t):a}return n}function o(e,t){return a(e)?n(e,t):i(e,t)}var a=Array.isArray;t.exports=o},{}],15:[function(e,t){function n(){return 4294967295*f()|0}function r(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function i(){var e=n();return c[e&u]+c[e>>8&u]+"-"+c[e>>16&15|64]+c[e>>24&u]}function o(){var e=n();return c[63&e|128]+c[e>>8&u]+"-"+c[e>>16&u]+c[e>>24&u]}function a(){var e=n();return c[e&u]+c[e>>8&u]+c[e>>16&u]+c[e>>24&u]}function s(e){var t=[r(),i(),o(),a()].join("-");return(e?e:"").toString()+t}for(var u=255,c=[],l=0;256>l;l++)c[l]=(16>l?"0":"")+l.toString(16);var f=Math.random;t.exports=s},{}],16:[function(e,t){function n(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}t.exports=n},{}],17:[function(e,t){function n(e){var t=r(arguments);return t[0]=1,t.unshift(e),i.apply(null,t)}var r=e("./toArray"),i=e("./delay");t.exports=n},{"./delay":18,"./toArray":29}],18:[function(e,t){function n(e,t,n){var i=r(arguments,3);return setTimeout(function(){var t=n&&n.destroyed;!t&&e.apply(n,i)},t)}var r=e("./toArray");t.exports=n},{"./toArray":29}],19:[function(e,t){var n=e("./assert"),r=e("./toArray"),i=e("./clone"),o=/\s+/,a={trigger:"Cannot trigger event(s) without event name(s)",events:"Cannot bind/unbind without valid event name(s)",callback:"Cannot bind/unbind to an event without valid callback function"},s={properties:{_events:{},_cache:{}},on:function(e,t,r){var i=this;return n.string(e,a.events),n["function"](t,a.callback),i.iterate(e,function(e){i.bind(e,t,r);var n=i._cache;n[e]&&t.apply(r||i,n[e])}),i},off:function(e,t,r){var i=this;if(e&&n.string(e,a.events),!e&&!t&&!r)return i._events={},i;var o=e||Object.keys(i._events);return i.iterate(o,function(e){i.unbind(e,t,r)}),i},once:function(e,t,n){var i=this,o=r(arguments);return o[1]=function(){i.off.apply(i,o),t.apply(n||i,arguments)},i.on.apply(i,o),i},publish:function(e){var t=this,i=r(arguments);return n.string(e,a.events),t.iterate(e,function(e){var n=t._cache;n[e]||(n[e]=i.slice(1),i[0]=e,t.trigger.apply(t,i))}),t},unpublish:function(e){var t=this;return n.string(e,a.events),t.iterate(e,function(e){t._cache[e]=void 0}),t},unpublishAll:function(){var e=this;return e._cache={},e},trigger:function(e){var t=this;n.string(e,a.trigger);var i=r(arguments,1);return t.iterate(e,function(e){t.triggerEvent(e,i)}),t},triggerEvent:function(e,t){for(var n,r=this,i=r._events||{},o=[],a=e.split(":");a.length;)o.push(a.shift()),n=o.join(":"),n in i&&r.triggerSection(n,a,t)},triggerSection:function(e,t,n){var r=this,o=r._events||{},a=o[e]||[];a.forEach(function(e){var o;t.length&&(o=i(n),o.unshift(t)),e.callback.apply(e.context||r,o||n)})},iterate:function(e,t){var r=this,i=e;for("string"==typeof i?i=i.split(o):n.array(i);i.length;)t.call(r,i.shift())},bind:function(e,t,n){var r=this,i=r._events||{},o=i[e]||(i[e]=[]);return o.push({callback:t,context:n}),r},unbind:function(e,t,n){for(var r,i=this,o=i._events,a=o[e]||[],s=[],u=-1,c=a.length;++u<c;)r=a[u],(t&&t!==r.callback||n&&n!==r.context)&&s.push(r);return o[e]=s,i}};t.exports=s},{"./assert":13,"./clone":14,"./toArray":29}],20:[function(e,t){function n(){var e=r(arguments);o(e.length>0,"extend expect one or more objects");for(var t=e.shift();e.length;)i(t,e.shift());return t}var r=e("./toArray"),i=e("./merge"),o=e("./assert");t.exports=n},{"./assert":13,"./merge":27,"./toArray":29}],21:[function(e,t){function n(e,t,n){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===!1)return}function r(e,t,n){for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r)===!1)return}function i(e,t,i){var o=Array.isArray(e)?n:r;o(e,t,i)}t.exports=i},{}],22:[function(e,t){function n(e,t){var r=e.constructor,a=r.prototype,s={};e.hasOwnProperty(t)?s=e[t]:a.hasOwnProperty(t)&&(s=a[t]);var u=r&&r.__super__;return u&&(s=i(n(u,t),s)),o({},s)}function r(e,t){var n=e.constructor,i=n.prototype,o=[];e.hasOwnProperty(t)?o=e[t]:i.hasOwnProperty(t)&&(o=i[t]);var a=n&&n.__super__;return a&&(o=[].concat(r(a,t),o)),[].concat(o)}var i=e("./merge"),o=e("./extend");t.exports={merge:n,concat:r}},{"./extend":20,"./merge":27}],23:[function(e,t){function n(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);return t}t.exports=n},{}],24:[function(e,t){t.exports={assert:e("./assert"),clone:e("./clone"),createUID:e("./createUID"),debounce:e("./debounce"),defer:e("./defer"),delay:e("./delay"),events:e("./events"),extend:e("./extend"),forEach:e("./forEach"),fromSuper:e("./fromSuper"),functions:e("./functions"),inherits:e("./inherits"),isEqual:e("./isEqual"),merge:e("./merge"),size:e("./size"),toArray:e("./toArray"),when:e("./when"),where:e("./where")}},{"./assert":13,"./clone":14,"./createUID":15,"./debounce":16,"./defer":17,"./delay":18,"./events":19,"./extend":20,"./forEach":21,"./fromSuper":22,"./functions":23,"./inherits":25,"./isEqual":26,"./merge":27,"./size":28,"./toArray":29,"./when":30,"./where":31}],25:[function(e,t){function n(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r(i,e),i.prototype=Object.create(e.prototype),r(i.prototype,t),i.prototype.constructor=i,r(i,n),i.__super__=e.prototype,i}var r=e("./extend");t.exports=n},{"./extend":20}],26:[function(e,t){function n(e,t){return e===t}t.exports=n},{}],27:[function(e,t){function n(e){for(var t,n=r(arguments,1);n.length;){t=n.shift();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}var r=e("./toArray");t.exports=n},{"./toArray":29}],28:[function(e,t){function n(e){return!Array.isArray(e)&&(e=Object.keys(e)),e.length}t.exports=n},{}],29:[function(e,t){function n(e){return e=e>0?e:0,new Array(e)}function r(e,t){for(var r=t||0,i=e.length,o=n(i-r),a=r;i>a;a++)o[a-r]=e[a];return o}t.exports=r},{}],30:[function(e,t){function n(){function e(){o.rejectWith(this)}function t(){if("rejected"!==o.state()){var e=s-a.length-1;if(u[e]=i(arguments),a.length){var n=a.shift();n.done(t)}else u.unshift(this),o.resolveWith.apply(o,u)}}var n=this,o=new r(n),a=i(arguments);1===a.length&&Array.isArray(a[0])&&(a=a[0]);var s=a.length,u=new Array(s);if(a.length){a.forEach(function(t){t.fail(e)});var c=a.shift();c.done(t)}else o.resolve();return o.promise()}var r=e("../WBDeferred"),i=e("./toArray");t.exports=n},{"../WBDeferred":6,"./toArray":29}],31:[function(e,t){function n(e,t){var n=[];return r(e,function(e){for(var r in t){if(e[r]!==t[r])return;n.push(e)}}),n}var r=e("./forEach");t.exports=n},{"./forEach":21}],32:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=n.extend({initialize:function(){var e=this;e.controllers=[],e.implemented=[],e["implements"]=r.concat(e,"implements"),e.createControllerInstances(),e.bindOnceTo(e,"destroy","destroyControllers")},createControllerInstances:function(){var e=this,t=e["implements"];"function"==typeof t&&(t=t.call(e));var n,r,i;for(i=t.length;i--;)n=t[i],e.implemented.indexOf(n.toString())<0&&(r=new n(e),e.controllers.push(r),r.parent=e,e.trackImplementedSuperConstructors(n));return e.implemented},trackImplementedSuperConstructors:function(e){var t=this,n=e.__super__,r=n&&n.constructor;r&&(t.implemented.push(r.toString()),t.trackImplementedSuperConstructors(r))},destroyControllers:function(){for(var e,t=this,n=t.controllers;n.length;)e=n.shift(),e.destroyed||e.destroy()}});t.exports=i},{"../WBMixin":8,"../lib/fromSuper":22}],33:[function(e,t){var n=e("../WBMixin"),r=e("../lib/fromSuper"),i=e("../lib/clone"),o=n.extend({initialize:function(){var e=this,t=r.merge(e,"observes");for(var n in t)e.bindToTarget(e.resolveTarget(n),t[n])},bindToTarget:function(e,t){var n=this;for(var r in t)n.bindHandlers(e,r,t[r])},bindHandlers:function(e,t,n){var r=this;for(n="string"==typeof n?[n]:i(n);n.length;)r.bindTo(e,t,n.shift())},resolveTarget:function(e){var t=this;if("self"===e)return t;var n=t[e];if(!n&&"string"==typeof e&&e.indexOf(".")>-1)for(e=e.split("."),n=t;e.length&&n;)n=n[e.shift()];return n}});t.exports=o},{"../WBMixin":8,"../lib/clone":14,"../lib/fromSuper":22}],34:[function(e,t){var n=e("../WBMixin"),r=e("../lib/createUID"),i=n.extend({properties:{_bindings:{},_namedEvents:{}},callbackFactory:function(e,t){var n,r=this;return n="string"==typeof e?r.stringCallbackFactory(e,t):r.functionCallbackFactory(e,t)},stringCallbackFactory:function(e,t){return function(){t[e].apply(t,arguments)}},functionCallbackFactory:function(e,t){return function(){e.apply(t,arguments)}},bindTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments);var a=i||o,s=o.isAlreadyBound(e,t,n,a);if(s)return s;var u,c;o.isTargetJquery(e)?(u=o.callbackFactory(n,a),c=[t,u]):(u="string"==typeof n?a[n]:n,c=[t,u,a]),e.on.apply(e,c);var l={uid:r(),target:e,event:t,originalCallback:n,callback:u,context:a};return o._bindings[l.uid]=l,o.addToNamedBindings(t,l),l},isTargetJquery:function(e){var t=e.constructor;return t&&t.fn&&t.fn.on===e.on},bindOnceTo:function(e,t,n,i){var o=this;o.checkBindingArgs.apply(o,arguments),i=i||o;var a=o.isAlreadyBound(e,t,n,i);if(a)return a;var s=function(){("string"==typeof n?i[n]:n).apply(i,arguments),o.unbindFrom(u)},u={uid:r(),target:e,event:t,originalCallback:n,callback:s,context:i};return e.on(t,s,i),o._bindings[u.uid]=u,o.addToNamedBindings(t,u),u},unbindFrom:function(e){var t=this,n=e&&e.uid;if(!e||"string"!=typeof n)throw new Error("Cannot unbind from undefined or invalid binding");var r=e.event,i=e.context,o=e.callback,a=e.target;if(r&&o&&a&&i){a.off(r,o,i);for(var s in e)"uid"!==s&&delete e[s];delete t._bindings[n];var u=t._namedEvents,c=u[r];if(c){for(var l=c&&c.slice(0),f=c.length-1;f>=0;f--)c[f].uid===n&&l.splice(f,1);u[r]=l}}},unbindFromTarget:function(e){var t=this;if(!e||"function"!=typeof e.on)throw new Error("Cannot unbind from undefined or invalid binding target");var n;for(var r in t._bindings)n=t._bindings[r],n.target===e&&t.unbindFrom(n)},unbindAll:function(){var e,t=this;for(var n in t._bindings)e=t._bindings[n],t.unbindFrom(e)},checkBindingArgs:function(e,t,n,r){if(r=r||this,!e||"function"!=typeof e.on)throw new Error("Cannot bind to undefined target or target without #on method");if(!t||"string"!=typeof t)throw new Error("Cannot bind to target event without event name");if(!n||"function"!=typeof n&&"string"!=typeof n)throw new Error("Cannot bind to target event without a function or method name as callback");if("string"==typeof n&&!r[n])throw new Error("Cannot bind to target using a method name that does not exist for the context")},isAlreadyBound:function(e,t,n,r){var i=this,o=i._namedEvents[t];if(o)for(var a=0,s=o.length;s>a;a++){var u=o[a]||{},c=u.target;if(!c)return!1;var l=e.uid?e.uid===c.uid:!1;if(u.originalCallback===n&&u.context===r&&l)return u}return!1},addToNamedBindings:function(e,t){var n=this;n._namedEvents[e]||(n._namedEvents[e]=[]),n._namedEvents[e].push(t)}});t.exports=i},{"../WBMixin":8,"../lib/createUID":15}],35:[function(e,t){function n(){}function r(e){var t=this;"string"==typeof e&&(e=t[e]),"function"==typeof e&&e.call(t)}var i=e("../lib/forEach"),o=e("../WBMixin"),a=["unbind","unbindAll","onDestroy"],s=o.extend({destroy:function(){var e=this;e.trigger("destroy"),i(a,r,e),e.destroyObject(e),e.destroyed=!0},destroyObject:function(e){var t=this;for(var n in e)t.destroyKey(n,e)},destroyKey:function(e,t){t.hasOwnProperty(e)&&"uid"!==e&&"cid"!==e&&(t[e]="function"==typeof t[e]?n:void 0)}});t.exports=s},{"../WBMixin":8,"../lib/forEach":21}],36:[function(e,t){var n=e("../WBMixin"),r=e("../lib/events"),i=n.extend(r);t.exports=i},{"../WBMixin":8,"../lib/events":19}],37:[function(e,t){var n=e("../lib/clone"),r=e("../lib/merge"),i=e("../lib/extend"),o=e("../lib/isEqual"),a=e("../WBMixin"),s=a.extend({attributes:{},options:{},initialize:function(e,t){var n=this;n.attributes=i({},n.defaults,e),n.options=t||{},n.changed={}},get:function(e){return console.warn("getters are deprecated"),this.attributes[e]},set:function(e,t,n){var i=this;if(null===e)return i;var o,a;if("object"==typeof e?(o=e,n=t):(o={},o[e]=t),n||(n={}),n.silent)r(i.attributes,a);else{var s=i.changes(o,n);i._trigger(o,s,n)}return i},unset:function(e,t){return this.set(e,void 0,i({},t,{unset:!0}))},clear:function(e){var t=this;return t.set(t.defaults,e)},changes:function(e,t){var r,i,a=this,s=[],u=n(a.attributes,!0),c=a.attributes;a.changed={};for(r in e)i=e[r],o(c[r],i)||s.push(r),o(u[r],i)?delete a.changed[r]:a.changed[r]=i,c[r]=t.unset?void 0:i;return s},_trigger:function(e,t,n){for(var r,i=this,o=i.attributes;t&&t.length&&i.trigger;)r=t.shift(),i.trigger("change:"+r,i,o[r],n)}});t.exports=s},{"../WBMixin":8,"../lib/clone":14,"../lib/extend":20,"../lib/isEqual":26,"../lib/merge":27}],38:[function(e,t){var n=e("../WBMixin"),r=e("../WBDeferred"),i=e("../lib/when"),o=e("../lib/toArray"),a=e("../lib/forEach"),s=e("../lib/delay"),u=e("../lib/defer"),c=e("../lib/functions"),l=n.extend({deferred:function(){var e=this;return new r(e)},when:function(){var e=this;return i.apply(e,arguments)},defer:function(e){var t=this,n=o(arguments);return n[1]=n[1]||this,"string"==typeof e&&(n[0]=t[e]),u.apply(null,n)},delay:function(e){var t=this,n=o(arguments);return n[2]=n[2]||t,"string"==typeof e&&(n[0]=t[e]),s.apply(null,n)},forEach:function(e,t,n){var r=this;n=n||r,"string"==typeof t&&(t=r[t]),a(e,t,n)},functions:function(e){return c(e||this)}});t.exports=l},{"../WBDeferred":6,"../WBMixin":8,"../lib/defer":17,"../lib/delay":18,"../lib/forEach":21,"../lib/functions":23,"../lib/toArray":29,"../lib/when":30}],39:[function(e,t){t.exports={ControllableMixin:e("./ControllableMixin"),ObservableHashMixin:e("./ObservableHashMixin"),WBBindableMixin:e("./WBBindableMixin"),WBDestroyableMixin:e("./WBDestroyableMixin"),WBEventsMixin:e("./WBEventsMixin"),WBStateMixin:e("./WBStateMixin"),WBUtilsMixin:e("./WBUtilsMixin")}
},{"./ControllableMixin":32,"./ObservableHashMixin":33,"./WBBindableMixin":34,"./WBDestroyableMixin":35,"./WBEventsMixin":36,"./WBStateMixin":37,"./WBUtilsMixin":38}],40:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=n.WBDeferred,o=n.lib.when,a=n.lib.createUID,s=n.lib.debounce,u=e("./Local/Handlers/Create"),c=e("./Local/Handlers/Update"),l=e("./Local/Handlers/Delete"),f=r.extend({initialize:function(e){var t=this;e=e||{},t.verifyOptions(e),t.sdk=e.sdk,t.trackers=e.trackers,[u,c,l].forEach(function(n){var r=new n(e);t[r.store+"Handler"]=r}),t.tryFlush=s(t.tryFlush,500),t.bindToHandlers()},bindToHandlers:function(){var e=this,t=["create","update","delete"];t.forEach(function(n){n+="dHandler",t.forEach(function(t){e.bindTo(e[n],t,function(){e.trigger.apply(e,[t].concat(Array.prototype.slice.call(arguments)))})});var r=["fetchLocalData","fetchPreviousData","updateSuccess"];r.forEach(function(t){e.bindTo(e[n],t,function(){e.trigger.apply(e,[t].concat(Array.prototype.slice.call(arguments)))})}),e.bindTo(e[n],"tryFlush","tryFlush")})},tryFlush:function(){this.flushQueues()},flushQueues:function(){var e,t=this,n=new i,r=[];return t.sdk.online&&t.sdk.isInitialized()?(e=a(),t.trigger("flushing:started",e),["deleted","created","updated"].forEach(function(e){r.push(t[e+"Handler"].flushQueue())}),o(r).done(function(){t.trigger("flushing:ended",e),n.resolve()}).fail(n.resolve,n)):n.resolve(),n.promise()},onCreate:function(){var e=this;e.createdHandler.handler.apply(e.createdHandler,arguments),e.tryFlush()},onDelete:function(){var e=this;e.deletedHandler.handler.apply(e.deletedHandler,arguments),e.tryFlush()},onUpdate:function(){var e=this;e.updatedHandler.handler.apply(e.updatedHandler,arguments),e.tryFlush()},verifyOptions:function(e){if(!e.sdk||!e.trackers)throw new Error("Cannot initialize local change handler class without an sdk or trackers reference.")}});t.exports=f},{"./Local/Handlers/Create":42,"./Local/Handlers/Delete":43,"./Local/Handlers/Update":45,"wunderbits.core":12}],41:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.WBEventEmitter,o=n.lib.clone,a=n.lib.when,s=e("./Mixins/ConflictResolution"),u=e("../../RequestIDs"),c=e("../../Mixins/Outlet"),l=e("../../../Mixins/NormalizeCollectionType"),f=["id","online_id","position","completed_at","allCommentsLoaded","forceRender","from_paste","hasFiles","hasComments","hasNote","hasSubtasks","isAbleToSync","isFacebookFriend","isNewModel","isReady","lastUpdateData","listReady","local_change","localValues","notified","senderReady","matryoshkaRevision","reminded","requestID","revision","role","share_id","subtaskCompletion","updated_at","hasUnreadComments","unreadCount","userReady"],d=i.prototype;t.exports=i.extend({store:void 0,mixins:[c,l,s],initialize:function(e){var t=this;d.initialize.apply(t,e),t.trackers=e.trackers,t.sdk=e.sdk},handler:void 0,flushQueue:function(){var e,t,n,i=this,o=i.trackers[i.store],s=new r,u=[];if(o=o&&o.attributes,o&&Object.keys(o).length)for(var c in o)if("id"!==c){e=o[c]||{};for(var l in e)if(t=e[l],n="[object Object]"===Object.prototype.toString.call(t),t&&n&&Object.keys(t).length){if("created"!==i.store&&i.IDIsLocalAndHasNoOnlineID(l))continue;u.push(i.flushItem(l,t))}}return a(u).done(s.resolve,s).fail(s.resolve,s),s.promise()},flushItem:function(e,t){var n=this,i=new r;return setTimeout(function(){n.execute(e,o(t,!0)).done(i.resolve,i).fail(i.reject,i)}),i.promise()},IDIsLocalAndHasNoOnlineID:function(e){var t=this,n=t.trackers.localIDs.attributes;return e in n&&void 0===n[e]},getIDForRequest:function(e){var t=this,n=t.trackers.localIDs.attributes;return void 0===n[e]?parseInt(e,10):parseInt(n[e],10)},execute:void 0,trimLocalAttributes:function(e){return f.forEach(function(t){t in e&&delete e[t]}),e},typeCheck:function(e){if(!e.type)throw new Error("Looks like you are attempting to sync local data. Cannot sync data to the api without valid types.")},handlerWrapper:function(e,t,n,i,o){var a=this,s=a.handlerPreFlight(e,t,n),u=new r;i=i?[].slice.call(i,0):[],i.push(s);var c=o.apply(a,i);return c.done(u.resolve,u).fail(u.reject,u),u.promise()},handlerPreFlight:function(e,t,n){var r,i=this;return n&&n.type?r=i.createAndUpdateRequestID(t,n.type):void i.typeCheck(n)},createAndUpdateRequestID:function(){var e=u.generateUID();return e}})},{"../../../Mixins/NormalizeCollectionType":58,"../../Mixins/Outlet":46,"../../RequestIDs":54,"./Mixins/ConflictResolution":44,"wunderbits.core":12}],42:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:CREATE"),i=e("wunderbits.core"),o=i.WBDeferred,a=i.lib.clone,s=e("./Base"),u=e("../../../FailSafe/FailSafe"),c=s.extend({store:"created",handler:function(e,t){var n=this;n.trackers.localIDs.save(e,void 0);var r=u.getTypedQueue(t.type,n.store);r[e]=a(t,!0),n.trackers[n.store].save(t.type,r)},execute:function(e,t){var n=this;return n.handlerWrapper(n.store,e,t,arguments,n.create)},create:function(e,t){var n,i=this,a=t.type,s=i.normalizeCollectionType(a),c=new o;return i.trimLocalAttributes(t),delete t.id,delete t.type,Object.keys(t).length?(n=i.getOutlet(),n?(u.moveToSyncing(e,a,i.store),n[s].create(t,e).done(function(t,n){c.resolve(),i.trackers.localIDs.save(e,t.id),204!==n&&i.trigger("update",e,a,t),u.cleanupFromSyncing(e,a,i.store)}).fail(function(n,r){c.reject(),409===r?i.handleConflict(e,a,s,n,t):404===r?u.purge(e,a,i.store):u.restoreFromSyncing(e,a,i.store,n)})):c.reject()):(c.reject(),r.warn("You cannot create resources without any data.")),c.promise()},handlerWrapper:function(e,t,n,r,i){var a=this,s=new o;if(n&&n.type){var u=i.apply(a,r);u.done(s.resolve,s).fail(s.reject,s)}else s.reject(),a.typeCheck(n);return s.promise()},handleConflict:function(e,t,n,i,o){var a=this;u.cleanupFromSyncing(e,t,a.store),r.warn("create request conflicted",e,t,"responseData:",i,"createData:",o)}});t.exports=c},{"../../../FailSafe/FailSafe":55,"./Base":41,magiconsole:2,"wunderbits.core":12}],43:[function(e,t){var n=e("wunderbits.core"),r=n.WBDeferred,i=n.lib.clone,o=e("./Base"),a=e("../../../FailSafe/FailSafe");t.exports=o.extend({store:"deleted",handler:function(e,t,n){var r=this;n.revision=t;var o=n.type,s=r.isPendingCreate(e,o);if(["created","updated"].forEach(function(t){a.purge(e,o,t)}),!s){var u=a.getTypedQueue(o,r.store);u[e]=i(n,!0),r.trackers[r.store].save(o,u)}},execute:function(e,t){var n=this,r=t.revision,i=[e,r,t];return n.handlerWrapper(n.store,e,t,i,n["delete"])},"delete":function(e,t,n,i){var o=this,s=new r,u=n.type,c=o.getIDForRequest(e),l=o.normalizeCollectionType(u),f=o.getOutlet();return f&&c&&void 0!==t?(a.moveToSyncing(e,u,o.store),f[l].deleteID(c,t,i).done(function(){s.resolve(),a.cleanupFromSyncing(e,u,o.store)}).fail(function(t,r){s.reject(),r&&/^4(04|10)/.test(r)?a.purge(e,u,o.store):409===r?o.handleConflict(e,u,l,n):a.restoreFromSyncing(e,u,o.store)})):void 0===c||void 0===t?(a.purge(e,u,o.store),s.reject()):s.reject(),s.promise()},isPendingCreate:function(e,t){var n=a.getTypedQueue(t,"created"),r=n[e];return!!r},handleConflict:function(e,t,n){var r=this;a.cleanupFromSyncing(e,t,r.store),r.fetchRemoteData(e,n).done(function(n,i){var o=204!==i;o&&n&&r.trigger("create",e,t,n)})}})},{"../../../FailSafe/FailSafe":55,"./Base":41,"wunderbits.core":12}],44:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin,i=n.lib.extend,o=e("../../../../FailSafe/FailSafe"),a=["id","type","revision"],s=["list_position","task_position","subtask_position"],u=r.extend({handleConflict:function(e,t,n,r){var i=this;s.indexOf(t)>=0?i.handlePositionConflict(e,t,n,r):i.handleGenericConflict(e,t,n,r)},handleGenericConflict:function(e,t,n,r){var i=this;i.fetchPreviousData(e,t,function(o){i.fetchRemoteData(e,n).done(function(n,a){var s=204!==a;s&&o?i.replayNonConflictingData(e,t,o,n,r):s&&n&&i.trigger("create",e,t,n)})})},handlePositionConflict:function(e,t,n,r){var i=this;i.fetchRemoteData(e,n).done(function(n){r.id=e,r.type=t,r.revision=n.revision,i.queueNonConflictingChanges(r),i.trigger("tryFlush")})},fetchPreviousData:function(e,t,n){this.trigger("fetchPreviousData",e,t,n)},fetchRemoteData:function(e,t){var n=this,r=n.getOutlet();return r[t].getID(e)},replayNonConflictingData:function(e,t,n,r,i){var o=this,a=o.getConflictingKeys(n,r,i);i=o.trimChanges(i,a),Object.keys(i).length&&(r=o.trimRemoteData(r,i),i.id=e,i.type=t,i.revision=r.revision,Object.keys(i).length>3&&(o.queueNonConflictingChanges(i),o.trigger("tryFlush"))),o.trigger("update",e,t,r)},queueNonConflictingChanges:function(e){var t=this,n=e.id=""+e.id,r=e.type,a=o.getTypedQueue(r,t.store),s=a[n]||{};a[n]=i({},e,s),t.trackers[t.store].save(r,a)},trimChanges:function(e,t){return t=t||[],t.forEach(function(t){-1===a.indexOf(t)&&t in e&&delete e[t]}),e},trimRemoteData:function(e,t){t=t||{};for(var n in t)-1===a.indexOf(n)&&delete e[n];return e},getConflictingKeys:function(e,t){var n=[];for(var r in t)t[r]!==e[r]&&n.push(r);return n}});t.exports=u},{"../../../../FailSafe/FailSafe":55,"wunderbits.core":12}],45:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:UPDATE"),i=e("wunderbits.core"),o=i.WBDeferred,a=i.lib.extend,s=e("./Base"),u=e("../../../FailSafe/FailSafe"),c=s.extend({store:"updated",handler:function(e,t,n){var r=this,i=!1,o=n.type;if(n=r.trimLocalAttributes(n),Object.keys(n).length>1){var s=u.getTypedQueue(o,"created");if(i=s[e])s[e]=a({},i,n),r.trackers.created.save(o,s);else{n.revision=t;var c=u.getTypedQueue(o,r.store),l=c[e]||{};c[e]=a({},l,n),r.trackers[r.store].save(o,c)}}},execute:function(e,t){var n=this,r=t.revision,i=[e,r,t];return n.handlerWrapper(n.store,e,t,i,n.update)},update:function(e,t,n,i){var a,s=this,c=n.type,l=s.normalizeCollectionType(c),f=new o;return delete n.type,n=s.trimLocalAttributes(n),Object.keys(n).length&&void 0!==t?(a=s.getOutlet(),a?(u.moveToSyncing(e,c,s.store),a[l].update(s.getIDForRequest(e),t,n,i).done(function(t,r){f.resolve(),204!==r&&(s.trigger("update",e,c,t),s.trigger("updateSuccess",e,c,n)),u.cleanupFromSyncing(e,c,s.store)}).fail(function(t,r){f.reject(),409===r?(u.cleanupFromSyncing(e,c,s.store),s.handleConflict(e,c,l,n)):r&&/^4(04|10)/.test(r)?u.purge(e,c,s.store):u.restoreFromSyncing(e,c,s.store,t)})):f.reject()):void 0===t?(u.purge(e,c,s.store),f.reject()):(f.reject(),r.warn("You cannot updated resources without any update data.")),f.promise()}});t.exports=c},{"../../../FailSafe/FailSafe":55,"./Base":41,magiconsole:2,"wunderbits.core":12}],46:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin;t.exports=r.extend({getOutlet:function(){var e=this;return e.outlet=e.sdk&&e.sdk.getOutlet(),e.outlet}})},{"wunderbits.core":12}],47:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=e("./Remote/Mixins/Create"),o=e("./Remote/Mixins/Delete"),a=e("./Remote/Mixins/Update"),s=e("./Remote/Mixins/Touch"),u=e("./Remote/Mixins/RealtimeMutations"),c=e("./Remote/Mixins/DesktopNotifications"),l=e("./Mixins/Outlet"),f=e("../Mixins/NormalizeCollectionType"),d=r.prototype;t.exports=r.extend({mixins:[i,o,a,s,u,c,l,f],outlet:void 0,initialize:function(e){var t=this;e=e||{},d.initialize.apply(t,arguments),t.verifyOptions(e),t.sdk=e.sdk,t.trackers=e.trackers,t.bindToSDK()},bindToSDK:function(){var e=this;e.bindTo(e.sdk,"event",e.handleRealtimeMutation),e.bindTo(e.sdk,"desktopNotification",e.handleDesktopNotification)},fetchLocalData:function(e,t,n){this.trigger("fetchLocalData",e,t,n)},verifyOptions:function(e){if(!e.sdk||!e.trackers)throw new Error("Cannot initialize remote change handler class without an sdk or trackers reference.")},cancelInflightCreate:function(e,t,n){this.trigger("cancelInflightCreate",e,t,n)}})},{"../Mixins/NormalizeCollectionType":58,"./Mixins/Outlet":46,"./Remote/Mixins/Create":48,"./Remote/Mixins/Delete":49,"./Remote/Mixins/DesktopNotifications":50,"./Remote/Mixins/RealtimeMutations":51,"./Remote/Mixins/Touch":52,"./Remote/Mixins/Update":53,"wunderbits.core":12}],48:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:CREATE"),i=e("wunderbits.core"),o=i.WBMixin,a=e("../../../FailSafe/FailSafe"),s="created";t.exports=o.extend({onCreate:function(e,t,n,i){r.info("SYNC Remote#onCreate",e,t,n,i);var o=this;i&&(o.cancelInflightCreate(i,e,n&&n.revision),a.purge(i,t,s)),o.fetchLocalData(i,t,function(r){o.trigger(r?"update":"create",e,t,n,i)})}})},{"../../../FailSafe/FailSafe":55,magiconsole:2,"wunderbits.core":12}],49:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin,i=e("../../../FailSafe/FailSafe"),o="deleted";t.exports=r.extend({onDelete:function(e,t){var n=this;i.purge(e,t,o),n.trigger("delete",e,t)}})},{"../../../FailSafe/FailSafe":55,"wunderbits.core":12}],50:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:DESKTOPNOTIFICATIONS"),i=e("wunderbits.core"),o=i.WBMixin;t.exports=o.extend({handleDesktopNotification:function(e){var t=this;r.info("RealtimeMutations#handleDesktopNotification",e),e&&"desktop_notification"===e.type&&t.onCreate(e.id,e.type,e)}})},{magiconsole:2,"wunderbits.core":12}],51:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:REALTIME"),i=e("wunderbits.core"),o=i.WBMixin,a=e("../../../Helpers/TitleCase");t.exports=o.extend({handleRealtimeMutation:function(e){r.info("RealtimeMutations#handleRealtimeMutation",e);var t=this,n=e||{},i=n.subject,o=n.data,a=n.client;if(!(e&&"mutation"===n.type&&i&&o&&a))return void t.trigger("invalidMutation",n);var s=e.operation,u=i.type,c=i.id,l=a.request_id,f=i.revision,d=i.previous_revision,h=t.getOutlet();t.fetchLocalData(c,u,function(e){var n=e&&e.revision;r.info("ev rev",f,"ev prnt rev",d,"cur rev",n),"delete"===s?e&&t.onDelete(c,u,o,l):"touch"===s?t.onTouch(c,u,o,l):n?d&&d===n?t.handleMutationNormally(s,c,u,o,l):f>n&&t.handleMutationWhenLocalRevisionOld(c,u,h):t.handleMutationWhenNoLocalRevision(s,c,u,o,l,h)})},handleMutationWhenNoLocalRevision:function(e,t,n,i,o,a){var s,u=this;"create"===e?u.onCreate(t,n,i,o):(s=a[u.normalizeCollectionType(n)],s?s.getID(t).done(function(e){u.onCreate(t,n,e)}):r.warn("No service defined for type",n))},handleMutationNormally:function(e,t,n,i,o){var s=this,u="on"+a.titleCase(e);"function"==typeof s[u]?s[u].call(s,t,n,i,o):r.warn(e,"not supported yet by the SDK")},handleMutationWhenLocalRevisionOld:function(e,t,n){var i=this,o=n[i.normalizeCollectionType(t)];o?o.getID(e).done(function(n){i.onUpdate(e,t,n)}):r.warn("No service defined for type",t)}})},{"../../../Helpers/TitleCase":57,magiconsole:2,"wunderbits.core":12}],52:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:TOUCH"),i=e("wunderbits.core"),o=i.WBMixin;t.exports=o.extend({onTouch:function(e,t,n,i){r.info("SYNC Remote#onTouch",e,t,n,i);var o=this;o.trigger("touch",e,t,n)}})},{magiconsole:2,"wunderbits.core":12}],53:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin,i=e("../../../FailSafe/FailSafe"),o="updated";t.exports=r.extend({onUpdate:function(e,t,n,r){var a=this,s=o+"Syncing",u=i.getTypedQueue(t,s),c=u[e]||{};c&&c.requestID===r&&i.cleanupFromQueue(e,t,s),n&&"remove"in n&&(n.remove.forEach(function(e){n[e]=void 0}),delete n.remove),a.trigger("update",e,t,n)}})},{"../../../FailSafe/FailSafe":55,"wunderbits.core":12}],54:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=n.lib.createUID;t.exports=r.extend({usedIDs:{},generateUID:function(){for(var e,t=this;!e||!t.isUIDValid(e);)e=i();return this.usedIDs[e]=!0,e},isUIDValid:function(e){return!(e in this.usedIDs)}})},{"wunderbits.core":12}],55:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton,i=n.lib.clone,o=n.lib.extend,a=["nonCollection"];t.exports=r.extend({init:function(e){var t=this;if(e=e||{},!e||!e.trackers)throw new Error("Cannot init() the FailSafe singleton without options.trackers!");t.trackers=e.trackers,["deleted","created","updated"].forEach(function(e){t.restoreAllFromSyncing(e)})},getTypedQueue:function(e,t){var n=this,r=n.trackers[t]&&n.trackers[t].attributes||{};return r[e]||{}},moveToSyncing:function(e,t,n){var r=this,i=n+"Syncing";if(-1!==a.indexOf(n))r.moveNonCollectionToSyncing(n,i);else{var o=r.getTypedQueue(t,n),s=o[e],u=r.getTypedQueue(t,i);u[e]=s,r.trackers[i].save(t,u),delete o[e],r.trackers[n].save(t,o)}},moveNonCollectionToSyncing:function(e,t){var n,r=this,i=["id","type"],o=r.trackers[e];for(var a in o.attributes)n=o.attributes[a],-1===i.indexOf(a)&&(r.trackers[t].save(a,n),r.trackers[e].unset(a).save())},restoreFromSyncing:function(e,t,n){var r=this,i=r.getTypedQueue(t,"deleted"),o=r.getTypedQueue(t,"deletedSyncing"),s=!!("deleted"!==n&&o[e]||i[e]);s&&"deleted"!==n||(-1===a.indexOf(n)?r.restoreCollectionTypeFromSyncing(e,t,n):r.restoreNonCollectionTypeFromSyncing(e,t,n));var u=n+"Syncing",c=r.getTypedQueue(t,u);delete c[e],r.trackers[u].save(t,c)},restoreAllFromSyncing:function(e){var t=this;if(-1===a.indexOf(e)){var n=e+"Syncing",r=t.trackers[n];for(var i in r.attributes)if("id"!==i){var o=t.getTypedQueue(i,n);for(var s in o)t.restoreFromSyncing(s,i,e)}}else t.restoreFromSyncing(null,e,e)},restoreNonCollectionTypeFromSyncing:function(e,t,n){var r,o=this,a=["id","type"],s=o.trackers[n+"Syncing"],u=i(s.attributes),c=-1===a.indexOf(l);for(var l in u)r=u[l],!o.trackers[n].attributes[l]&&c&&o.trackers[n].save(l,r),c&&o.trackers[n+"Syncing"].unset(l).save()},restoreCollectionTypeFromSyncing:function(e,t,n){var r=this,i=n+"Syncing",a=r.getTypedQueue(t,n),s=r.getTypedQueue(t,i),u=s[e]||{},c=s[e]||{},l=o({},u,c);(Object.keys(l).length||"deleted"===n)&&(a[e]=l,r.trackers[n].save(t,a))},cleanupFromQueue:function(e,t,n,r){var o=this;if(-1===a.indexOf(n)){if(e&&t){n=r?n+"Syncing":n;var s=o.getTypedQueue(t,n);delete s[e],o.trackers[n].save(t,s)}}else{n=r?n+"Syncing":n;var u,c=["id","type"],l=i(o.trackers[n].attributes);for(var f in l)u=l[f],-1===c.indexOf(f)&&o.trackers[n].unset(f).save()}},cleanupFromSyncing:function(e,t,n){var r=this;r.cleanupFromQueue(e,t,n,!0)},purge:function(e,t,n){var r=this;r.cleanupFromQueue(e,t,n),r.cleanupFromSyncing(e,t,n)}})},{"wunderbits.core":12}],56:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton;t.exports=r.extend({extendHeaders:function(e){this.addClientTime(e)},addClientTime:function(e){e["x-client-current-time"]=(new Date).toISOString()}})},{"wunderbits.core":12}],57:[function(e,t){var n=e("wunderbits.core"),r=n.WBSingleton;t.exports=r.extend({titleCase:function(e){return e.charAt(0).toUpperCase()+e.substr(1)}})},{"wunderbits.core":12}],58:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin;t.exports=r.extend({normalizeCollectionType:function(e){return"s"===e[e.length-1]?e:e+"s"}})},{"wunderbits.core":12}],59:[function(e,t){var n=e("wunderbits.core"),r=n.WBMixin,i=n.lib.toArray,o=e("magiconsole"),a=new o("SYNC:STRATEGY"),s=e("../Strategies/FetchComments"),u=e("../Strategies/FetchCompleted"),c=e("../Strategies/FetchList"),l=e("../Strategies/FetchTask"),f=e("../Strategies/FetchTasksCounts"),d=e("../Strategies/Login"),h=e("../Strategies/Logout"),p=e("../Strategies/Matryoshka"),g=e("../Strategies/Refresh"),v=r.extend({setupSyncStrategies:function(){var e=this,t={sdk:e.sdk,sync:e,collections:e.collections,models:e.models},n=e.syncStragegies={},r=["create","update","delete","timeline:start","timeline:end","cancelInflightCreate"];[s,u,c,l,f,d,h,p,g].forEach(function(o){var a=new o(t);n[a.type]=a,r.forEach(function(t){e.bindTo(a,t,function(){var n=i(arguments);n.unshift(t),e.trigger.apply(e,n)})}),["started","ended"].forEach(function(t){e.bindTo(a,t,function(n,r){e.trigger("sync:"+t,n,a.type,r)})})})},onSync:function(e,t){var n=this,r=arguments,i=n.sdk;return n.watcher.isStrategySyncing("refresh")?!1:i.online&&i.isInitialized()?(n.initialized.done(function(){var e=t+"Strategy";"function"==typeof n[e]?n[e].apply(n,r):n.matryoshkaStrategy()}),!0):(a.warn("sdk offline, not executing sync"),!1)},trackSyncs:function(e,t){"login"===t&&this.bindOnceTo(e,"before:end","onFirstUserLogin")},onFirstUserLogin:function(){var e=this;e.models.user.save({loginSuccessful:!0},{fromSync:!0}),e.trigger("before:sync:ended")},executeStrategy:function(e,t,n){var r=this;r.trackSyncs(t,e),t.execute.apply(t,n)},commentsStrategy:function(){var e=this,t=arguments[2],n=[t];e.executeStrategy("comments",e.syncStragegies.fetchComments,n)},completedStrategy:function(){var e=this,t=arguments[2],n=arguments[3],r=arguments[4],i=[t,n,r];e.executeStrategy("completed",e.syncStragegies.fetchCompleted,i)},listStrategy:function(){var e=this,t=arguments[2],n=[t];e.executeStrategy("list",e.syncStragegies.fetchList,n)},loginStrategy:function(){var e=this;e.watcher.isStrategySyncing("login")||e.executeStrategy("login",e.syncStragegies.login)},logoutStrategy:function(){var e=this;e.executeStrategy("logout",e.syncStragegies.logout)},matryoshkaStrategy:function(){var e=this,t=12096e5,n=e.models.user.attributes,r=e.syncStragegies,i=!!n.loginSuccessful,o=i?r.matryoshka:r.login,s=i?"matryoshka":"login",u=n.lastSync,c=u&&Date.now()-u>t;return s=c?"login":s,o=c?r.login:o,e.watcher.isStrategySyncing(s)?!1:(c&&a.log("App state is overly stale, executing login strategy"),void e.executeStrategy(s,o))},refreshStrategy:function(){var e=this;e.executeStrategy("refresh",e.syncStragegies.refresh)},taskStrategy:function(){var e=this,t=arguments[2],n=[t];e.executeStrategy("task",e.syncStragegies.fetchTask,n)},tasksCountsStrategy:function(){var e=this,t=arguments[2],n=[t];e.executeStrategy("tasksCounts",e.syncStragegies.fetchTasksCounts,n)}});t.exports=v},{"../Strategies/FetchComments":63,"../Strategies/FetchCompleted":64,"../Strategies/FetchList":65,"../Strategies/FetchTask":66,"../Strategies/FetchTasksCounts":67,"../Strategies/Login":68,"../Strategies/Logout":69,"../Strategies/Matryoshka":70,"../Strategies/Refresh":74,magiconsole:2,"wunderbits.core":12}],60:[function(e,t){(function(n){var r=e("wunderbits.core"),i=r.WBMixin,o=r.WBDeferred,a=r.lib.when,s=r.lib.clone,u=e("../Models/Tracker"),c=["created","updated","deleted"];t.exports=i.extend({setupTrackers:function(){var e=this,t=new o,r=[],i={};c.forEach(function(e){i[e]=new u({id:e+"Tracker"}),i[e+"Syncing"]=new u({id:e+"SyncingTracker"}),[e,e+"Syncing"].forEach(function(e){var t=new o;r.push(t);var n=function(){t.resolve()};i[e].fetch({success:n,error:n})})}),i.localIDs=new u({id:"localIDs"});var s=new o;r.push(s);var l=function(){s.resolve()};return i.localIDs.fetch({success:l,error:l}),e.trackers=n.trackers=i,a(r).then(function(){t.resolve(e.trackers)}),t.promise()},clearTrackers:function(){var e=this;["created","updated","deleted"].forEach(function(t){["","Syncing"].forEach(function(n){var r=t+n,i=s(e.trackers[r].attributes);for(var o in i)"id"!==o&&e.trackers[r].unset(o)})})},pendingChanges:function(){var e=this,t=["created","updated","deleted"],n=[];return e.trackers&&t.forEach(function(t){var r,i,o,a=e.trackers[t].attributes;for(var s in a)if("id"!==s){r=a[s];for(var u in r)i=r[u],o="[object Object]"===Object.prototype.toString.call(i),i&&o&&Object.keys(i).length&&n.push(u)}}),n=n.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),n.length}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Models/Tracker":61,"wunderbits.core":12}],61:[function(e,t){var n=e("wunderbits.core"),r=n.WBStateModel;t.exports=r.extend()},{"wunderbits.core":12}],62:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("../FailSafe/FailSafe"),o=e("wunderbits.core"),a=o.WBEventEmitter,s=o.WBDeferred,u=o.lib.assert,c=o.lib.createUID,l=o.lib.when,f=e("../Mixins/NormalizeCollectionType"),d=a.extend({mixins:[f],initialize:function(e){var t=this;t.validateOptions(e),t.sdk=e.sdk,t.sync=e.sync,t.models=e.models,t.collections=e.collections},getOutlet:function(){var e=this,t=new s,n=e.sdk&&!e.sdk.destroyed&&e.sdk,r=n&&"function"==typeof n.getOutlet&&n.getOutlet();return r?t.resolve(r):t.reject(),t.promise()},processEntities:function(e){var t,n=this,i=new s,o=[];if(Array.isArray(e))for(var a;e.length;)a=e.shift(),a&&a.id&&a.type?(t=n.triggerUpdateCreate(a.id,a.type,a),o.push(t)):a?(!a.id&&r.error("id missing on api resource",a),!a.type&&r.error("type missing on api resource",a)):!a&&r.error("array element is undefined");else r.error("data passed to #processEntities is not an array");return l(o).done(i.resolve,i).fail(i.reject,i),i.promise()},extractRequestID:function(e){var t;if(e&&e.created_by_request_id){var n=e.created_by_request_id.split(":");t=n[n.length-1]}return t},lookForExistingModel:function(e,t,n){var r,i,o=this;return i=o.collections[o.normalizeCollectionType(n)],r=i&&(i.get(e)||t&&i.get(t))},triggerUpdateCreate:function(e,t,n){var r=this,i=new s,o=r.extractRequestID(n),a=r.lookForExistingModel(e,o,t),u=function(){i.resolve()},c=function(){i.reject()};return o&&r.cancelInflightCreate(o,e,n.revision,t),a?r.trigger("update",e,t,n,o,u,c):r.trigger("create",e,t,n,o,u,c),i.promise()},validateOptions:function(e){u(e,"initialization options are required"),u(e.sdk,"options require a referenece to the SDK instance"),u(e.sync,"options require a referenece to the Sync instance"),u(e.models,"options require a referenece to app models"),u(e.collections,"options require a referenece to the all collections")},getSyncUID:function(){return c()},cancelInflightCreate:function(e,t,n,r){this.trigger("cancelInflightCreate",e,t,n),i.purge(e,r,"created")}});t.exports=d},{"../FailSafe/FailSafe":55,"../Mixins/NormalizeCollectionType":58,magiconsole:2,"wunderbits.core":12}],63:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("wunderbits.core"),a=o.WBDeferred,s=i.extend({type:"fetchComments",execute:function(e){var t=this,n=t.getSyncUID();r.info("executing fetch comments sync strategy for ",e),t.trigger("started",n),t.fetchComments(e).always(function(){t.trigger("ended",n)})},fetchComments:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.task_comments.forTask(e).done(function(e){t.processEntities(e).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()}});t.exports=s},{"./BaseStrategy":62,magiconsole:2,"wunderbits.core":12}],64:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("wunderbits.core"),a=o.WBDeferred,s=o.lib.when,u=i.extend({type:"fetchCompleted",listResources:["task","subtask_position","subtask","note","reminder"],taskResources:["subtask_position","subtask","note","file","reminder"],execute:function(e,t,n){var i=this,o=i.getSyncUID();r.info("executing fetch completed ",e," sync strategy for ",t),i.trigger("started",o);var s;"task"===e&&(s=i.fetchCompletedTask(t,n)),s="tasks"===e?i.fetchCompletedItems(t,n):"all"===e?i.fetchAllCompletedTasks():(new a).resolve(),s.always(function(){i.trigger("ended",o)})},fetchAllCompletedTasks:function(){var e=this,t=new a;return e.getOutlet().done(function(n){n.lists.all().done(function(n){var r=n.map(function(t){return e.fetchCompletedItems(t.id)});s(r).always(t.resolve,t)}).fail(t.reject,t)}).fail(t.reject,t),t.promise()},fetchCompletedItems:function(e){var t=this,n=new a,r=[];return t.getOutlet().done(function(n){t.listResources.forEach(function(i){var o=new a;r.push(o),n[t.normalizeCollectionType(i)].forList(e,!0).done(function(e){var n=[];e&&e.length&&e.forEach(function(e){var r=t.processEntities([e]);n.push(r)}),s(n).done(o.resolve,o).fail(o.reject,o)}).fail(o.reject,o)})}).fail(n.reject,n),s(r).done(n.resolve,n).fail(n.reject,n),n.promise()},fetchCompletedTask:function(e,t){var n=this,r=new a;return n.getOutlet().done(function(i){i.tasks.getID(e).done(function(e){var i=[],o=n.processEntities([e]);if(i.push(o),t){var a=n.fetchCompletedTaskResources(e.id);i.push(a)}s(i).done(r.resolve,r).fail(r.reject,r)}).fail(r.reject,r)}).fail(r.reject,r),r.promise},fetchCompletedTaskResources:function(e){var t=this,n=new a,r=[];return e&&t.getOutlet().done(function(n){t.taskResources.forEach(function(i){var o=new a;r.push(o),n[t.normalizeCollectionType(i)].forTask(e).done(function(e){t.processEntities(e).done(o.resolve,o).fail(o.reject,o)}).fail(o.reject,o)})}).fail(n.reject,n),s(r).done(n.resolve,n).fail(n.reject,n),n.promise()}});t.exports=u},{"./BaseStrategy":62,magiconsole:2,"wunderbits.core":12}],65:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("wunderbits.core"),a=o.WBDeferred,s=o.lib.when,u=i.extend({type:"fetchList",listResources:["membership","task_position","task","subtask_position","subtask","note","file","reminder"],execute:function(e){var t=this,n=t.getSyncUID();r.info("executing fetch list sync strategy for ",e),t.trigger("started",n),t.fetchList(e).always(function(){t.trigger("ended",n)})},fetchList:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.lists.getID(e).done(function(e){s(t.processEntities([e]),t.fetchListResources(e.id)).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchListResources:function(e){var t=this,n=new a,r=[];return e&&t.getOutlet().done(function(n){t.listResources.forEach(function(i){var o=new a;r.push(o),n[t.normalizeCollectionType(i)].forList(e).done(function(e){t.processEntities(e).done(o.resolve,o).fail(o.reject,o)}).fail(o.reject,o)})}).fail(n.reject,n),s(r).done(n.resolve,n).fail(n.reject,n),n.promise()}});t.exports=u},{"./BaseStrategy":62,magiconsole:2,"wunderbits.core":12}],66:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("wunderbits.core"),a=o.WBDeferred,s=o.lib.when,u=i.extend({type:"fetchTask",taskResources:["subtask_position","subtask","note","file","reminder"],execute:function(e){var t=this,n=t.getSyncUID();r.info("executing fetch task sync strategy for ",e),t.trigger("started",n),t.fetchTask(e).always(function(){t.trigger("ended",n)})},fetchTask:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.tasks.getID(e).done(function(e){var r=[],i=t.fetchList(e.list_id);r.push(i);var o=t.processEntities([e]);r.push(o);var a=t.fetchTaskResources(e.id);r.push(a),s(r).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchList:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.lists.getID(e).done(function(e){s(t.processEntities([e]),t.fetchListMembership(e.id)).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchListMembership:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.memberships.forList(e).done(function(e){t.processEntities(e).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchTaskResources:function(e){var t=this,n=new a,r=[];return e&&t.getOutlet().done(function(n){t.taskResources.forEach(function(i){var o=new a;r.push(o),n[t.normalizeCollectionType(i)].forTask(e).done(function(e){t.processEntities(e).done(o.resolve,o).fail(o.reject,o)}).fail(o.reject,o)})}).fail(n.reject,n),s(r).done(n.resolve,n).fail(n.reject,n),n.promise()}});t.exports=u},{"./BaseStrategy":62,magiconsole:2,"wunderbits.core":12}],67:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("wunderbits.core"),a=o.WBDeferred,s=i.extend({type:"fetchTasksCounts",execute:function(e){var t=this,n=t.getSyncUID();r.info("executing fetch tasks_count sync strategy for ",e),t.trigger("started",n);var i=t.fetchTasksCounts(e);i.always(function(){t.trigger("ended",n)})},fetchTasksCounts:function(e){var t=this,n=new a;return t.getOutlet().done(function(r){r.tasks_counts.forList(e).done(function(e){t.processEntities([e]).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()}});t.exports=s},{"./BaseStrategy":62,magiconsole:2,"wunderbits.core":12}],68:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("./Matryoshka/MatryoshkaMissing"),a=e("wunderbits.core"),s=a.WBDeferred,u=a.lib.when,c=a.lib.clone,l=i.prototype,f=i.extend({type:"login",listItemSubresourceTypes:["membership","task_comments_state"],taskSubresourceTypes:["subtask","reminder","note","file"],userSubresourceTypes:["folders","features","subscriptions","settings","services","users","unread_activities_counts"],afterInboxItems:[{type:"list_position",method:"all"},{type:"memberships",method:"forUser",parentIDSource:"user"}],missing:void 0,initialize:function(){var e=this;
l.initialize.apply(e,arguments),e.missing=new o({collections:e.collections,sync:e.sync}),e.bindTo(e.missing,"delete",function(){e.trigger.apply(e,["delete"].concat(Array.prototype.slice.call(arguments)))})},execute:function(){var e=this,t=e.getSyncUID();e.missing.reset(),e.trigger("timeline:start","login_strategy"),e.trigger("started",t),r.info("executing login sync strategy"),e.sync.flushQueues().done(function(){e.fetchAllTheThings(t)})},fetchAllTheThings:function(e){var t=this,n=t.fetchUserLevelItems(),i=new s;t.getOutlet().done(function(e){e.lists.all().done(function(e){t.missing.markMissing(e||[],"list"),t.trigger("timeline:start","login_lists_fetched"),e.sort(function(e,t){return"inbox"===e.list_type?-1:"inbox"===t.list_type?1:0});var n=e.shift(),r=n&&"inbox"===n.list_type?n:void 0,o=r&&c(r);r=t.processItem(r),r?(t.trigger("update","inbox","list",r),e.unshift(o)):n&&e.unshift(n);var a=t.fetchAfterInboxItems(),s=t.fetchItemsForLists(e);u(a,s).done(i.resolve,i).fail(i.reject,i)}).fail(i.reject,i)}).fail(i.reject,i);var o=u(n,i).always(t.missing.deleteMissing,t.missing).done(function(){t.trigger("timeline:end","login_strategy"),r.info("login sync strategy done"),t.trigger("before:end"),t.trigger("ended",e,!0)}).fail(function(){t.trigger("timeline:end","login_strategy"),r.error("login sync strategy failed"),t.trigger("ended",e,!1)});return o.promise()},fetchUserLevelItems:function(){var e=this,t=[];return e.userSubresourceTypes.forEach(function(n){t.push(e.fetchUserLevelItem(n))}),t.push(e.fetchRoot()),u(t).promise()},fetchRoot:function(){var e=this,t=new s,n=e.models.root;return e.getOutlet().done(function(e){e.root.all().done(function(e){n.save(e,{fromSync:!0}),t.resolve.apply(t,arguments)}).fail(t.reject,t)}).fail(t.reject,t),t.promise()},fetchUserLevelItem:function(e){var t=this,n=new s;return t.trigger("timeline:start","login_"+e),t.getOutlet().done(function(r){r[e].all().done(function(r){r=Array.isArray(r)?r:r?[r]:[],t.missing.markMissing(r,e.slice(0,-1)),t.processEntities(r).done(function(){t.trigger("timeline:end","login_"+e)}).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchAfterInboxItems:function(){var e=this,t=[];return e.getOutlet().done(function(n){e.afterInboxItems.forEach(function(r){var i;r.parentIDSource&&(i=e.models[r.parentIDSource].id);var o=e.normalizeCollectionType(r.type),a=new s;e.trigger("timeline:start","login_"+o);var u=n[o][r.method](i).done(function(t){e.missing.markMissing(t||[],r.type),e.processEntities(t).done(function(){e.trigger("timeline:end","login_"+o)}).done(a.resolve,a).fail(a.reject,a)});t.push(u),t.push(a)})}),u(t).promise()},fetchItemsForLists:function(e){var t=this,n=new s,r=[];return t.getOutlet().done(function(i){e.forEach(function(e){var o=e.id;t.trigger("timeline:start","login_list_"+o+"_items");var a=new s;r.push(a);var c=[];"inbox"!==e.list_type&&(e=t.processItem(e),r.push(t.triggerUpdateCreate(o,"list",e)));var l=[];["task_positions","subtask_positions"].forEach(function(e){var n=new s,r=i[e].forList(o).done(function(r){t.missing.markMissing(r||[],e.slice(0,-1),"list",o),t.processEntities(r).done(n.resolve,n).fail(n.reject,n)});l.push(n),l.push(r)});var f=u(l).promise().fail(n.reject,n);t.listItemSubresourceTypes.forEach(function(e){var n=new s;c.push(n),i[e+"s"].forList(o).done(function(r){t.missing.markMissing(r||[],e,"list",o),f.done(function(){u(t.processEntities(r),t.fetchTasksForList(o)).done(n.resolve,n).fail(n.reject,n)})}).fail(n.reject,n)}),u(c).done(function(){t.trigger("timeline:end","login_list_"+o+"_items")}).done(a.resolve,a).fail(a.reject,a)})}).fail(n.reject,n),u(r).done(n.resolve,n).fail(n.reject,n),n.promise()},fetchTasksForList:function(e){var t=this,n=new s;return t.getOutlet().done(function(r){r.tasks.forList(e).done(function(r){t.missing.markMissing(r||[],"task","list",e);var i=[];i.push(t.processEntities(r)),i.push(t.fetchTaskItemsForList(e)),u(i).done(n.resolve,n).fail(n.reject,n)}).fail(n.reject,n)}).fail(n.reject,n),n.promise()},fetchTaskItemsForList:function(e){var t=this,n=new s,r=[];return t.getOutlet().done(function(n){t.taskSubresourceTypes.forEach(function(i){var o=new s;r.push(o),n[i+"s"].forList(e).done(function(n){t.missing.markMissing(n||[],i,"list",e),t.processEntities(n).done(o.resolve,o).fail(o.reject,o)}).fail(o.reject,o)})}).fail(n.reject,n),u(r).done(n.resolve,n).fail(n.reject,n),n.promise()},processEntities:function(e){var t=this;return Array.isArray(e)?e.forEach(function(e){e=t.processItem(e)}):console.warn("#processEntities only understands arrays"),l.processEntities.apply(t,arguments)},processItem:function(e){return e&&(e.matryoshkaRevision=e.revision),e}});t.exports=f},{"./BaseStrategy":62,"./Matryoshka/MatryoshkaMissing":72,magiconsole:2,"wunderbits.core":12}],69:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=i.extend({type:"logout",execute:function(){var e=this,t=e.getSyncUID();r.info("executing logout sync strategy"),e.trigger("started",t),e.sync.flushQueues().always(function(){e.trigger("ended",t)})}});t.exports=o},{"./BaseStrategy":62,magiconsole:2}],70:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./BaseStrategy"),o=e("./Matryoshka/MatryoshkaMissing"),a=e("./Matryoshka/Hierarchy"),s=e("./Matryoshka/TaskChildrenByListHierarchy"),u=e("wunderbits.core"),c=u.WBDeferred,l=u.lib.extend,f=u.lib.when,d={fromSync:!0},h=i.prototype,p=i.extend({type:"matryoshka",missing:void 0,hierarchy:a,initialize:function(){var e=this;h.initialize.apply(e,arguments),e.missing=new o({collections:e.collections,sync:e.sync}),e.bindTo(e.missing,"delete",function(){e.trigger.apply(e,["delete"].concat(Array.prototype.slice.call(arguments)))})},getStatePromise:function(e){var t=e.promise();return t.isPending=function(){return"pending"===t.state()},t},execute:function(){var e=Date.now(),t=this,n=t.getSyncUID();t.missing.reset(),r.info("executing Matryoshka sync strategy"),t.trigger("started",n);var i=new c,o=t.getStatePromise(i),a=t.sync.flushQueues();a.done(function(){t.fetchRoot(o,n).fail(function(){i.reject(),r.error("Matryoshka sync failed")}).done(function(){i.resolve(),r.info("Matryoshka sync succeeded")}).always(function(){var o="resolved"===i.state();r.info("Matryoshka sync done",Date.now()-e),t.trigger("ended",n,o)})})},fetchRoot:function(e,t){var n=this,i=new c,o=n.hierarchy.root;return n.getOutlet().done(function(a){a[o.endpoint][o.method]().done(function(a){var s=n.models[o.type].attributes.matryoshkaRevision;if(r.debug("Matryoshka root revision",a.revision,"last Matryoshka revision",s),void 0===s||a.revision>s){var u=[];o.children.forEach(function(r){u.push(n.fetchChildNode(void 0,void 0,o.childMethod,r,e,t))}),f(u).done(function(){a.matryoshkaRevision=a.revision,n.applyModelData(a,o.type),n.missing.deleteMissing(),i.resolve()}).fail(function(){n.missing.deleteMissing(),i.reject()})}else i.resolve()}).fail(function(){r.error("Matryoshka root fetch failed.")}).fail(i.reject,i)}).fail(i.reject,i),i.promise()},fetchChildNode:function(e,t,n,r,i,o){var a=this,s=new c,u=r.type,l=r.responseType,f=r.endpoint?r.endpoint:a.normalizeCollectionType(u),d=r.revisionsEndpoint?r.revisionsEndpoint:a.revisionsEndpointFor(u);return n=r.method?r.method:n,a.getOutlet().done(function(c){var h=c[d];h?a.callRevisionsEndpoint(c,h,r,i,o,f,n,t,e,u,l).done(s.resolve,s).fail(s.reject,s):a.callRevisionlessEndpoint(c,r,i,o,f,n,t,e,u,l).done(s.resolve,s).fail(s.reject,s)}).fail(s.reject,s),s.promise()},callRevisionlessEndpoint:function(e,t,n,r,i,o,a,s,u,l){var f=this,d=new c,h=f.executePreFetch(s,a,o,t,n,r);return f.getOutlet().done(function(e){e[i][o]("all"===o?void 0:a).done(function(e){var i=f.findStaleItems(e,u,l);h.done(function(){function o(e,n,o,a){return i.indexOf(e)>-1?f.executePreCommit(n,e,o,t,a,r):(new c).resolve()}f.processData(u,l,e,s,a,n,o).done(d.resolve,d).fail(d.reject,d)}).fail(d.reject,d)}).fail(function(){d[t.optional?"resolve":"reject"]()})}).fail(d.reject,d),d},callRevisionsEndpoint:function(e,t,n,r,i,o,a,u,l,f,d){var h,p=this,g=new c,v=p.executePreFetch(l,u,a,n,r,i);return t[a]("all"===a?void 0:u).done(function(t){var m=p.findStaleItems(t,f,d),y=m.length>4;y?(h=new c,e[o][a]("all"===a?void 0:u).done(function(e){t=e,h.resolve()}).fail(h.reject,h)):h=p.fetchStaleItems(e,o,d,m,t),h.done(function(){function e(e,t,r,o){var s;return s=c&&y?a:p.executePreCommit(t,e,r,n,o,i)}var a,c="tasks"===o;c&&y&&(a=p.executePreCommit("list",u,{},s,r,i)),v.done(function(){t="singular"===d?t[0]:t,p.processData(f,d,t,l,u,r,e).done(g.resolve,g).fail(g.reject,g)}).fail(g.reject,g)}).fail(g.reject,g)}).fail(function(){g[n.optional?"resolve":"reject"]()}),g},findStaleItems:function(e,t,n){var r=this,i=[],o="singular"===n?[e]:e;return o.forEach(function(e){var o=r.extractRequestID(e),a=""+e.id,s=r.lookForExistingModel(a,o,t,n),u=s&&s.attributes.matryoshkaRevision;(void 0===u||e.revision>u)&&i.push(a)}),i},fetchStaleItems:function(e,t,n,r,i){var o=[];return i.forEach(function(a,s){var u=""+a.id;if(r.indexOf(u)>-1){var l=new c;o.push(l);var f="singular"===n?"all":"getID",d="singular"===n?void 0:u;e[t][f](d).done(function(e){e&&(i[s]=e),l.resolve()}).fail(l.reject,l)}}),f(o).promise()},executePreFetch:function(e,t,n,r,i,o){var a=this,s=[];return r.prefetch&&r.prefetch.length&&r.prefetch.forEach(function(r){s.push(a.fetchChildNode(e,t,n,r,i,o))}),f(s).promise()},executePreCommit:function(e,t,n,r,i,o){var a=this,s=[];return r.children&&r.children.length&&r.children.forEach(function(u){var c=u.parentAttribute?n[u.parentAttribute]:t;if(c){var l=a.fetchChildNode(e,c,r.childMethod,u,i,o);s.push(l)}}),f(s).promise()},processData:function(e,t,n,r,i,o,a){var s,u=this;return"collection"===t?s=u.processCollection(e,n,r,i,o,a):"singular"===t?s=u.processSingularEntity(e,n,o,a):(console.warn("no responseType provided for dataType"),s=(new c).resolve().promise()),s},processCollection:function(e,t,n,i,o,a){var s=this,u=[];return Array.isArray(t)?(o.isPending()&&s.missing.markMissing(t,e,n,i),t.forEach(function(e){u.push(s.processItem(e,"collection",a,u,o))})):r.warn("Only arrays processed for collections",t,e),f(u).promise()},processSingularEntity:function(e,t,n,r){var i=this,o=[];return o.push(i.processItem(t,"singular",r,o,n)),f(o).promise()},processItem:function(e,t,n,r,i){function o(){i.isPending()?a.updateOrCreateItem(f,d,h,e,p,t).done(s.resolve,s).fail(s.reject,s):s.reject()}var a=this,s=new c,u=/_revision$/;if(!e||!Object.keys(e).length||u.test(e.type))return s.resolve().promise();var l,f=""+e.id,d=a.extractRequestID(e),h=e.type,p=a.lookForExistingModel(f,d,h,t);return n?(l=n.apply(a,[f,h,e,i]).done(o,a),r.push(l)):o(),s.promise()},lookForExistingModel:function(e,t,n,r){var i,o,a=this;return"singular"===r&&(i=a.models[n]),i||(o=a.collections[a.normalizeCollectionType(n)],i=o&&(o.get(e)||t&&o.get(t))),i},updateOrCreateItem:function(e,t,n,r,i,o){var a=this,s=!0,u=new c,l=function(){u.resolve()},f=function(){u.reject()};return t&&a.cancelInflightCreate(t,e,r.revision,n),void 0!==r.revision&&(r.matryoshkaRevision=r.revision),"singular"===o&&a.models[n]?a.applyModelData(r,n).done(u.resolve,u).fail(u.reject,u):i?a.trigger("update",e,n,r,t,l,f,s):a.trigger("create",e,n,r,t,l,f,s),u.promise()},applyModelData:function(e,t){var n=new c,r={success:function(){n.resolve()},error:function(){n.reject()}};return this.models[t].save(e,l({},d,r)),n.promise()},revisionsEndpointFor:function(e){var t="s"===e[e.length-1]?e.slice(0,-1):e;return t+"_revisions"}});t.exports=p},{"./BaseStrategy":62,"./Matryoshka/Hierarchy":71,"./Matryoshka/MatryoshkaMissing":72,"./Matryoshka/TaskChildrenByListHierarchy":73,magiconsole:2,"wunderbits.core":12}],71:[function(e,t){t.exports={root:{type:"root",endpoint:"root",responseType:"singular",method:"all",childMethod:"all",children:[{type:"unread_activities_count",responseType:"singular",optional:!0},{type:"folder",responseType:"collection"},{type:"user",endpoint:"user",responseType:"singular",childMethod:"all",children:[{type:"feature",responseType:"collection"},{type:"user",responseType:"collection"},{type:"service",responseType:"collection"},{type:"setting",responseType:"collection"},{type:"subscription",responseType:"collection"},{type:"membership",method:"forUser",responseType:"collection",childMethod:"forList",children:[{type:"reminder",responseType:"collection",parentAttribute:"list_id"},{type:"task_comments_state",responseType:"collection",parentAttribute:"list_id"}]}]},{type:"list",responseType:"collection",prefetch:[{type:"list_position",responseType:"collection"}],childMethod:"forList",children:[{type:"task",responseType:"collection",prefetch:[{type:"task_position",responseType:"collection"}],childMethod:"forTask",children:[{type:"subtask_position",responseType:"collection"},{type:"subtask",responseType:"collection"},{type:"note",responseType:"collection"},{type:"file",responseType:"collection"}]},{type:"membership",responseType:"collection"}]}]}}},{}],72:[function(e,t){var n=e("wunderbits.core"),r=n.WBEventEmitter,i=r.extend({missing:void 0,seen:void 0,initialize:function(e){var t=this;t.collections=e.collections,t.sync=e.sync,t.reset()},reset:function(){var e=this;e.missing={},e.seen={}},markMissing:function(e,t,n,r){var i=this,o={};e.forEach(function(e){if(e){var t=""+e.id;o[t]=!0}}),i.getScopedCollection(t,n,r,function(e){e&&e.models.forEach(function(e){var n=e.attributes,r=n.online_id,a=n.type;o[r]||i.hasBeenSeen(r,t)||i.pushIDtoMissing(r,a)});for(var n in o)i.pushIDtoSeen(n,t),i.removeIDfromMissing(n,t)})},pushIDtoSeen:function(e,t){this.pushToHash("seen",e,t)},pushIDtoMissing:function(e,t){this.pushToHash("missing",e,t)},pushToHash:function(e,t,n){var r=this,i=r[e];i[n]||(i[n]=[]),i[n].push(t)},hasBeenSeen:function(e,t){var n=this;return!(!n.seen[t]||-1===n.seen[t].indexOf(e))},removeIDfromMissing:function(e,t){var n=this;if(n.missing[t]){var r=n.missing[t],i=r.indexOf(e);-1!==i&&r.splice(i,1),n.missing[t]=r}},deleteMissing:function(){var e,t=this,n=!0;for(var r in t.missing){e=t.missing[r];for(var i;e.length;)i=e.shift(),void 0!==i&&t.trigger("delete",i,r,void 0,void 0,n)}t.reset()},getScopedCollection:function(e,t,n,r){this.sync.trigger("fetchScopedCollection",e,t,n,r)}});t.exports=i},{"wunderbits.core":12}],73:[function(e,t){t.exports={type:"list",responseType:"collection",childMethod:"forList",children:[{type:"subtask_position",responseType:"collection"},{type:"subtask",responseType:"collection"},{type:"note",responseType:"collection"},{type:"file",responseType:"collection"}]}},{}],74:[function(e,t){var n=e("magiconsole"),r=new n("SYNC:STRATEGY"),i=e("./Login"),o=i.extend({type:"refresh",fromSyncOptions:{fromSync:!0},execute:function(){var e=this,t=e.getSyncUID();e.trigger("started",t),r.info("executing refresh sync strategy"),e.sync.flushQueues().done(function(){e.destroyEverything(),e.fetchAllTheThings(t)})},saneOrder:["files","notes","reminders","task_comments","subtasks","subtask_positions","tasks","task_comments_states","task_positions","lists","folders","list_positions","memberships","services","settings","unread_activities_counts","activities","conversations","desktop_notifications","features","subscriptions","users"],destroyEverything:function(){var e,t,n=this;n.saneOrder.forEach(function(i){e=n.collections[i],r.debug("destroying",i,e.url),t=e.models,t.forEach(function(e){e.destroy(n.fromSyncOptions)})}),n.recreateInbox()},recreateInbox:function(){var e=this;e.collections.lists.add({id:"inbox",title:"",list_type:"inbox"},e.fromSyncOptions)}});t.exports=o},{"./Login":68,magiconsole:2}],75:[function(e,t){(function(n){var r=e("magiconsole"),i=new r("SYNC:WATCHER"),o=e("wunderbits.core"),a=o.WBEventEmitter,s=o.WBStateModel,u=o.lib.assert,c=a.extend({initialize:function(e){var t=this;u(e.sync,"Watcher requires a reference to the main Sync instance"),t.sync=e.sync,t.openSyncs=n.openSyncs={},t.model=new s({isSyncing:!1}),t.bindTo(t.sync,"sync:started","onSyncStarted"),t.bindTo(t.sync,"sync:ended","onSyncEnded")},onSyncStarted:function(e,t){var n=this;n.openSyncs[e]=t,n.model.set("isSyncing",!0)},onSyncEnded:function(e){var t=this,n=t.openSyncs;delete n[e],Object.keys(n).length||(t.model.set("isSyncing",!1),i.log("no longer syncing at all"))},isStrategySyncing:function(e){var t=this,n=t.openSyncs,r=Object.keys(n);if(!r.length)return!1;for(var i,o,a=0,s=r.length;s>a;a++)if(i=r[a],o=n[i],o===e)return!0;return!1}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{magiconsole:2,"wunderbits.core":12}],76:[function(e,t){(function(n){var r=e("wunderbits.core"),i=r.WBEventEmitter,o=r.mixins.WBDestroyableMixin,a=r.WBDeferred,s=r.lib.extend,u=e("./Changes/Local"),c=e("./Changes/Remote"),l=e("./FailSafe/FailSafe"),f=e("./Mixins/Trackers"),d=e("./Helpers/TitleCase"),h=e("./Helpers/Headers"),p=e("./Models/Tracker"),g=e("./Mixins/StrategyMixin"),v=e("./Watcher/Watcher"),m=e("magiconsole"),y=i.prototype,b=i.extend({mixins:[o,f,g],initialize:function(e){var t=this;if(y.initialize.apply(t,arguments),n.sync=t,!t.areValidOptions(e))throw new Error("Cannot initialize sync without a Database, WunderlistSDK, accessToken, or clientID present in options");t.setupLogging(e.config),t.initialized=new a;var r=s({},e.config,{accessToken:e.accessToken,clientID:e.clientID,deviceID:e.deviceID,instanceID:e.instanceID,extendHeaders:h.extendHeaders.bind(h)});t.sdk=new e.WunderlistSDK(r),t.models=e.models,t.collections=e.collections,t.watcher=new v({sync:t}),t.setupTrackers().done(function(){t.setupSyncStrategies(),l.init({trackers:t.trackers}),t.localChangeHandler=new u({sdk:t.sdk,trackers:t.trackers}),t.remoteChangeHandler=new c({sdk:t.sdk,trackers:t.trackers}),t.bindToChangeHandlers(),t.bindToWatcher(),t.bindToSelf(),t.initialized.resolve()})},setupLogging:function(e){e=e||{},e.logLevel&&m.setLevel(e.logLevel),e.logPattern&&m.setPattern(e.logPattern)},onDestroy:function(){var e=this,t=e.sdk;t&&t.destroy()},bindToChangeHandlers:function(){var e=this,t={update:e.triggerUpdate,create:e.triggerCreate,"delete":e.triggerDelete,fetchLocalData:e.fetchLocalData,fetchPreviousData:e.fetchPreviousData,updateSuccess:e.triggerUpdateSuccess},n=[e.localChangeHandler,e.remoteChangeHandler];n.forEach(function(n){for(var r in t)e.bindTo(n,r,t[r])}),e.bindTo(e.localChangeHandler,"flushing","triggerFlushing"),e.bindTo(e.remoteChangeHandler,"touch","triggerTouch"),e.bindTo(e.remoteChangeHandler,"cancelInflightCreate","cancelInflightCreate")},bindToWatcher:function(){var e=this,t=e.watcher.model;e.bindTo(t,"change:isSyncing",function(){e.trigger("isSyncing",!!t.attributes.isSyncing)})},bindToSelf:function(){var e=this,t=["create","update","delete"];t.forEach(function(t){var n=d.titleCase(t);e.bindTo(e,"local:"+t,function(){e.localChangeHandler["on"+n].apply(e.localChangeHandler,arguments)})})},triggerFlushing:function(e,t){this.trigger("flushing:"+e,t)},triggerUpdate:function(e,t,n,r,i,o){this.trigger("update",e,t,n,r,i,o)},triggerUpdateSuccess:function(e,t,n){this.trigger("updateSuccess",e,t,n)},triggerCreate:function(e,t,n,r,i,o){this.trigger("create",e,t,n,r,i,o)},triggerDelete:function(e,t,n,r){this.trigger("delete",e,t,n,r)},triggerTouch:function(e,t,n){this.trigger("touch",e,t,n)},fetchLocalData:function(e,t,n){this.trigger("fetchLocalData",e,t,n)},fetchPreviousData:function(e,t,n){this.trigger("fetchPreviousData",e,t,n)},areValidOptions:function(e){return!!(e&&e.WunderlistSDK&&e.clientID&&e.accessToken&&e.models&&e.collections)},flushQueues:function(){var e=this,t=e.localChangeHandler;return t.flushQueues.apply(t,arguments)},cancelInflightCreate:function(e,t,n){var r=this;r.sdk&&r.sdk.cancelInflightCreate(e,t,n)}},{models:{Tracker:p},helpers:{headers:h}});t.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Changes/Local":40,"./Changes/Remote":47,"./FailSafe/FailSafe":55,"./Helpers/Headers":56,"./Helpers/TitleCase":57,"./Mixins/StrategyMixin":59,"./Mixins/Trackers":60,"./Models/Tracker":61,"./Watcher/Watcher":75,magiconsole:2,"wunderbits.core":12}]},{},[76])(76)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("dist/nlp",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.nlp=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){t.exports=function(e,t,n){var r,i,o,a,s,u,c;for(null==n&&(n={}),s="number"==typeof e,s&&(u=[e,t],t=u[0],e=u[1]),"string"==typeof n&&(n={"char":n}),null==n["char"]&&(n["char"]=" "),e=e.toString(),a="",n.colors&&(r=/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]/g,t+=e.length-e.replace(r,"").length),t-=e.length,i=o=0,c=t;c>=0?c>o:o>c;i=c>=0?++o:--o)a+=n["char"];return s?a+e:e+a}},{}],2:[function(e,t){t.exports={"de-DE":["uhr"],"en-US":["am","a.m."],"ja-JP":["午前"],"zh-CN":["上午"],"zh-TW":["上午"],"sv-SE":[],es:["de la mañana"]}},{}],3:[function(e,t){t.exports={"de-DE":["übermorgen"],"en-US":["day after tomorrow"],"ja-JP":["明後日"],"zh-CN":["后天","后日"],"zh-TW":["後天","後日"],"sv-SE":["i övermorgon","i övermorron","i övermorrn","i övermon"],es:["pasado mañana"]}},{}],4:[function(e,t){var n=e("./templates/compile"),r=e("./months"),i=e("./templates/in");t.exports=n(r,i)},{"./months":8,"./templates/compile":21,"./templates/in":22}],5:[function(e,t){var n=e("./templates/compile"),r=e("./monthsShort"),i=e("./templates/in");t.exports=n(r,i)},{"./monthsShort":9,"./templates/compile":21,"./templates/in":22}],6:[function(e,t){t.exports={dayAfterTomorrow:e("./dayAfterTomorrow"),later:e("./later"),never:e("./never"),nextWeek:e("./nextWeek"),nextMonth:e("./nextMonth"),nextYear:e("./nextYear"),nextWeekdays:e("./nextWeekdays"),nextWeekdaysShort:e("./nextWeekdaysShort"),onWeekdays:e("./onWeekdays"),onWeekdaysShort:e("./onWeekdaysShort"),thisWeekdays:e("./thisWeekdays"),thisWeekdaysShort:e("./thisWeekdaysShort"),months:e("./months"),monthsShort:e("./monthsShort"),inMonth:e("./inMonth"),inMonthShort:e("./inMonthShort"),someday:e("./someday"),soon:e("./soon"),thisWeek:e("./thisWeek"),today:e("./today"),tomorrow:e("./tomorrow"),weekdays:e("./weekdays"),weekdaysShort:e("./weekdaysShort"),am:e("./am"),pm:e("./pm")}},{"./am":2,"./dayAfterTomorrow":3,"./inMonth":4,"./inMonthShort":5,"./later":7,"./months":8,"./monthsShort":9,"./never":10,"./nextMonth":11,"./nextWeek":12,"./nextWeekdays":13,"./nextWeekdaysShort":14,"./nextYear":15,"./onWeekdays":16,"./onWeekdaysShort":17,"./pm":18,"./someday":19,"./soon":20,"./thisWeek":26,"./thisWeekdays":27,"./thisWeekdaysShort":28,"./today":29,"./tomorrow":30,"./weekdays":31,"./weekdaysShort":32}],7:[function(e,t){t.exports={"de-DE":["später"],"en-US":["later","l8","l8r","inabit"],"ja-JP":["後で"],"zh-CN":["以后","之后","后"],"zh-TW":["以后","之后","后"],"sv-SE":["senare"],es:["después","más tarde"]}},{}],8:[function(e,t){t.exports={"de-DE":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],"en-US":["january","february","march","april","may","june","july","august","september","october","november","december"],"ja-JP":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],"sv-SE":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],es:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],"zh-CN":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],"zh-TW":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}},{}],9:[function(e,t){t.exports={"de-DE":void 0,"en-US":["jan","feb","mar","apr","may","june","july","aug","sept","oct","nov","dec"],es:void 0,"ja-JP":void 0,"sv-SE":void 0,"zh-CN":void 0,"zh-TW":void 0}},{}],10:[function(e,t){t.exports={"de-DE":["nie"],"en-US":["never","neva","nevah","nevr","nvr","nevarz"],"ja-JP":["決して"],"sv-SE":["aldrig"],es:["nunca"]}},{}],11:[function(e,t){t.exports={"de-DE":["nächsten Monat","in einem monat"],"en-US":["next month"],"ja-JP":["来月"],"zh-CN":["下个月","下月"],"zh-TW":["下個月","下月"],"sv-SE":["nästa månad","om en månad"],es:["siguiente mes","en un mes"]}},{}],12:[function(e,t){t.exports={"de-DE":["nächste Woche","in einer woche"],"en-US":["next week"],"ja-JP":["来週"],"zh-CN":["下周","下星期"],"zh-TW":["下星期","下週"],"sv-SE":["nästa vecka","om en vecka"],es:["siguiente semana","en una semana"]}},{}],13:[function(e,t){var n=e("./templates/compile"),r=e("./weekdays"),i=e("./templates/next");t.exports=n(r,i)},{"./templates/compile":21,"./templates/next":23,"./weekdays":31}],14:[function(e,t){var n=e("./templates/compile"),r=e("./weekdaysShort"),i=e("./templates/next");t.exports=n(r,i)},{"./templates/compile":21,"./templates/next":23,"./weekdaysShort":32}],15:[function(e,t){t.exports={"de-DE":["nächstes Jahr","in einem jahr"],"en-US":["next year"],"ja-JP":["来年"],"zh-CN":["下年","下一年","下年度"],"zh-TW":["下年","下一年","下年度"],"sv-SE":["nästa år","om ett år"],es:["el año que viene","en un año"]}},{}],16:[function(e,t){var n=e("./templates/compile"),r=e("./weekdays"),i=e("./templates/on");t.exports=n(r,i)},{"./templates/compile":21,"./templates/on":24,"./weekdays":31}],17:[function(e,t){var n=e("./templates/compile"),r=e("./weekdaysShort"),i=e("./templates/on");t.exports=n(r,i)},{"./templates/compile":21,"./templates/on":24,"./weekdaysShort":32}],18:[function(e,t){t.exports={"de-DE":[],"en-US":["pm","p.m."],"ja-JP":["午後"],"zh-CN":["下午","晚上","明晚"],"zh-TW":["下午","晚上","明晚"],"sv-SE":[],es:["de la tarde"]}},{}],19:[function(e,t){t.exports={"de-DE":["irgendwann"],"en-US":["someday"],"ja-JP":["いつか"],"zh-CN":["某天","某日"],"zh-TW":["某天","某日"],"sv-SE":["någon gång"],es:["algún día"]}},{}],20:[function(e,t){t.exports={"de-DE":["bald","demnächst"],"en-US":["soon","rsn"],"ja-JP":["すぐ"],"zh-CN":["不久","短期","近期","不久之后"],"zh-TW":["不久","短期","近期"],"sv-SE":["snart","strax","om en stund"],es:["pronto"]}},{}],21:[function(e,t){t.exports=function(e,t){var n={};return Object.keys(e).forEach(function(r){var i=t[r],o=e[r];i&&o&&(n[r]=o.map(function(e){return i.replace("$",e)}))}),n}},{}],22:[function(e,t){t.exports={"de-DE":"im $","en-US":"in $","ja-JP":"$に","sv-SE":"i $",es:"en $","zh-TW":"$","zh-CN":"$"}},{}],23:[function(e,t){t.exports={"de-DE":"nächste $","en-US":"next $","ja-JP":"来週の$","zh-CN":"下个$","zh-TW":"下個$","sv-SE":"nästa $",es:"siguiente $"}},{}],24:[function(e,t){t.exports={"de-DE":"am $","en-US":"on $","ja-JP":void 0,"sv-SE":void 0,es:"el $","zh-TW":void 0,"zh-CN":void 0}},{}],25:[function(e,t){t.exports={"de-DE":"diesen $","en-US":"this $","ja-JP":void 0,"sv-SE":void 0,es:void 0,"zh-TW":void 0,"zh-CN":void 0}},{}],26:[function(e,t){t.exports={"de-DE":["diese Woche","Ende der Woche","ende dieser Woche"],"en-US":["this week","end of this week","wk","7daw"],"ja-JP":["今週末","今週"],"zh-CN":["今周内","本周","本星期","周末前","本周结束前","今个星期内"],"zh-TW":["今週內","本週","本星期","週末前","本週結束前","今個星期內"],"sv-SE":["denna vecka","den här veckan","vid veckoslutet","slutet av veckan"],es:["esta semana","final de esta semana","semana"]}},{}],27:[function(e,t){var n=e("./templates/compile"),r=e("./weekdays"),i=e("./templates/this");t.exports=n(r,i)},{"./templates/compile":21,"./templates/this":25,"./weekdays":31}],28:[function(e,t){var n=e("./templates/compile"),r=e("./weekdaysShort"),i=e("./templates/this");t.exports=n(r,i)},{"./templates/compile":21,"./templates/this":25,"./weekdaysShort":32}],29:[function(e,t){t.exports={"de-DE":["heute"],"en-US":["today","tonight","2day","2dae","now","noaw","asap"],"ja-JP":["今日","今晩","今夜"],"zh-CN":["今天","今日"],"zh-TW":["今天","今日"],"sv-SE":["idag"],es:["hoy"]}},{}],30:[function(e,t){t.exports={"de-DE":["morgen","in einem tag"],"en-US":["tomorrow","tomo","tommo","tmmrw","2morrow","tmoz","tmr","tmrw","tmrz","tmz","tomm","morrow","tomorra"],"ja-JP":["明日"],"zh-CN":["明天","明日","明晚"],"zh-TW":["明天","明日","聽日","明晚"],"sv-SE":["imorgon","i morgon","imorrn","i morrn","imorron","i morron","imon"],es:["mañana","en un día"]}},{}],31:[function(e,t){t.exports={"de-DE":["sonntag","montag","dienstag","mittwoch","donnerstag","freitag","samstag"],"en-US":["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],"ja-JP":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"sv-SE":["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],es:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],"zh-CN":["周日","周一","周二","周三","周四","周五","周六"],"zh-TW":["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}},{}],32:[function(e,t){t.exports={"de-DE":["so","mo","di","mi","do","fr","sa"],"en-US":["sun","mon","tues","wed","thurs","fri","sat"],"ja-JP":["日曜","月曜","火曜","水曜","木曜","金曜","土曜"],"sv-SE":["sön","mån","tis","ons","tors","fre","lör"],es:["dom","lun","mar","mie","jue","vie","sab"],"zh-CN":["周日","周一","周二","周三","周四","周五","周六"],"zh-TW":["週日","週一","週二","週三","週四","週五","週六"]}},{}],33:[function(e,t){var n={oneHour:36e5,oneDay:864e5,oneYear:31536e6};t.exports={_now:function(){return new Date},_startOfDay:function(){var e=this._now();return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},_setTime:function(e,t){var n=t.split(":"),r=parseInt(n[0],10),i=parseInt(n[1],10);return e.setHours(r),e.setMinutes(i),e},addDays:function(e,t){return e.setTime(e.valueOf()+t*n.oneDay),e},now:function(){return this._now().valueOf()},dateNow:function(){return this._now()},dateSOD:function(){return this._startOfDay()},dateFromTime:function(e){var t=this,n=t._now();return n=t._setTime(n,e)},getCurrentDay:function(){return this._now().getDay()},inXDays:function(e){var t=this,n=t._now();return n=t.addDays(n,e),n.valueOf()},inXWeeks:function(e){var t=this,n=t.inXDays(7*e);return n.valueOf()},inXMonths:function(e){var t=this._now(),n=t.getFullYear(),r=t.getMonth(),i=r+e;return i>11&&(i-=11,n+=1),t.setMonth(i),t.setFullYear(n),t.valueOf()},inXYears:function(e){var t=this._now(),n=t.getFullYear();return n+=e,t.setFullYear(n),t.valueOf()},getTodayDate:function(){var e=this._now();return e.setTime(e.valueOf()+n.oneHour),e.valueOf()},getTodayDateWithTime:function(e){var t=this;return t._setTime(t._now(),e).valueOf()},getTomorrowDateWithTime:function(e){var t=this,n=t._now();return n=t.addDays(n,1),t._setTime(n,e)},getDateWithTime:function(e,t){var n=this,r=n._now();return r.setTime(e),n._setTime(r,t).valueOf()},getTomorrowDate:function(){var e=this,t=e._startOfDay();return t=e.addDays(t,1),t.valueOf()},getDayAfterTomorrowDate:function(){var e=this,t=e._startOfDay();return t=e.addDays(t,2),t.valueOf()},getThisWeekDate:function(){var e=this,t=e._now(),n=t.getDay();if(n>0){var r=7-n;t=e.addDays(t,r)}return t.valueOf()},getMonthAndDay:function(e,t){var n=this,r=n._now(),i=r.valueOf();if(r.setMonth(e,t),r.valueOf()<i){var o=r.getFullYear();r.setFullYear(o+1)}return r.valueOf()},getMonthAndDayAndYear:function(e,t,n){var r=this._now();if(n=""+n,n.length<=2){var i=r.getFullYear(),o=(""+i).slice(0,-2);i=parseInt(o+"00",10),n=i+parseInt(n,10)}return r.setMonth(e,t),r.setFullYear(n),r.valueOf()},getInMonth:function(e){var t=this._now(),n=t.getMonth(),r=t.getFullYear(),i=1;return n>e?r+=1:e===n&&(e=n+1,i=0),t.setFullYear(r),t.setMonth(e,i),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.valueOf()},getNeverDate:function(){var e=this._now();return e.setFullYear(e.getFullYear()+42),e.valueOf()},getSoonDate:function(){var e=this,t=e._now(),n=5+Math.round(9*Math.random());return t=e.addDays(t,n),t.valueOf()},getSomeDate:function(){var e=this,t=e._now(),n=30+Math.round(10*Math.random());return t=e.addDays(t,n),t.valueOf()},getLater:function(){var e=this._now();
return e.setTime(e.valueOf()+4*n.oneHour),e.valueOf()},getNextWeek:function(){var e=this,t=e._now();return t=e.addDays(t,7),t.valueOf()},getNextMonth:function(){var e=this._now(),t=e.getMonth();return 11===t?(t=0,e.setFullYear(e.getFullYear()+1)):t+=1,e.setMonth(t,e.getDate()),e.valueOf()},getNextYear:function(){var e=this._now();return e.setTime(e.valueOf()+n.oneYear),e.valueOf()}}},{}],34:[function(e,t){t.exports={supportedLanguages:["de-DE","en-US","ja-JP","zh-CN","zh-TW","sv-SE","es"],noWordBoundaries:["ja-JP","zh-CN","zh-TW"],normalize:function(e){var t=this,n=t.supportedLanguages,r=e&&e.replace("_","-");r=t._normalizeSuffix(r);var i;if(r&&n.indexOf(r)>-1&&(i=r),!i){var o=r&&r.split("-")[0];i=o&&t._findFromPrefix(o)}return i||"en-US"},_normalizeSuffix:function(e){var t=e&&e.split("-"),n=t&&t[1];return n&&(t[1]=n.toUpperCase(),e=t.join("-")),e},_findFromPrefix:function(e){var t;return this.supportedLanguages.some(function(n){var r=0===n.indexOf(e);return r&&(t=n),r}),t}}},{}],35:[function(e,t){var n="0123456789",r="０１２３４５６７８９",i=new RegExp("["+r+"]","gi");t.exports={normalize:function(e){return this._replaceFullWidth(e)},_replaceFullWidth:function(e){return e.replace(i,function(e){return n[r.indexOf(e)]})}}},{}],36:[function(e,t){function n(){var e,t,n={"every (\\d+) $":"$1","every $":1,$ly:1,bi$ly:2,"every other $":2},r={daily:"/1d",annually:"/1y",biweekly:"/2w","every (\\w+)day":"/w $1day","every other (\\w+)day":"/2w $1day"};for(var i in p)for(var o in n)e=o.replace("$",p[i]).toLowerCase(),r[e]="/"+n[o]+i;for(e in r)t=r[e],e=new RegExp(e,"i"),h.push([e,t])}var r=e("./times"),i=e("../patterns"),o=e("../dictionaries"),a=e("../lib/languages"),s=e("../lib/createDate"),u=e("../lib/numbers"),c=e("../dictionaries/templates/next"),l=e("../dictionaries/templates/on"),f=e("../dictionaries/templates/this"),d={today:"getTodayDate",dayAfterTomorrow:"getDayAfterTomorrowDate",tomorrow:"getTomorrowDate",thisWeek:"getThisWeekDate",nextWeek:"getNextWeek",nextMonth:"getNextMonth",nextYear:"getNextYear",never:"getNeverDate",soon:"getSoonDate",later:"getLater",someday:"getSomeDate"},h=[],p={d:"Day",w:"Week",m:"Month",y:"Year"};n(),t.exports={parse:function(e,t){t=t||{};var n,i,o,s=this,c=t.futureOnly,l=t.ignoreRepeats,f=a.normalize(t.langCode),d=u.normalize(e),h={date:void 0,interval:void 0,frequency:void 0,text:void 0,index:void 0,length:void 0,time:{}};if(d.length){l||(o=s.parseRepeatPatterns(d,f));var p=s.parseIntervalDate(d,f),g=s.parseAbsoluteDate(d,f),v=s.parseRelativeDate(d,f);n=p||g||v,i=r.parse(d,{langCode:f});var m=n&&new Date(n.date).valueOf(),y=Date.now(),b=n&&y>m;c&&b&&(n=void 0)}return n&&["date","text","index","length","type"].forEach(function(e){h[e]=n[e]}),o&&(h.interval=o.interval,h.frequency=o.frequency),i&&(h.time=i),h=s._reconsileDateAndTime(h)},_reconsileDateAndTime:function(e){var t=e.time.time;if(t&&!e.date){var n=s.dateNow(),r=s.dateFromTime(t);e.date=n.valueOf()>=r.valueOf()?s.getTomorrowDateWithTime(t):s.getTodayDateWithTime(t),["text","index","length"].forEach(function(t){e[t]=e.time[t]})}else e.time.time&&e.date&&(e.date=s.getDateWithTime(e.date,t));return e},parseAbsoluteDate:function(e,t){var n,r=this,o=i.absoluteDates[t];return o&&Object.keys(o).forEach(function(i){if(!n){var a=o[i],s=a&&e.match(a);if(s){var u=s[0],c=s[1],l=s[2],f=s[3],d=r[i](t,c,l,f);d&&(n={text:u,index:e.search(u),length:u.length,date:d,type:i})}}}),n},_getMonthNumber:function(e,t){var n=o.months[e],r=o.monthsShort[e];t=t&&t.toLowerCase();var i=n.indexOf(t);return r&&-1===i&&(i=r.indexOf(t)),i>-1?i:void 0},monthNameDayYear:function(e,t,n,r){var i=this._getMonthNumber(e,t),o=parseInt(n,10);return void 0!==i&&n&&r?s.getMonthAndDayAndYear(i,o,r):void 0},monthNameDay:function(e,t,n){var r=this,i=r._getMonthNumber(e,t),o=parseInt(n,10);return void 0!==i&&n?s.getMonthAndDay(i,o):void 0},monthNumberDayYear:function(e,t,n,r){var i=parseInt(t,10),o=parseInt(n,10),a=parseInt(r,10);return void 0!==t&&n&&r?s.getMonthAndDayAndYear(i-1,o,a):void 0},monthNumberDay:function(e,t,n){var r=parseInt(t,10),i=parseInt(n,10);return void 0!==r&&i?s.getMonthAndDay(r-1,i):void 0},monthNumber:function(e,t){var n=parseInt(t,10);return n?this.monthNumberDay(a,n-1,1):void 0},dayMonthNameYear:function(e,t,n,r){return this.monthNameDayYear(e,n,t,r)},dayMonthName:function(e,t,n){return this.monthNameDay(e,n,t)},dayNumberMonthYear:function(e,t,n,r){return this.monthNumberDayYear(e,n,t,r)},dayNumberMonth:function(e,t,n){return this.monthNumberDay(e,n,t)},yearMonthDay:function(e,t,n,r){return this.monthNumberDayYear(e,n,r,t)},parseRelativeDate:function(e,t){var n,r=this,o=i.allWeekdayTargets[t],a=o&&e.match(o);a&&a.forEach(function(i){if(i&&!n){var o=r.parseWeekdays(i,t);o&&(n={text:i,index:e.search(i),length:i.length,date:o.date,type:o.type})}});var u=i.inMonthTargets[t],c=u&&e.match(u);return!n&&c&&c.forEach(function(i){if(i&&!n){var o=r.parseInMonth(i,t);o&&(n={text:i,index:e.search(i),length:i.length,date:o,type:"inMonth"})}}),n||Object.keys(d).forEach(function(r){var o=i[r][t];if(!n&&o&&o.test(e)){var a=e.match(o)[0];n={text:a,index:e.search(a),length:a.length,date:s[d[r]](),type:r}}}),n},parseIntervalDate:function(e,t){var n,r=i.dateIntervals[t];return r&&Object.keys(r).forEach(function(t){var i=r[t];if(!n&&i.test(e)){var o=e.match(i),a=o[0],u=parseInt(o[1]),c=s[t](u);c&&(n={text:a,index:e.search(a),length:a.length,date:c,type:t})}}),n},parseWeekdays:function(e,t){var n,r,i,a=this,s={nextWeekday:"_extractNextWeekdayData",onWeekday:"_extractOnWeekdayData",thisWeekday:"_extractThisWeekdayData"},u=o.weekdays[t],c=o.weekdaysShort[t];e=e.toLowerCase(),Object.keys(s).forEach(function(n){if(!r){var i=a[s[n]](e,t);i&&(e=i,r=n,s[n]=!0)}}),i=s.nextWeekday===!0;var l=u.indexOf(e)>-1,f=c.indexOf(e)>-1;return(l||f)&&(n=a.dateFromDayOfTheWeek(e,i,t),r=r?f?r+"Short":r:"weekday"+(f?"Short":"")),n?{date:n.valueOf(),type:r}:void 0},_extractNextWeekdayData:function(e,t){var n=o.weekdays[t],r=o.weekdaysShort[t],a=i.nextWeekdays[t],s=i.nextWeekdaysShort[t],u=c[t];u=u.replace("$","");var l=!1,f=e.split(u),d=a.test(e)||s.test(e),h=d&&n.indexOf(f[1])>-1,p=d&&r.indexOf(f[1])>-1;return(h||p)&&(e=f[1],l=!0),l?e:void 0},_extractOnWeekdayData:function(e,t){var n=o.weekdays[t],r=o.weekdaysShort[t],a=i.onWeekdays[t],s=i.onWeekdaysShort[t],u=l[t],c=!1;if(u){u=u.replace("$","");var f=e.split(u),d=f[1]&&f[1].toLowerCase(),h=a.test(e)||s.test(e),p=h&&n.indexOf(d)>-1,g=h&&r.indexOf(d)>-1;(p||g)&&(e=f[1],c=!0)}return c?e:void 0},_extractThisWeekdayData:function(e,t){var n=o.weekdays[t],r=o.weekdaysShort[t],a=i.thisWeekdays[t],s=i.thisWeekdaysShort[t],u=f[t],c=!1;if(u){u=u.replace("$","");var l=e.split(u),d=l[1]&&l[1].toLowerCase(),h=a.test(e)||s.test(e),p=h&&n.indexOf(d)>-1,g=h&&r.indexOf(d)>-1;(p||g)&&(e=l[1],c=!0)}return c?e:void 0},dateFromDayOfTheWeek:function(e,t,n){var r=o.weekdays[n],i=o.weekdaysShort[n],a=r.indexOf(e)>-1,u=a?r.indexOf(e)+1:i.indexOf(e)+1,c=s.getCurrentDay()+1,l=u-c;0>=l&&(l+=7),t&&7-c>=l&&(l+=7);var f=s.dateSOD();return s.addDays(f,l)},parseInMonth:function(e,t){e=e.toLowerCase();var n=o.inMonth[t],r=o.inMonthShort[t],i=n.indexOf(e);return r&&-1===i&&(i=r.indexOf(e)),i>-1?s.getInMonth(i):void 0},parseRepeatPatterns:function(e){var t,n=this;return h.forEach(function(r){var i=e.match(r[0]);i&&i.forEach(function(e){!t&&(t=n.parseRepeatPattern(e))})}),t},parseRepeatPattern:function(e){for(var t,n,r=e,i=/\/(\d*)(d|w|m|y)\w*/,o=0;o<h.length;o++)r=r.replace(h[o][0],h[o][1]);return r=r.replace(i,function(e,r,i){return 0!==parseInt(r,10)&&""!==r&&!isNaN(r)&&p[i]?(n={interval:t=p[i].toLowerCase()+"s",frequency:parseInt(r,10)},""):void 0}),n}}},{"../dictionaries":6,"../dictionaries/templates/next":23,"../dictionaries/templates/on":24,"../dictionaries/templates/this":25,"../lib/createDate":33,"../lib/languages":34,"../lib/numbers":35,"../patterns":40,"./times":37}],37:[function(e,t){var n=e("pad"),r=e("../patterns"),i=e("../lib/languages"),o=r.times,a=["atTimeAM","atTimePM","atTime24","atHour"];t.exports={parse:function(e,t){t=t||{};var n,r=this,s=i.normalize(t.langCode),u={text:void 0,time:void 0,index:void 0,length:void 0};return a.forEach(function(t){if(!n){var i=o[s][t];i&&i.test(e)&&(n=r["_"+t](e,s))}}),n&&Object.keys(u).forEach(function(e){u[e]=n[e]}),u},_atTimeAM:function(e,t){var n=this,r=o[t].atTimeAM,i=e.match(r),a=i[0],s=i[1],u=i[2],c=parseInt(s,10);return s=12===c?0:c,s=n._zeroPad(s),u=n._zeroPad(u),{text:a,time:s+":"+u,index:e.search(a),length:a.length}},_atTimePM:function(e,t){var n=this,r=o[t].atTimePM,i=e.match(r),a=i[0],s=i[1],u=i[2],c=parseInt(s,10);return s=12!==c?c+12:c,s=n._zeroPad(s),u=n._zeroPad(u),{text:a,time:s+":"+u,index:e.search(a),length:a.length}},_atTime24:function(e,t){var n=this,r=o[t].atTime24,i=e.match(r),a=i[0],s=i[1],u=i[2];return s=n._zeroPad(s),u=n._zeroPad(u),{text:a,time:s+":"+u,index:e.search(a),length:a.length}},_atHour:function(e,t){var n=this,r=o[t].atHour,i=e.match(r),a=i[0],s=i[1];return s=n._zeroPad(s),{text:a,time:s+":00",index:e.search(a),length:a.length}},_zeroPad:function(e){return e=e||"",n(2,e,"0")}}},{"../lib/languages":34,"../patterns":40,pad:1}],38:[function(e,t){function n(e){return new RegExp(r+e+i,"i")}var r="(?:\\b|^)",i="(?:\\b|$)",o="(?:,|\\.|-)?(?:\\s)?",a={"en-US":"(?:(?:on|by)\\s*)?","sv-SE":"(?:(?:den)\\s*)?","de-DE":"(?:(?:am)\\s*)?"};t.exports={"de-DE":{dayMonthNameYear:n(a["de-DE"]+"(\\d?\\d)"+o+"([\\w]+)"+o+"(?:\\')?(\\d\\d\\d\\d|\\d\\d)"),dayMonthName:n(a["de-DE"]+"(\\d?\\d)"+o+"([\\w]+)"),dayNumberMonthYear:n(a["de-DE"]+"(\\d?\\d)(?:\\.)(\\d?\\d)(?:\\.)(\\d\\d\\d\\d|\\d\\d)"),dayNumberMonth:n(a["de-DE"]+"(\\d?\\d)(?:\\.)(\\d?\\d)")},"en-US":{monthNameDayYear:n(a["en-US"]+"([\\w]+)"+o+"(\\d?\\d)(?:[\\w]+)?"+o+"(?:\\')?(\\d\\d\\d\\d|\\d\\d)"),monthNameDay:n(a["en-US"]+"([\\w]+)"+o+"(\\d?\\d)(?:[\\w]+)?"),monthNumberDayYear:n(a["en-US"]+"(\\d?\\d)(?:\\/)(\\d?\\d)(?:\\/)(\\d\\d\\d\\d|\\d\\d)"),monthNumberDay:n(a["en-US"]+"(\\d?\\d)(?:\\/)(\\d?\\d)")},"ja-JP":{monthNumberDay:/(\d?\d)(?:月|\/)(\d?\d)(?:日?に?)?/i,monthNumber:/(\d?\d)(?:月の?)/i},"zh-CN":{monthNumberDay:/(\d?\d)(?:月)(\d?\d)(?:日)?/i,monthNumber:/(\d?\d)(?:月)/i},"zh-TW":{monthNumberDay:/(\d?\d)(?:月)(\d?\d)(?:日)?/i,monthNumber:/(\d?\d)(?:月)/i},"sv-SE":{dayMonthNameYear:n(a["sv-SE"]+"(\\d?\\d)"+o+"([\\w]+)"+o+"(?:\\')?(\\d\\d\\d\\d|\\d\\d)"),dayMonthName:n(a["sv-SE"]+"(\\d?\\d)"+o+"([\\w]+)"),yearMonthDay:/(\d\d\d\d|\d\d)(?:\/|\-|\.)(\d?\d)(?:\/|\-|\.)(\d?\d)/i},es:{monthNameDay:void 0}}},{}],39:[function(e,t){t.exports={"de-DE":{inXDays:/in\s+(\d+)\s+Tag(en)?/i,inXWeeks:/in\s+(\d+)\s+Woche(n)?/i,inXMonths:/in\s+(\d+)\s+Monat(en)?/i,inXYears:/in\s+(\d+)\s+Jahr(en)?/i},"en-US":{inXDays:/in\s+(\d+)\s+days?/i,inXWeeks:/in\s+(\d+)\s+weeks?/i,inXMonths:/in\s+(\d+)\s+months?/i,inXYears:/in\s+(\d+)\s+years?/i},"ja-JP":{inXDays:/(\d+)日以内/i,inXWeeks:/(\d+)週間以内?/i,inXMonths:/(\d+)ヶ月以内?/i,inXYears:/(\d+)年以内?/i},"zh-CN":{inXDays:/(\d+)(?:天内|日内|天以内)/i,inXWeeks:/(\d+)(?:星期内|周内|星期以内|周以内)/i,inXMonths:/在?(\d+)(?:个月内|个月以内|个月内|个月以内)/i,inXYears:/在?(\d+)(?:年内|年以内|年内|年以内)/i},"zh-TW":{inXDays:/(\d+)(?:天內|日內|天以內)/i,inXWeeks:/(\d+)(?:星期內|週內|星期以內|週以內)/i,inXMonths:/在?(\d+)(?:個月內|個月以內|個月內|個月以內)/i,inXYears:/在?(\d+)(?:年內|年以內|年內|年以內)/i},"sv-SE":{inXDays:/om\s+(\d+)\s+dagar?/i,inXWeeks:/om\s+(\d+)\s+veckor?/i,inXMonths:/om\s+(\d+)\s+månader?/i,inXYears:/om\s+(\d+)\s+år?/i},es:{inXDays:/en\s+(\d+)\s+días?/i,inXWeeks:/en\s+(\d+)\s+semanas?/i,inXMonths:/en\s+(\d+)\s+meses?/i,inXYears:/en\s+(\d+)\s+años?/i}}},{}],40:[function(e,t){var n=e("../dictionaries"),r=e("./dateIntervals"),i=e("./times"),o=e("./absoluteDates"),a=e("../lib/languages"),s=a.supportedLanguages,u=a.noWordBoundaries,c={},l="(?:\\b|^)",f="(?:\\b|$)";Object.keys(n).forEach(function(e){c[e]={},s.forEach(function(t){var r=u.indexOf(t)<0,i=n[e][t];if(i&&i.length){var o=n[e][t].map(function(e){return r?l+e+f:e});c[e][t]=new RegExp(o.join("|"),"i")}})}),c.absoluteDates=o,c.dateIntervals=r,c.times=i,c.allWeekdayTargets={},s.forEach(function(e){var t=u.indexOf(e)<0;if(n.weekdays[e]){var r=[].concat(n.weekdays[e]).concat(n.nextWeekdays[e]).concat(n.onWeekdays[e]).concat(n.thisWeekdays[e]).concat(n.weekdaysShort[e]).concat(n.nextWeekdaysShort[e]).concat(n.onWeekdaysShort[e]).concat(n.thisWeekdaysShort[e]).map(function(e){return t?l+e+f:e});c.allWeekdayTargets[e]=new RegExp(r.join("|"),"i")}}),c.inMonthTargets={},s.forEach(function(e){var t=u.indexOf(e)<0,r=n.inMonth[e];if(r){var i=[].concat(r),o=n.inMonthShort[e];o&&(i=i.concat(o)),i=i.map(function(e){return t?l+e+f:e}),c.inMonthTargets[e]=new RegExp(i.join("|"),"i")}}),t.exports=c},{"../dictionaries":6,"../lib/languages":34,"./absoluteDates":38,"./dateIntervals":39,"./times":41}],41:[function(e,t){var n=e("../dictionaries"),r="(?:\\b|^)",i="(?:\\b|$)";t.exports={"de-DE":{atTimeAM:new RegExp(r+"um (\\d?\\d)(?::|\\s)?(\\d\\d)?(?:\\s)?(?:"+n.am["de-DE"].join("|")+")"+i,"i"),atTime24:/(?:\b|^)um (\d?\d)(?::)(\d\d)(?:\b|$)/i,atHour:/(?:\b|^)um (\d?\d)(?:\b|$)/i},"en-US":{atTimeAM:new RegExp(r+"at (\\d?\\d)(?::|\\s)?(\\d\\d)?(?:\\s)?(?:"+n.am["en-US"].join("|")+")"+i,"i"),atTimePM:new RegExp(r+"at (\\d?\\d)(?::|\\s)?(\\d\\d)?(?:\\s)?(?:"+n.pm["en-US"].join("|")+")"+i,"i"),atTime24:/(?:\b|^)at (\d?\d)(?::)(\d\d)(?:\b|$)/i,atHour:/(?:\b|^)at (\d?\d)(?:\b|$)/i},"ja-JP":{atTimeAM:new RegExp("(?:"+n.am["ja-JP"].join("|")+")(\\d?\\d)(?::)?(\\d\\d)?時?に","i"),atTimePM:new RegExp("(?:"+n.pm["ja-JP"].join("|")+")(\\d?\\d)(?::)?(\\d\\d)?時?に","i"),atTime24:/(\d?\d)(?::)(\d\d)に/i,atHour:/(\d?\d)時に/i},"zh-CN":{atTimeAM:new RegExp("(?:"+n.am["zh-CN"].join("|")+")(\\d?\\d)(?:点|时)?(\\d?\\d)?分?","i"),atTimePM:new RegExp("(?:"+n.pm["zh-CN"].join("|")+")(\\d?\\d)(?:点|时)?(\\d?\\d)?分?","i"),atTime24:/(\d?\d)(?:点|时)(\d?\d)分/i},"zh-TW":{atTimeAM:new RegExp("(?:"+n.am["zh-TW"].join("|")+")(\\d?\\d)(?:點|時)?(\\d?\\d)?分?","i"),atTimePM:new RegExp("(?:"+n.pm["zh-TW"].join("|")+")(\\d?\\d)(?:點|時)?(\\d?\\d)?分?","i"),atTime24:/(\d?\d)(?:點|時)(\d?\d)分/i},"sv-SE":{atTime24:/(?:\b|^)(?:(?:klockan|kl)\s?)?(\d?\d)(?::)(\d\d)(?:\b|$)/i,atHour:/(?:\b|^)(?:klockan|kl)\s?(\d?\d)(?:\b|$)/i},es:{atTimeAM:new RegExp(r+"(\\d?\\d)(?::|\\s)?(\\d\\d)?(?:\\s)?(?:"+n.am.es.join("|")+")"+i,"i"),atTimePM:new RegExp(r+"(\\d?\\d)(?::|\\s)?(\\d\\d)?(?:\\s)?(?:"+n.pm.es.join("|")+")"+i,"i"),atTime24:/(?:\b|^)(?:a las)?(\d?\d)(?::)(\d\d)(?:\b|$)/i,atHour:/(?:\b|^)a las (\d?\d)(?:\b|$)/i}}},{"../dictionaries":6}],42:[function(e,t){t.exports={dates:e("./parsers/dates")}},{"./parsers/dates":36}]},{},[42])(42)}),define("wunderbits/global",[],function(){return window}),function(e){"function"==typeof define&&define.amd?define("vendor/lodash",["wunderbits/global"],e):e(window)}.call(this,function(e){function t(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function n(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:y+n;return e=(e=e[r])&&e[i],"object"==r?e&&t(e,n)>-1?0:-1:e?0:-1}function r(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:y+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function i(e){return e.charCodeAt(0)}function o(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function a(e){var t=-1,n=e.length,i=e[0],o=e[n/2|0],a=e[n-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=c();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=c();for(u.array=e,u.cache=s,u.push=r;++t<n;)u.push(e[t]);return u}function s(e){return"\\"+V[e]}function u(){return g.pop()||[]}function c(){return v.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(e){e.length=0,g.length<x&&g.push(e)}function f(e){var t=e.cache;t&&f(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,v.length<x&&v.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function h(e){function r(e){return e&&"object"==typeof e&&!Qr(e)&&Wr.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function v(e){function t(){if(r){var e=d(r);Rr.apply(e,arguments)}if(this instanceof t){var o=V(n.prototype),a=n.apply(o,e||arguments);return Bt(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Kr(t,e),t}function x(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var a=Bt(e);if(!a)return e;var s=Cr.call(e);if(!H[s])return e;var c=Gr[s];switch(s){case N:case L:return new c(+e);case U:case z:return new c(e);case F:return o=c(e.source,T.exec(e)),o.lastIndex=e.lastIndex,o}var f=Qr(e);if(t){var h=!r;r||(r=u()),i||(i=u());for(var p=r.length;p--;)if(r[p]==e)return i[p];o=f?c(e.length):{}}else o=f?d(e):oi({},e);return f&&(Wr.call(e,"index")&&(o.index=e.index),Wr.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(f?Jt:ui)(e,function(e,a){o[a]=x(e,t,n,r,i)}),h&&(l(r),l(i)),o):o}function V(e){return Bt(e)?Ur(e):{}}function J(e,t,n){if("function"!=typeof e)return Qn;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Jr.funcNames&&(r=!e.name),r=r||!Jr.funcDecomp,!r)){var i=Or.call(e);Jr.funcNames||(r=!C.test(i)),r||(r=A.test(i),Kr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Rn(e,t)}function K(e){function t(){var e=u?a:this;if(i){var p=d(i);Rr.apply(p,arguments)}if((o||l)&&(p||(p=d(arguments)),o&&Rr.apply(p,o),l&&p.length<s))return r|=16,K([n,f?r:-4&r,p,null,a,s]);if(p||(p=arguments),c&&(n=e[h]),this instanceof t){e=V(n.prototype);var g=n.apply(e,p);return Bt(g)?g:e}return n.apply(e,p)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=1&r,c=2&r,l=4&r,f=8&r,h=n;return Kr(t,e),t}function Q(e,r){var i=-1,o=ut(),s=e?e.length:0,u=s>=b&&o===t,c=[];if(u){var l=a(r);l?(o=n,r=l):u=!1}for(;++i<s;){var d=e[i];o(r,d)<0&&c.push(d)}return u&&f(r),c}function et(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Qr(s)||dt(s))){t||(s=et(s,t,n));var u=-1,c=s.length,l=a.length;for(a.length+=c;++u<c;)a[l++]=s[u]}else n||a.push(s)}return a}function tt(e,t,n,r,i,o){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var s=typeof e,c=typeof t;if(!(e!==e||e&&X[s]||t&&X[c]))return!1;if(null==e||null==t)return e===t;var f=Cr.call(e),d=Cr.call(t);if(f==R&&(f=P),d==R&&(d=P),f!=d)return!1;switch(f){case N:case L:return+e==+t;case U:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case F:case z:return e==_r(t)}var h=f==I;if(!h){var p=Wr.call(e,"__wrapped__"),g=Wr.call(t,"__wrapped__");if(p||g)return tt(p?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,o);if(f!=P)return!1;var v=e.constructor,m=t.constructor;if(v!=m&&!(Mt(v)&&v instanceof v&&Mt(m)&&m instanceof m)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=u()),o||(o=u());for(var b=i.length;b--;)if(i[b]==e)return o[b]==t;var x=0;if(a=!0,i.push(e),o.push(t),h){if(b=e.length,x=t.length,a=x==b,a||r)for(;x--;){var w=b,_=t[x];if(r)for(;w--&&!(a=tt(e[w],_,n,r,i,o)););else if(!(a=tt(e[x],_,n,r,i,o)))break}}else si(t,function(t,s,u){return Wr.call(u,s)?(x++,a=Wr.call(e,s)&&tt(e[s],t,n,r,i,o)):void 0}),a&&!r&&si(e,function(e,t,n){return Wr.call(n,t)?a=--x>-1:void 0});return i.pop(),o.pop(),y&&(l(i),l(o)),a}function nt(e,t,n,r,i){(Qr(t)?Jt:ui)(t,function(t,o){var a,s,u=t,c=e[o];if(t&&((s=Qr(t))||ci(t))){for(var l=r.length;l--;)if(a=r[l]==t){c=i[l];break}if(!a){var f;n&&(u=n(c,t),(f="undefined"!=typeof u)&&(c=u)),f||(c=s?Qr(c)?c:[]:ci(c)?c:{}),r.push(t),i.push(c),f||nt(c,t,n,r,i)}}else n&&(u=n(c,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(c=u);e[o]=c})}function rt(e,t){return e+Ar(Vr()*(t-e+1))}function it(e,r,i){var o=-1,s=ut(),c=e?e.length:0,d=[],h=!r&&c>=b&&s===t,p=i||h?u():d;if(h){var g=a(p);s=n,p=g}for(;++o<c;){var v=e[o],m=i?i(v,o,e):v;(r?!o||p[p.length-1]!==m:s(p,m)<0)&&((i||h)&&p.push(m),d.push(v))}return h?(l(p.array),f(p)):i&&l(p),d}function ot(e){return function(t,n,i){var o={};n=r.createCallback(n,i,3);var a=-1,s=t?t.length:0;if("number"==typeof s)for(;++a<s;){var u=t[a];e(o,u,n(u,a,t),t)}else ui(t,function(t,r,i){e(o,t,n(t,r,i),i)});return o}}function at(e,t,n,r,i,o){var a=1&t,s=2&t,u=4&t,c=16&t,l=32&t;if(!s&&!Mt(e))throw new Sr;c&&!n.length&&(t&=-17,c=n=!1),l&&!r.length&&(t&=-33,l=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=d(f),f[2]&&(f[2]=d(f[2])),f[3]&&(f[3]=d(f[3])),!a||1&f[1]||(f[4]=i),!a&&1&f[1]&&(t|=8),!u||4&f[1]||(f[5]=o),c&&Rr.apply(f[2]||(f[2]=[]),n),l&&Lr.apply(f[3]||(f[3]=[]),r),f[1]|=t,at.apply(null,f);var h=1==t||17===t?v:K;return h([e,t,n,r,i,o])}function st(e){return ti[e]}function ut(){var e=(e=r.indexOf)===yn?t:e;return e}function ct(e){return"function"==typeof e&&Dr.test(e)}function lt(e){var t,n;return e&&Cr.call(e)==P&&(t=e.constructor,!Mt(t)||t instanceof t)?(si(e,function(e,t){n=t}),"undefined"==typeof n||Wr.call(e,n)):!1}function ft(e){return ni[e]}function dt(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Cr.call(e)==R||!1}function ht(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),x(e,t,"function"==typeof n&&J(n,r,1))}function pt(e,t,n){return x(e,!0,"function"==typeof t&&J(t,n,1))}function gt(e,t){var n=V(e);return t?oi(n,t):n}function vt(e,t,n){var i;return t=r.createCallback(t,n,3),ui(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function mt(e,t,n){var i;return t=r.createCallback(t,n,3),bt(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function yt(e,t,n){var r=[];si(e,function(e,t){r.push(t,e)});var i=r.length;for(t=J(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function bt(e,t,n){var r=ei(e),i=r.length;for(t=J(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function xt(e){var t=[];return si(e,function(e,n){Mt(e)&&t.push(n)}),t.sort()}function wt(e,t){return e?Wr.call(e,t):!1}function _t(e){for(var t=-1,n=ei(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function St(e){return e===!0||e===!1||e&&"object"==typeof e&&Cr.call(e)==N||!1}function kt(e){return e&&"object"==typeof e&&Cr.call(e)==L||!1}function Et(e){return e&&1===e.nodeType||!1}function Tt(e){var t=!0;if(!e)return t;var n=Cr.call(e),r=e.length;return n==I||n==z||n==R||n==P&&"number"==typeof r&&Mt(e.splice)?!r:(ui(e,function(){return t=!1}),t)}function Ct(e,t,n,r){return tt(e,t,"function"==typeof n&&J(n,r,2))}function Dt(e){return Fr(e)&&!zr(parseFloat(e))}function Mt(e){return"function"==typeof e}function Bt(e){return!(!e||!X[typeof e])}function At(e){return jt(e)&&e!=+e}function Ot(e){return null===e}function jt(e){return"number"==typeof e||e&&"object"==typeof e&&Cr.call(e)==U||!1}function Wt(e){return e&&"object"==typeof e&&Cr.call(e)==F||!1}function Rt(e){return"string"==typeof e||e&&"object"==typeof e&&Cr.call(e)==z||!1}function It(e){return"undefined"==typeof e}function Nt(e,t,n){var i={};return t=r.createCallback(t,n,3),ui(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Lt(e){var t=arguments,n=2;if(!Bt(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=J(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=d(arguments,1,n),o=-1,a=u(),s=u();++o<n;)nt(e,i[o],r,a,s);return l(a),l(s),e}function qt(e,t,n){var i={};if("function"!=typeof t){var o=[];si(e,function(e,t){o.push(t)}),o=Q(o,et(arguments,!0,!1,1));for(var a=-1,s=o.length;++a<s;){var u=o[a];i[u]=e[u]}}else t=r.createCallback(t,n,3),si(e,function(e,n,r){t(e,n,r)||(i[n]=e)});return i}function Ut(e){for(var t=-1,n=ei(e),r=n.length,i=pr(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Pt(e,t,n){var i={};if("function"!=typeof t)for(var o=-1,a=et(arguments,!0,!1,1),s=Bt(e)?a.length:0;++o<s;){var u=a[o];u in e&&(i[u]=e[u])}else t=r.createCallback(t,n,3),si(e,function(e,n,r){t(e,n,r)&&(i[n]=e)});return i}function Ft(e,t,n,i){var o=Qr(e);if(null==n)if(o)n=[];else{var a=e&&e.constructor,s=a&&a.prototype;n=V(s)}return t&&(t=r.createCallback(t,i,4),(o?Jt:ui)(e,function(e,r,i){return t(n,e,r,i)})),n}function zt(e){for(var t=-1,n=ei(e),r=n.length,i=pr(r);++t<r;)i[t]=e[n[t]];return i}function Ht(e){for(var t=arguments,n=-1,r=et(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=pr(i);++n<i;)o[n]=e[r[n]];return o}function Yt(e,t,n){var r=-1,i=ut(),o=e?e.length:0,a=!1;return n=(0>n?Yr(0,o+n):n)||0,Qr(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(Rt(e)?e.indexOf(t,n):i(e,t,n))>-1:ui(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function $t(e,t,n){var i=!0;t=r.createCallback(t,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a&&(i=!!t(e[o],o,e)););else ui(e,function(e,n,r){return i=!!t(e,n,r)});return i}function Xt(e,t,n){var i=[];t=r.createCallback(t,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a;){var s=e[o];t(s,o,e)&&i.push(s)}else ui(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function Vt(e,t,n){t=r.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var a;return ui(e,function(e,n,r){return t(e,n,r)?(a=e,!1):void 0}),a}for(;++i<o;){var s=e[i];if(t(s,i,e))return s}}function Gt(e,t,n){var i;return t=r.createCallback(t,n,3),Kt(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}function Jt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:J(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ui(e,t);return e}function Kt(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:J(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=ei(e);r=i.length,ui(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Qt(e,t){var n=d(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=pr("number"==typeof o?o:0);return Jt(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function Zt(e,t,n){var i=-1,o=e?e.length:0;if(t=r.createCallback(t,n,3),"number"==typeof o)for(var a=pr(o);++i<o;)a[i]=t(e[i],i,e);else a=[],ui(e,function(e,n,r){a[++i]=t(e,n,r)});return a}function en(e,t,n){var o=-1/0,a=o;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qr(e))for(var s=-1,u=e.length;++s<u;){var c=e[s];c>a&&(a=c)}else t=null==t&&Rt(e)?i:r.createCallback(t,n,3),Jt(e,function(e,n,r){var i=t(e,n,r);i>o&&(o=i,a=e)});return a}function tn(e,t,n){var o=1/0,a=o;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qr(e))for(var s=-1,u=e.length;++s<u;){var c=e[s];a>c&&(a=c)}else t=null==t&&Rt(e)?i:r.createCallback(t,n,3),Jt(e,function(e,n,r){var i=t(e,n,r);o>i&&(o=i,a=e)});return a}function nn(e,t,n,i){if(!e)return n;var o=arguments.length<3;t=r.createCallback(t,i,4);var a=-1,s=e.length;if("number"==typeof s)for(o&&(n=e[++a]);++a<s;)n=t(n,e[a],a,e);else ui(e,function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)});return n}function rn(e,t,n,i){var o=arguments.length<3;return t=r.createCallback(t,i,4),Kt(e,function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)}),n}function on(e,t,n){return t=r.createCallback(t,n,3),Xt(e,function(e,n,r){return!t(e,n,r)})}function an(e,t,n){if(e&&"number"!=typeof e.length&&(e=zt(e)),null==t||n)return e?e[rt(0,e.length-1)]:p;var r=sn(e);return r.length=$r(Yr(0,t),r.length),r}function sn(e){var t=-1,n=e?e.length:0,r=pr("number"==typeof n?n:0);return Jt(e,function(e){var n=rt(0,++t);r[t]=r[n],r[n]=e}),r}function un(e){var t=e?e.length:0;return"number"==typeof t?t:ei(e).length}function cn(e,t,n){var i;t=r.createCallback(t,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a&&!(i=t(e[o],o,e)););else ui(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function ln(e,t,n){var i=-1,a=Qr(t),s=e?e.length:0,d=pr("number"==typeof s?s:0);for(a||(t=r.createCallback(t,n,3)),Jt(e,function(e,n,r){var o=d[++i]=c();a?o.criteria=Zt(t,function(t){return e[t]}):(o.criteria=u())[0]=t(e,n,r),o.index=i,o.value=e}),s=d.length,d.sort(o);s--;){var h=d[s];d[s]=h.value,a||l(h.criteria),f(h)}return d}function fn(e){return e&&"number"==typeof e.length?d(e):zt(e)}function dn(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function hn(e){return Q(e,et(arguments,!0,!0,1))}function pn(e,t,n){var i=-1,o=e?e.length:0;for(t=r.createCallback(t,n,3);++i<o;)if(t(e[i],i,e))return i;return-1}function gn(e,t,n){var i=e?e.length:0;for(t=r.createCallback(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function vn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=r.createCallback(t,n,3);++a<o&&t(e[a],a,e);)i++}else if(i=t,null==i||n)return e?e[0]:p;return d(e,0,$r(Yr(0,i),o))}function mn(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Zt(e,n,r)),et(e,t)}function yn(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?Yr(0,i+r):r||0}else if(r){var o=Cn(e,n);return e[o]===n?o:-1}return t(e,n,r)}function bn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=r.createCallback(t,n,3);a--&&t(e[a],a,e);)i++}else i=null==t||n?1:t||i;return d(e,0,$r(Yr(0,o-i),o))}function xn(){for(var e=[],r=-1,i=arguments.length,o=u(),s=ut(),c=s===t,d=u();++r<i;){var h=arguments[r];(Qr(h)||dt(h))&&(e.push(h),o.push(c&&h.length>=b&&a(r?e[r]:d)))}var p=e[0],g=-1,v=p?p.length:0,m=[];e:for(;++g<v;){var y=o[0];if(h=p[g],(y?n(y,h):s(d,h))<0){for(r=i,(y||d).push(h);--r;)if(y=o[r],(y?n(y,h):s(e[r],h))<0)continue e;m.push(h)}}for(;i--;)y=o[i],y&&f(y);return l(o),l(d),m}function wn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=r.createCallback(t,n,3);a--&&t(e[a],a,e);)i++}else if(i=t,null==i||n)return e?e[o-1]:p;return d(e,Yr(0,o-i))}function _n(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Yr(0,r+n):$r(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Sn(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(Nr.call(e,o--,1),i--);return e}function kn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Yr(0,Mr((t-e)/(n||1))),o=pr(i);++r<i;)o[r]=e,e+=n;return o}function En(e,t,n){var i=-1,o=e?e.length:0,a=[];for(t=r.createCallback(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(a.push(s),Nr.call(e,i--,1),o--)}return a}function Tn(e,t,n){if("number"!=typeof t&&null!=t){var i=0,o=-1,a=e?e.length:0;for(t=r.createCallback(t,n,3);++o<a&&t(e[o],o,e);)i++}else i=null==t||n?1:Yr(0,t);return d(e,i)}function Cn(e,t,n,i){var o=0,a=e?e.length:o;for(n=n?r.createCallback(n,i,1):Qn,t=n(t);a>o;){var s=o+a>>>1;n(e[s])<t?o=s+1:a=s}return o}function Dn(){return it(et(arguments,!0,!0))}function Mn(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=r.createCallback(n,i,3)),it(e,t,n)}function Bn(e){return Q(e,d(arguments,1))}function An(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qr(n)||dt(n))var r=r?it(Q(r,n).concat(Q(n,r))):n}return r||[]}function On(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?en(hi(e,"length")):0,r=pr(0>n?0:n);++t<n;)r[t]=hi(e,t);return r}function jn(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Qr(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Wn(e,t){if(!Mt(t))throw new Sr;return function(){return--e<1?t.apply(this,arguments):void 0}}function Rn(e,t){return arguments.length>2?at(e,17,d(arguments,2),null,t):at(e,1,null,null,t)}function In(e){for(var t=arguments.length>1?et(arguments,!0,!1,1):xt(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=at(e[i],1,null,null,e)}return e}function Nn(e,t){return arguments.length>2?at(t,19,d(arguments,2),null,e):at(t,3,null,null,e)}function Ln(){for(var e=arguments,t=e.length;t--;)if(!Mt(e[t]))throw new Sr;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function qn(e,t){return t="number"==typeof t?t:+t||e.length,at(e,4,null,null,null,t)
}function Un(e,t,n){var r,i,o,a,s,u,c,l=0,f=!1,d=!0;if(!Mt(e))throw new Sr;if(t=Yr(0,t)||0,n===!0){var h=!0;d=!1}else Bt(n)&&(h=n.leading,f="maxWait"in n&&(Yr(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var g=function(){var n=t-(gi()-a);if(0>=n){i&&Br(i);var f=c;i=u=c=p,f&&(l=gi(),o=e.apply(s,r),u||i||(r=s=null))}else u=Ir(g,n)},v=function(){u&&Br(u),i=u=c=p,(d||f!==t)&&(l=gi(),o=e.apply(s,r),u||i||(r=s=null))};return function(){if(r=arguments,a=gi(),s=this,c=d&&(u||!h),f===!1)var n=h&&!u;else{i||h||(l=a);var p=f-(a-l),m=0>=p;m?(i&&(i=Br(i)),l=a,o=e.apply(s,r)):i||(i=Ir(v,p))}return m&&u?u=Br(u):u||t===f||(u=Ir(g,t)),n&&(m=!0,o=e.apply(s,r)),!m||u||i||(r=s=null),o}}function Pn(e){if(!Mt(e))throw new Sr;var t=d(arguments,1);return Ir(function(){e.apply(p,t)},1)}function Fn(e,t){if(!Mt(e))throw new Sr;var n=d(arguments,2);return Ir(function(){e.apply(p,n)},t)}function zn(e,t){if(!Mt(e))throw new Sr;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):y+arguments[0];return Wr.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Hn(e){var t,n;if(!Mt(e))throw new Sr;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Yn(e){return at(e,16,d(arguments,1))}function $n(e){return at(e,32,null,d(arguments,1))}function Xn(e,t,n){var r=!0,i=!0;if(!Mt(e))throw new Sr;return n===!1?r=!1:Bt(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),Y.leading=r,Y.maxWait=t,Y.trailing=i,Un(e,t,Y)}function Vn(e,t){return at(t,16,[e])}function Gn(e){return function(){return e}}function Jn(e,t,n){var r=typeof e;if(null==e||"function"==r)return J(e,t,n);if("object"!=r)return nr(e);var i=ei(e),o=i[0],a=e[o];return 1!=i.length||a!==a||Bt(a)?function(t){for(var n=i.length,r=!1;n--&&(r=tt(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Kn(e){return null==e?"":_r(e).replace(ii,st)}function Qn(e){return e}function Zn(e,t,n){var i=!0,o=t&&xt(t);t&&(n||o.length)||(null==n&&(n=t),a=g,t=e,e=r,o=xt(t)),n===!1?i=!1:Bt(n)&&"chain"in n&&(i=n.chain);var a=e,s=Mt(a);Jt(o,function(n){var r=e[n]=t[n];s&&(a.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];Rr.apply(o,arguments);var s=r.apply(e,o);if(i||t){if(n===s&&Bt(s))return this;s=new a(s),s.__chain__=t}return s})})}function er(){return e._=Tr,this}function tr(){}function nr(e){return function(t){return t[e]}}function rr(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Vr();return $r(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return rt(e,t)}function ir(e,t){if(e){var n=e[t];return Mt(n)?e[t]():n}}function or(e,t,n){var i=r.templateSettings;e=_r(e||""),n=ai({},n,i);var o,a=ai({},n.imports,i.imports),u=ei(a),c=zt(a),l=0,f=n.interpolate||B,d="__p += '",h=wr((n.escape||B).source+"|"+f.source+"|"+(f===D?E:B).source+"|"+(n.evaluate||B).source+"|$","g");e.replace(h,function(t,n,r,i,a,u){return r||(r=i),d+=e.slice(l,u).replace(O,s),n&&(d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),d+="';\n";var g=n.variable,v=g;v||(g="obj",d="with ("+g+") {\n"+d+"\n}\n"),d=(o?d.replace(_,""):d).replace(S,"$1").replace(k,"$1;"),d="function("+g+") {\n"+(v?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+W++ +"]")+"\n*/";try{var y=mr(u,"return "+d+m).apply(p,c)}catch(b){throw b.source=d,b}return t?y(t):(y.source=d,y)}function ar(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=pr(e);for(t=J(t,n,1);++r<e;)i[r]=t(r);return i}function sr(e){return null==e?"":_r(e).replace(ri,ft)}function ur(e){var t=++m;return _r(null==e?"":e)+t}function cr(e){return e=new g(e),e.__chain__=!0,e}function lr(e,t){return t(e),e}function fr(){return this.__chain__=!0,this}function dr(){return _r(this.__wrapped__)}function hr(){return this.__wrapped__}e=e?Z.defaults(G.Object(),e,Z.pick(G,j)):G;var pr=e.Array,gr=e.Boolean,vr=e.Date,mr=e.Function,yr=e.Math,br=e.Number,xr=e.Object,wr=e.RegExp,_r=e.String,Sr=e.TypeError,kr=[],Er=xr.prototype,Tr=e._,Cr=Er.toString,Dr=wr("^"+_r(Cr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mr=yr.ceil,Br=e.clearTimeout,Ar=yr.floor,Or=mr.prototype.toString,jr=ct(jr=xr.getPrototypeOf)&&jr,Wr=Er.hasOwnProperty,Rr=kr.push,Ir=e.setTimeout,Nr=kr.splice,Lr=kr.unshift,qr=function(){try{var e={},t=ct(t=xr.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Ur=ct(Ur=xr.create)&&Ur,Pr=ct(Pr=pr.isArray)&&Pr,Fr=e.isFinite,zr=e.isNaN,Hr=ct(Hr=xr.keys)&&Hr,Yr=yr.max,$r=yr.min,Xr=e.parseInt,Vr=yr.random,Gr={};Gr[I]=pr,Gr[N]=gr,Gr[L]=vr,Gr[q]=mr,Gr[P]=xr,Gr[U]=br,Gr[F]=wr,Gr[z]=_r,g.prototype=r.prototype;var Jr=r.support={};Jr.funcDecomp=!ct(e.WinRTError)&&A.test(h),Jr.funcNames="string"==typeof mr.name,r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:r}},Ur||(V=function(){function t(){}return function(n){if(Bt(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var Kr=qr?function(e,t){$.value=t,qr(e,"__bindData__",$)}:tr,Qr=Pr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Cr.call(e)==I||!1},Zr=function(e){var t,n=e,r=[];if(!n)return r;if(!X[typeof e])return r;for(t in n)Wr.call(n,t)&&r.push(t);return r},ei=Hr?function(e){return Bt(e)?Hr(e):[]}:Zr,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=_t(ti),ri=wr("("+ei(ni).join("|")+")","g"),ii=wr("["+ei(ti).join("")+"]","g"),oi=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,u="number"==typeof n?2:a.length;if(u>3&&"function"==typeof a[u-2])var c=J(a[--u-1],a[u--],2);else u>2&&"function"==typeof a[u-1]&&(c=a[--u]);for(;++s<u;)if(i=a[s],i&&X[typeof i])for(var l=-1,f=X[typeof i]&&ei(i),d=f?f.length:0;++l<d;)r=f[l],o[r]=c?c(o[r],i[r]):i[r];return o},ai=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,u="number"==typeof n?2:a.length;++s<u;)if(i=a[s],i&&X[typeof i])for(var c=-1,l=X[typeof i]&&ei(i),f=l?l.length:0;++c<f;)r=l[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},si=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!X[typeof i])return o;t=t&&"undefined"==typeof n?t:J(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return o;return o},ui=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!X[typeof i])return o;t=t&&"undefined"==typeof n?t:J(t,n,3);for(var a=-1,s=X[typeof i]&&ei(i),u=s?s.length:0;++a<u;)if(r=s[a],t(i[r],r,e)===!1)return o;return o},ci=jr?function(e){if(!e||Cr.call(e)!=P)return!1;var t=e.valueOf,n=ct(t)&&(n=jr(t))&&jr(n);return n?e==n||jr(e)==n:lt(e)}:lt,li=ot(function(e,t,n){Wr.call(e,n)?e[n]++:e[n]=1}),fi=ot(function(e,t,n){(Wr.call(e,n)?e[n]:e[n]=[]).push(t)}),di=ot(function(e,t,n){e[n]=t}),hi=Zt,pi=Xt,gi=ct(gi=vr.now)&&gi||function(){return(new vr).getTime()},vi=8==Xr(w+"08")?Xr:function(e,t){return Xr(Rt(e)?e.replace(M,""):e,t||0)};return r.after=Wn,r.assign=oi,r.at=Ht,r.bind=Rn,r.bindAll=In,r.bindKey=Nn,r.chain=cr,r.compact=dn,r.compose=Ln,r.constant=Gn,r.countBy=li,r.create=gt,r.createCallback=Jn,r.curry=qn,r.debounce=Un,r.defaults=ai,r.defer=Pn,r.delay=Fn,r.difference=hn,r.filter=Xt,r.flatten=mn,r.forEach=Jt,r.forEachRight=Kt,r.forIn=si,r.forInRight=yt,r.forOwn=ui,r.forOwnRight=bt,r.functions=xt,r.groupBy=fi,r.indexBy=di,r.initial=bn,r.intersection=xn,r.invert=_t,r.invoke=Qt,r.keys=ei,r.map=Zt,r.mapValues=Nt,r.max=en,r.memoize=zn,r.merge=Lt,r.min=tn,r.omit=qt,r.once=Hn,r.pairs=Ut,r.partial=Yn,r.partialRight=$n,r.pick=Pt,r.pluck=hi,r.property=nr,r.pull=Sn,r.range=kn,r.reject=on,r.remove=En,r.rest=Tn,r.shuffle=sn,r.sortBy=ln,r.tap=lr,r.throttle=Xn,r.times=ar,r.toArray=fn,r.transform=Ft,r.union=Dn,r.uniq=Mn,r.values=zt,r.where=pi,r.without=Bn,r.wrap=Vn,r.xor=An,r.zip=On,r.zipObject=jn,r.collect=Zt,r.drop=Tn,r.each=Jt,r.eachRight=Kt,r.extend=oi,r.methods=xt,r.object=jn,r.select=Xt,r.tail=Tn,r.unique=Mn,r.unzip=On,Zn(r),r.clone=ht,r.cloneDeep=pt,r.contains=Yt,r.escape=Kn,r.every=$t,r.find=Vt,r.findIndex=pn,r.findKey=vt,r.findLast=Gt,r.findLastIndex=gn,r.findLastKey=mt,r.has=wt,r.identity=Qn,r.indexOf=yn,r.isArguments=dt,r.isArray=Qr,r.isBoolean=St,r.isDate=kt,r.isElement=Et,r.isEmpty=Tt,r.isEqual=Ct,r.isFinite=Dt,r.isFunction=Mt,r.isNaN=At,r.isNull=Ot,r.isNumber=jt,r.isObject=Bt,r.isPlainObject=ci,r.isRegExp=Wt,r.isString=Rt,r.isUndefined=It,r.lastIndexOf=_n,r.mixin=Zn,r.noConflict=er,r.noop=tr,r.now=gi,r.parseInt=vi,r.random=rr,r.reduce=nn,r.reduceRight=rn,r.result=ir,r.runInContext=h,r.size=un,r.some=cn,r.sortedIndex=Cn,r.template=or,r.unescape=sr,r.uniqueId=ur,r.all=$t,r.any=cn,r.detect=Vt,r.findWhere=Vt,r.foldl=nn,r.foldr=rn,r.include=Yt,r.inject=nn,Zn(function(){var e={};return ui(r,function(t,n){r.prototype[n]||(e[n]=t)}),e}(),!1),r.first=vn,r.last=wn,r.sample=an,r.take=vn,r.head=vn,ui(r,function(e,t){var n="sample"!==t;r.prototype[t]||(r.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new g(o,i):o})}),r.VERSION="2.4.1",r.prototype.chain=fr,r.prototype.toString=dr,r.prototype.value=hr,r.prototype.valueOf=hr,Jt(["join","pop","shift"],function(e){var t=kr[e];r.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new g(n,e):n}}),Jt(["push","reverse","sort","unshift"],function(e){var t=kr[e];r.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Jt(["concat","slice","splice"],function(e){var t=kr[e];r.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),r}var p,g=[],v=[],m=0,y=+new Date+"",b=75,x=40,w=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",_=/\b__p \+= '';/g,S=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,C=/^\s*function[ \n\r\t]+\w/,D=/<%=([\s\S]+?)%>/g,M=RegExp("^["+w+"]*0+(?=.$)"),B=/($^)/,A=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,j=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],W=0,R="[object Arguments]",I="[object Array]",N="[object Boolean]",L="[object Date]",q="[object Function]",U="[object Number]",P="[object Object]",F="[object RegExp]",z="[object String]",H={};H[q]=!1,H[R]=H[I]=H[N]=H[L]=H[U]=H[P]=H[F]=H[z]=!0;var Y={leading:!1,maxWait:0,trailing:!1},$={configurable:!1,enumerable:!1,value:null,writable:!1},X={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},G=X[typeof e]&&e||this,J=X[typeof exports]&&exports&&!exports.nodeType&&exports,K=X[typeof module]&&module&&!module.nodeType&&module,Q=(K&&K.exports===J&&J,X[typeof global]&&global);!Q||Q.global!==Q&&Q.window!==Q||(G=Q);var Z=h();return e._=Z,Z}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery",["wunderbits/global"],e):window.$=e(window)}.call(this,function(e,t){function n(e){var t=e.length,n=et.type(e);return"function"===n||et.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(et.isFunction(t))return et.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return et.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return et.filter(t,e,n);t=et.filter(t,e)}return et.grep(e,function(e){return $.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pt[e]={};return et.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),et.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+Math.random()}function u(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(xt,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:bt.test(r)?et.parseJSON(r):r}catch(o){}yt.set(e,n,r)}else r=t;return r}function c(){return!0}function l(){return!1}function f(){try{return Q.activeElement}catch(e){}}function d(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=It.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)mt.set(e[n],"globalEval",!t||mt.get(t[n],"globalEval"))}function v(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(mt.hasData(e)&&(o=mt.access(e),a=mt.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)et.event.add(t,i,c[i][n])}yt.hasData(e)&&(s=yt.access(e),u=et.extend({},s),yt.set(t,u))}}function m(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&et.nodeName(e,n)?et.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&kt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r=et(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:et.css(r[0],"display");return r.detach(),i}function x(e){var t=Q,n=Ut[e];return n||(n=b(e,t),"none"!==n&&n||(qt=(qt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qt[0].contentDocument,t.write(),t.close(),n=b(e,t),qt.detach()),Ut[e]=n),n}function w(e,n,r){var i,o,a,s,u=e.style;return r=r||zt(e),r&&(s=r.getPropertyValue(n)||r[n]),r&&(""!==s||et.contains(e.ownerDocument,e)||(s=et.style(e,n)),Ft.test(s)&&Pt.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=s,s=r.width,u.width=i,u.minWidth=o,u.maxWidth=a)),s!==t?s+"":s}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function k(e,t,n){var r=Yt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=et.css(e,n+_t[o],!0,i)),r?("content"===n&&(a-=et.css(e,"padding"+_t[o],!0,i)),"margin"!==n&&(a-=et.css(e,"border"+_t[o]+"Width",!0,i))):(a+=et.css(e,"padding"+_t[o],!0,i),"padding"!==n&&(a+=et.css(e,"border"+_t[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=zt(e),a="border-box"===et.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ft.test(i))return i;r=a&&(K.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function C(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=mt.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&St(r)&&(o[a]=mt.access(r,"olddisplay",x(r.nodeName)))):o[a]||(i=St(r),(n&&"none"!==n||!i)&&mt.set(r,"olddisplay",i?n:et.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){Jt=t}),Jt=et.now()}function B(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=_t[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function A(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function O(e,n,r){var i,o,a,s,u,c,l,f=this,d={},h=e.style,p=e.nodeType&&St(e),g=mt.get(e,"fxshow");r.queue||(u=et._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,et.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],l=et.css(e,"display"),"none"===l&&(l=x(e.nodeName)),"inline"===l&&"none"===et.css(e,"float")&&(h.display="inline-block")),r.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],Qt.exec(o)){if(delete n[i],a=a||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||g[i]===t)continue;p=!0}d[i]=g&&g[i]||et.style(e,i)}if(!et.isEmptyObject(d)){g?"hidden"in g&&(p=g.hidden):g=mt.access(e,"fxshow",{}),a&&(g.hidden=!p),p?et(e).show():f.done(function(){et(e).hide()}),f.done(function(){var t;mt.remove(e,"fxshow");for(t in d)et.style(e,t,d[t])});for(i in d)s=A(p?g[i]:0,i,f),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(e,t){var n,r,i,o,a;for(n in e)if(r=et.camelCase(n),i=t[r],o=e[n],et.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=et.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o=0,a=tn.length,s=et.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Jt||M(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:et.extend({},t),opts:et.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=et.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(j(l,c.opts.specialEasing);a>o;o++)if(r=tn[o].call(c,e,l,c.opts))return r;return et.map(l,A,c),et.isFunction(c.opts.start)&&c.opts.start.call(e,c),et.fx.timer(et.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ht)||[];if(et.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,t,n,r){function i(s){var u;return o[s]=!0,et.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===_n;return i(t.dataTypes[0])||!o["*"]&&i("*")}function N(e,n){var r,i,o=et.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&et.extend(!0,e,i),e}function L(e,n,r){for(var i,o,a,s,u=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){c.unshift(o);break}if(c[0]in r)a=c[0];else{for(o in r){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),r[a]):void 0}function q(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(et.isArray(t))et.each(t,function(t,i){n||Tn.test(e)?r(e,i):U(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==et.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function P(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F=[],z=F.slice,H=F.concat,Y=F.push,$=F.indexOf,X={},V=X.toString,G=X.hasOwnProperty,J="".trim,K={},Q=e.document,Z="2.1.0",et=function(e,t){return new et.fn.init(e,t)},tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:Z,constructor:et,selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:z.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return et.each(this,e,t)},map:function(e){return this.pushStack(et.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:F.sort,splice:F.splice},et.extend=et.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[u]||{},u++),"object"==typeof s||et.isFunction(s)||(s={}),u===c&&(s=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(n in e)r=s[n],i=e[n],s!==i&&(l&&i&&(et.isPlainObject(i)||(o=et.isArray(i)))?(o?(o=!1,a=r&&et.isArray(r)?r:[]):a=r&&et.isPlainObject(r)?r:{},s[n]=et.extend(l,a,i)):i!==t&&(s[n]=i));return s},et.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==et.type(e)||e.nodeType||et.isWindow(e))return!1;try{if(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[V.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":J.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?et.merge(r,"string"==typeof e?[e]:e):Y.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:$.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return H.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),et.isFunction(e)?(i=z.call(arguments,2),o=function(){return e.apply(n||this,i.concat(z.call(arguments)))},o.guid=e.guid=e.guid||et.guid++,o):t},now:Date.now,support:K}),et.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()});var it=function(e){function n(e,t,n,r){var i,o,a,s,u,c,l,d,g,v;if((t?t.ownerDocument||t:P)!==j&&O(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(R&&!r){if(i=bt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&q(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&k.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!I||!I.test(e))){if(d=l=U,g=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(l=t.getAttribute("id"))?d=l.replace(wt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+p(c[u]);g=xt.test(e)&&f(t.parentNode)||t,v=c.join(",")}if(v)try{return et.apply(n,g.querySelectorAll(v)),n}catch(m){}finally{l||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function i(e){return e[U]=!0,e}function o(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)E.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&typeof e.getElementsByTagName!==V&&e}function d(){}function h(e,t){var r,i,o,a,s,u,c,l=Y[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=E.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ft.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ct," ")}),s=s.slice(r.length));for(a in E.filter)!(i=gt[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):Y(e,u).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=z++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[F,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[U]||(t[U]={}),(s=u[r])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function v(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function y(e,t,n,r,o,a){return r&&!r[U]&&(r=y(r)),o&&!o[U]&&(o=y(o,a)),i(function(i,a,s,u){var c,l,f,d=[],h=[],p=a.length,g=i||w(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,d,e,s,u),y=n?o||(i?e:p||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(c=m(y,h),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(y[h[l]]=!(v[h[l]]=f));if(i){if(o||e){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(v[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?nt.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,u):et.apply(a,y)})}function b(e){for(var t,n,r,i=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,u=g(function(e){return e===t},a,!0),c=g(function(e){return nt.call(t,e)>-1},a,!0),l=[function(e,n,r){return!o&&(r||n!==M)||((t=n).nodeType?u(e,n,r):c(e,n,r))}];i>s;s++)if(n=E.relative[e[s].type])l=[g(v(l),n)];else{if(n=E.filter[e[s].type].apply(null,e[s].matches),n[U]){for(r=++s;i>r&&!E.relative[e[r].type];r++);return y(s>1&&v(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&p(e))}l.push(n)}return v(l)}function x(e,t){var r=t.length>0,o=e.length>0,a=function(i,a,s,u,c){var l,f,d,h=0,p="0",g=i&&[],v=[],y=M,b=i||o&&E.find.TAG("*",c),x=F+=null==y?1:Math.random()||.1,w=b.length;for(c&&(M=a!==j&&a);p!==w&&null!=(l=b[p]);p++){if(o&&l){for(f=0;d=e[f++];)if(d(l,a,s)){u.push(l);break}c&&(F=x)}r&&((l=!d&&l)&&h--,i&&g.push(l))}if(h+=p,r&&p!==h){for(f=0;d=t[f++];)d(g,v,a,s);if(i){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=Q.call(u));v=m(v)}et.apply(u,v),c&&!i&&v.length>0&&h+t.length>1&&n.uniqueSort(u)}return c&&(F=x,M=y),g};return r?i(a):a}function w(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function _(e,t,n,r){var i,o,a,s,u,c=h(e);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===t.nodeType&&R&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(_t,St),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=gt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((u=E.find[s])&&(r=u(a.matches[0].replace(_t,St),xt.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return et.apply(n,r),n;break}}return D(e,c)(r,t,!R,n,xt.test(e)&&f(t.parentNode)||t),n}var S,k,E,T,C,D,M,B,A,O,j,W,R,I,N,L,q,U="sizzle"+-new Date,P=e.document,F=0,z=0,H=r(),Y=r(),$=r(),X=function(e,t){return e===t&&(A=!0),0},V=typeof t,G=1<<31,J={}.hasOwnProperty,K=[],Q=K.pop,Z=K.push,et=K.push,tt=K.slice,nt=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),st="\\["+it+"*("+ot+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+it+"*\\]",ut=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ft=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(ut),pt=new RegExp("^"+at+"$"),gt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+rt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),St=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{et.apply(K=tt.call(P.childNodes),P.childNodes),K[P.childNodes.length].nodeType}catch(kt){et={apply:K.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}k=n.support={},C=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=n.setDocument=function(e){var t,n=e?e.ownerDocument||e:P,r=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,W=n.documentElement,R=!C(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){O()},!1):r.attachEvent&&r.attachEvent("onunload",function(){O()})),k.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length
}),k.getElementsByClassName=yt.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=o(function(e){return W.appendChild(e).id=U,!n.getElementsByName||!n.getElementsByName(U).length}),k.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==V&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(e){var t=e.replace(_t,St);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(_t,St);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&R?t.getElementsByClassName(e):void 0},N=[],I=[],(k.qsa=yt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&I.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+it+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(k.matchesSelector=yt.test(L=W.webkitMatchesSelector||W.mozMatchesSelector||W.oMatchesSelector||W.msMatchesSelector))&&o(function(e){k.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),N.push("!=",ut)}),I=I.length&&new RegExp(I.join("|")),N=N.length&&new RegExp(N.join("|")),t=yt.test(W.compareDocumentPosition),q=t||yt.test(W.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!k.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===P&&q(P,e)?-1:t===n||t.ownerDocument===P&&q(P,t)?1:B?nt.call(B,e)-nt.call(B,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],c=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:B?nt.call(B,e)-nt.call(B,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===P?-1:c[i]===P?1:0},n):j},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==j&&O(e),t=t.replace(dt,"='$1']"),!(!k.matchesSelector||!R||N&&N.test(t)||I&&I.test(t)))try{var r=L.call(e,t);if(r||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,j,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),q(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==j&&O(e);var r=E.attrHandle[n.toLowerCase()],i=r&&J.call(E.attrHandle,n.toLowerCase())?r(e,n,!R):t;return i!==t?i:k.attributes||!R?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!k.detectDuplicates,B=!k.sortStable&&e.slice(0),e.sort(X),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return B=null,e},T=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},E=n.selectors={cacheLength:50,createPseudo:i,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,St),e[3]=(e[4]||e[5]||"").replace(_t,St),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return gt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ht.test(r)&&(n=h(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,St).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,h,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(v){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(l=v[U]||(v[U]={}),c=l[e]||[],h=c[0]===F&&c[1],d=c[0]===F&&c[2],f=h&&v.childNodes[h];f=++h&&f&&f[g]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[F,h,d];break}}else if(y&&(c=(t[U]||(t[U]={}))[e])&&c[0]===F)d=c[1];else for(;(f=++h&&f&&f[g]||(d=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++d||(y&&((f[U]||(f[U]={}))[e]=[F,d]),f!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,t){var r,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[U]?o(t):o.length>1?(r=[e,e,"",t],E.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=nt.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(ct,"$1"));return r[U]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(_t,St).toLowerCase(),function(t){var n;do if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===W},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},E.pseudos.nth=E.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[S]=u(S);for(S in{submit:!0,reset:!0})E.pseudos[S]=c(S);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,D=n.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=b(t[n]),o[U]?r.push(o):i.push(o);o=$(e,x(i,r))}return o},k.sortStable=U.split("").sort(X).join("")===U,k.detectDuplicates=!!A,O(),k.sortDetached=o(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(rt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),n}(e);et.find=it,et.expr=it.selectors,et.expr[":"]=et.expr.pseudos,et.unique=it.uniqueSort,et.text=it.getText,et.isXMLDoc=it.isXML,et.contains=it.contains;var ot=et.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;et.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?et.find.matchesSelector(r,e)?[r]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;n>t;t++)if(et.contains(i[t],this))return!0}));for(t=0;n>t;t++)et.find(e,i[t],r);return r=this.pushStack(n>1?et.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?et(e):e||[],!1).length}});var ut,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,lt=et.fn.init=function(e,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ct.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||ut).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof et?n[0]:n,et.merge(this,et.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),at.test(r[1])&&et.isPlainObject(n))for(r in n)et.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return i=Q.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(et):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};lt.prototype=et.fn,ut=et(Q);var ft=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&et(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),et.fn.extend({has:function(e){var t=et(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ot.test(e)||"string"!=typeof e?et(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&et.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?et.unique(o):o)},index:function(e){return e?"string"==typeof e?$.call(et(e),this[0]):$.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.unique(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return et.dir(e,"parentNode")},parentsUntil:function(e,t,n){return et.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return et.dir(e,"nextSibling")},prevAll:function(e){return et.dir(e,"previousSibling")},nextUntil:function(e,t,n){return et.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return et.dir(e,"previousSibling",n)},siblings:function(e){return et.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return et.sibling(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(n,r){var i=et.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=et.filter(r,i)),this.length>1&&(dt[e]||et.unique(i),ft.test(e)&&i.reverse()),this.pushStack(i)}});var ht=/\S+/g,pt={};et.Callbacks=function(e){e="string"==typeof e?pt[e]||o(e):et.extend({},e);var n,r,i,a,s,u,c=[],l=!e.once&&[],f=function(t){for(n=e.memory&&t,r=!0,u=a||0,a=0,s=c.length,i=!0;c&&s>u;u++)if(c[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,c&&(l?l.length&&f(l.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function r(t){et.each(t,function(t,n){var i=et.type(n);"function"===i?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),i?s=c.length:n&&(a=t,f(n))}return this},remove:function(){return c&&et.each(arguments,function(e,t){for(var n;(n=et.inArray(t,c,n))>-1;)c.splice(n,1),i&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return e?et.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=n=t,this},disabled:function(){return!c},lock:function(){return l=t,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||r&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(n){et.each(t,function(t,o){var a=et.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,r):r}},i={};return r.pipe=r.then,et.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=z.call(arguments),a=o.length,s=1!==a||e&&et.isFunction(e.promise)?a:0,u=1===s?e:et.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?z.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&et.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var gt;et.fn.ready=function(e){return et.ready.promise().done(e),this},et.extend({isReady:!1,readyWait:1,holdReady:function(e){e?et.readyWait++:et.ready(!0)},ready:function(e){(e===!0?--et.readyWait:et.isReady)||(et.isReady=!0,e!==!0&&--et.readyWait>0||(gt.resolveWith(Q,[et]),et.fn.trigger&&et(Q).trigger("ready").off("ready")))}}),et.ready.promise=function(t){return gt||(gt=et.Deferred(),"complete"===Q.readyState?setTimeout(et.ready):(Q.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),gt.promise(t)},et.ready.promise();var vt=et.access=function(e,n,r,i,o,a,s){var u=0,c=e.length,l=null==r;if("object"===et.type(r)){o=!0;for(u in r)et.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,et.isFunction(i)||(s=!0),l&&(s?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(et(e),n)})),n))for(;c>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:l?n.call(e):c?n(e[0],r):a};et.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=et.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,et.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(et.isEmptyObject(o))et.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,et.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,a=this.key(e),s=this.cache[a];if(n===t)this.cache[a]={};else{et.isArray(n)?i=n.concat(n.map(et.camelCase)):(o=et.camelCase(n),n in s?i=[n,o]:(i=o,i=i in s?[i]:i.match(ht)||[])),r=i.length;for(;r--;)delete s[i[r]]}},hasData:function(e){return!et.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var mt=new s,yt=new s,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;et.extend({hasData:function(e){return yt.hasData(e)||mt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return mt.access(e,t,n)},_removeData:function(e,t){mt.remove(e,t)}}),et.fn.extend({data:function(e,n){var r,i,o,a=this[0],s=a&&a.attributes;if(e===t){if(this.length&&(o=yt.get(a),1===a.nodeType&&!mt.get(a,"hasDataAttrs"))){for(r=s.length;r--;)i=s[r].name,0===i.indexOf("data-")&&(i=et.camelCase(i.slice(5)),u(a,i,o[i]));mt.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){yt.set(this,e)}):vt(this,function(n){var r,i=et.camelCase(e);if(a&&n===t){if(r=yt.get(a,e),r!==t)return r;if(r=yt.get(a,i),r!==t)return r;if(r=u(a,i,t),r!==t)return r}else this.each(function(){var r=yt.get(this,i);yt.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&yt.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),et.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=mt.get(e,t),n&&(!r||et.isArray(n)?r=mt.access(e,t,et.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=et.queue(e,t),r=n.length,i=n.shift(),o=et._queueHooks(e,t),a=function(){et.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return mt.get(e,n)||mt.access(e,n,{empty:et.Callbacks("once memory").add(function(){mt.remove(e,[t+"queue",n])})})}}),et.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?et.queue(this[0],e):n===t?this:this.each(function(){var t=et.queue(this,e,n);et._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=et.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=mt.get(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],St=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},kt=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Et=typeof t;K.focusinBubbles="onfocusin"in e;var Tt=/^key/,Ct=/^(?:mouse|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function(e,n,r,i,o){var a,s,u,c,l,f,d,h,p,g,v,m=mt.get(e);if(m)for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=et.guid++),(c=m.events)||(c=m.events={}),(s=m.handle)||(s=m.handle=function(n){return typeof et!==Et&&et.event.triggered!==n.type?et.event.dispatch.apply(e,arguments):t}),n=(n||"").match(ht)||[""],l=n.length;l--;)u=Mt.exec(n[l])||[],p=v=u[1],g=(u[2]||"").split(".").sort(),p&&(d=et.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=et.event.special[p]||{},f=et.extend({type:p,origType:v,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&et.expr.match.needsContext.test(o),namespace:g.join(".")},a),(h=c[p])||(h=c[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,g,s)!==!1||e.addEventListener&&e.addEventListener(p,s,!1)),d.add&&(d.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,f):h.push(f),et.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,g,v=mt.hasData(e)&&mt.get(e);if(v&&(u=v.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(s=Mt.exec(t[c])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(f=et.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&f.teardown.call(e,p,v.handle)!==!1||et.removeEvent(e,h,v.handle),delete u[h])}else for(h in u)et.event.remove(e,h+t[c],n,r,!0);et.isEmptyObject(u)&&(delete v.handle,mt.remove(e,"events"))}},trigger:function(n,r,i,o){var a,s,u,c,l,f,d,h=[i||Q],p=G.call(n,"type")?n.type:n,g=G.call(n,"namespace")?n.namespace.split("."):[];if(s=u=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(p+et.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),l=p.indexOf(":")<0&&"on"+p,n=n[et.expando]?n:new et.Event(p,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:et.makeArray(r,[n]),d=et.event.special[p]||{},o||!d.trigger||d.trigger.apply(i,r)!==!1)){if(!o&&!d.noBubble&&!et.isWindow(i)){for(c=d.delegateType||p,Dt.test(c+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||Q)&&h.push(u.defaultView||u.parentWindow||e)}for(a=0;(s=h[a++])&&!n.isPropagationStopped();)n.type=a>1?c:d.bindType||p,f=(mt.get(s,"events")||{})[n.type]&&mt.get(s,"handle"),f&&f.apply(s,r),f=l&&s[l],f&&f.apply&&et.acceptData(s)&&(n.result=f.apply(s,r),n.result===!1&&n.preventDefault());return n.type=p,o||n.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),r)!==!1||!et.acceptData(i)||l&&et.isFunction(i[p])&&!et.isWindow(i)&&(u=i[l],u&&(i[l]=null),et.event.triggered=p,i[p](),et.event.triggered=t,u&&(i[l]=u)),n.result}},dispatch:function(e){e=et.event.fix(e);var n,r,i,o,a,s=[],u=z.call(arguments),c=(mt.get(this,"events")||{})[e.type]||[],l=et.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=et.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((et.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,c=e.target;if(u&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(i=[],r=0;u>r;r++)a=n[r],o=a.selector+" ",i[o]===t&&(i[o]=a.needsContext?et(o,this).index(c)>=0:et.find(o,this,null,[c]).length),i[o]&&i.push(a);i.length&&s.push({elem:c,handlers:i})}return u<n.length&&s.push({elem:this,handlers:n.slice(u)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||Q,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ct.test(i)?this.mouseHooks:Tt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new et.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=et.extend(new et.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?et.event.trigger(i,null,t):et.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},et.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},et.Event=function(e,n){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===t&&e.getPreventDefault&&e.getPreventDefault()?c:l):this.type=e,n&&et.extend(this,n),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,n)},et.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!et.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||et.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){et.event.simulate(t,e.target,et.event.fix(e),!0)};et.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=mt.access(r,t);i||r.addEventListener(e,n,!0),mt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=mt.access(r,t)-1;i?mt.access(r,t,i):(r.removeEventListener(e,n,!0),mt.remove(r,t))}}}),et.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=l;else if(!i)return this;return 1===o&&(a=i,i=function(e){return et().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=et.guid++)),this.each(function(){et.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,et(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=l),this.each(function(){et.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?et.event.trigger(e,t,n,!0):void 0}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,At=/<([\w:]+)/,Ot=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,et.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=et.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(a=m(s),o=m(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||m(e),a=a||m(s),r=0,i=o.length;i>r;r++)v(o[r],a[r]);else v(e,s);return a=m(s,"script"),a.length>0&&g(a,!u&&m(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),f=[],d=0,h=e.length;h>d;d++)if(i=e[d],i||0===i)if("object"===et.type(i))et.merge(f,i.nodeType?[i]:i);else if(Ot.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(At.exec(i)||["",""])[1].toLowerCase(),s=Lt[a]||Lt._default,o.innerHTML=s[1]+i.replace(Bt,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;et.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(l.textContent="",d=0;i=f[d++];)if((!r||-1===et.inArray(i,r))&&(u=et.contains(i.ownerDocument,i),o=m(l.appendChild(i),"script"),u&&g(o),n))for(c=0;i=o[c++];)Rt.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var n,r,i,o,a,s,u=et.event.special,c=0;(r=e[c])!==t;c++){if(et.acceptData(r)&&(a=r[mt.expando],a&&(n=mt.cache[a]))){if(i=Object.keys(n.events||{}),i.length)for(s=0;(o=i[s])!==t;s++)u[o]?et.event.remove(r,o):et.removeEvent(r,o,n.handle);mt.cache[a]&&delete mt.cache[a]
}delete yt.cache[r[yt.expando]]}}}),et.fn.extend({text:function(e){return vt(this,function(e){return e===t?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?et.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||et.cleanData(m(n)),n.parentNode&&(t&&et.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return vt(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!jt.test(e)&&!Lt[(At.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Bt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(et.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,et.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=H.apply([],e);var n,r,i,o,a,s,u=0,c=this.length,l=this,f=c-1,d=e[0],g=et.isFunction(d);if(g||c>1&&"string"==typeof d&&!K.checkClone&&Wt.test(d))return this.each(function(n){var r=l.eq(n);g&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(c&&(n=et.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=et.map(m(n,"script"),h),o=i.length;c>u;u++)a=n,u!==f&&(a=et.clone(a,!0,!0),o&&et.merge(i,m(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,et.map(i,p),u=0;o>u;u++)a=i[u],Rt.test(a.type||"")&&!mt.access(a,"globalEval")&&et.contains(s,a)&&(a.src?et._evalUrl&&et._evalUrl(a.src):et.globalEval(a.textContent.replace(Nt,"")))}return this}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var n,r=[],i=et(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),et(i[a])[t](n),Y.apply(r,n.get());return this.pushStack(r)}});var qt,Ut={},Pt=/^margin/,Ft=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),zt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",o.appendChild(a);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(a)}var n,r,i="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=Q.documentElement,a=Q.createElement("div"),s=Q.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(s),e.getComputedStyle&&et.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText=i,n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(a),s.innerHTML="",t}})}(),et.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Ht=/^(none|table(?!-c[ea]).+)/,Yt=new RegExp("^("+wt+")(.*)$","i"),$t=new RegExp("^([+-])=("+wt+")","i"),Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},Gt=["Webkit","O","Moz","ms"];et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=et.camelCase(n),c=e.style;return n=et.cssProps[u]||(et.cssProps[u]=S(c,u)),s=et.cssHooks[n]||et.cssHooks[u],r===t?s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:c[n]:(a=typeof r,"string"===a&&(o=$t.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(et.css(e,n)),a="number"),null!=r&&r===r&&("number"!==a||et.cssNumber[u]||(r+="px"),K.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t||(c[n]="",c[n]=r)),void 0)}},css:function(e,n,r,i){var o,a,s,u=et.camelCase(n);return n=et.cssProps[u]||(et.cssProps[u]=S(e.style,u)),s=et.cssHooks[n]||et.cssHooks[u],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=w(e,n,i)),"normal"===o&&n in Vt&&(o=Vt[n]),""===r||r?(a=parseFloat(o),r===!0||et.isNumeric(a)?a||0:o):o}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&Ht.test(et.css(e,"display"))?et.swap(e,Xt,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var i=r&&zt(e);return k(e,n,r?E(e,t,r,"border-box"===et.css(e,"boxSizing",!1,i),i):0)}}}),et.cssHooks.marginRight=_(K.reliableMarginRight,function(e,t){return t?et.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+_t[r]+t]=o[r]||o[r-2]||o[0];return i}},Pt.test(e)||(et.cssHooks[e+t].set=k)}),et.fn.extend({css:function(e,n){return vt(this,function(e,n,r){var i,o,a={},s=0;if(et.isArray(n)){for(i=zt(e),o=n.length;o>s;s++)a[n[s]]=et.css(e,n[s],!1,i);return a}return r!==t?et.style(e,n,r):et.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){St(this)?et(this).show():et(this).hide()})}}),et.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(et.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?et.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=et.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){et.fx.step[e.prop]?et.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[et.cssProps[e.prop]]||et.cssHooks[e.prop])?et.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},et.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},et.fx=D.prototype.init,et.fx.step={};var Jt,Kt,Qt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[O],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Zt.exec(t),o=i&&i[3]||(et.cssNumber[e]?"":"px"),a=(et.cssNumber[e]||"px"!==o&&+r)&&Zt.exec(et.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,et.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};et.Animation=et.extend(W,{tweener:function(e,t){et.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),et.speed=function(e,t,n){var r=e&&"object"==typeof e?et.extend({},e):{complete:n||!n&&t||et.isFunction(e)&&e,duration:e,easing:n&&t||t&&!et.isFunction(t)&&t};return r.duration=et.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in et.fx.speeds?et.fx.speeds[r.duration]:et.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){et.isFunction(r.old)&&r.old.call(this),r.queue&&et.dequeue(this,r.queue)},r},et.fn.extend({fadeTo:function(e,t,n,r){return this.filter(St).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=et.isEmptyObject(e),o=et.speed(t,n,r),a=function(){var t=W(this,et.extend({},e),o);(i||mt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=et.timers,a=mt.get(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&en.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&et.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=mt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=et.timers,a=r?r.length:0;for(n.finish=!0,et.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),et.each(["toggle","show","hide"],function(e,t){var n=et.fn[t];et.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),et.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){et.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),et.timers=[],et.fx.tick=function(){var e,n=0,r=et.timers;for(Jt=et.now();n<r.length;n++)e=r[n],e()||r[n]!==e||r.splice(n--,1);r.length||et.fx.stop(),Jt=t},et.fx.timer=function(e){et.timers.push(e),e()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Kt||(Kt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Kt),Kt=null},et.fx.speeds={slow:600,fast:200,_default:400},et.fn.delay=function(e,t){return e=et.fx?et.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rn,on,an=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return vt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Et?et.prop(e,n,r):(1===a&&et.isXMLDoc(e)||(n=n.toLowerCase(),i=et.attrHooks[n]||(et.expr.match.bool.test(n)?on:rn)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=et.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):void et.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ht);if(o&&1===e.nodeType)for(;n=o[i++];)r=et.propFix[n]||n,et.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&et.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?et.removeAttr(e,n):e.setAttribute(n,n),n}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var n=an[t]||et.find.attr;an[t]=function(e,t,r){var i,o;return r||(o=an[t],an[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,an[t]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function(e,t){return vt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!et.isXMLDoc(e),a&&(n=et.propFix[n]||n,o=et.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||sn.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ht)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=et.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ht)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?et.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(et.isFunction(e)?function(n){et(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=et(this),o=e.match(ht)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Et||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":mt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var cn=/\r/g;et.fn.extend({val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=et.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,et(this).val()):e,null==o?o="":"number"==typeof o?o+="":et.isArray(o)&&(o=et.map(o,function(e){return null==e?"":e+""})),n=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=et.valHooks[o.type]||et.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(cn,""):null==r?"":r)}}}),et.extend({valHooks:{select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&et.nodeName(n.parentNode,"optgroup"))){if(t=et(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=et.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=et.inArray(et(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>=0:void 0}},K.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),et.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){et.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),et.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ln=et.now(),fn=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(i){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&et.error("Invalid XML: "+e),n};var dn,hn,pn=/#.*$/,gn=/([?&])_=[^&]*/,vn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},_n={},Sn="*/".concat("*");try{hn=location.href}catch(kn){hn=Q.createElement("a"),hn.href="",hn=hn.href}dn=xn.exec(hn.toLowerCase())||[],et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:hn,type:"GET",isLocal:mn.test(dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,et.ajaxSettings),t):N(et.ajaxSettings,e)},ajaxPrefilter:R(wn),ajaxTransport:R(_n),ajax:function(e,n){function r(e,n,r,s){var c,f,y,b,w,S=n;2!==x&&(x=2,u&&clearTimeout(u),i=t,a=s||"",_.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(b=L(d,_,r)),b=q(d,b,_,c),c?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(et.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(et.etag[o]=w)),204===e||"HEAD"===d.type?S="nocontent":304===e?S="notmodified":(S=b.state,f=b.data,y=b.error,c=!y)):(y=S,(e||!S)&&(S="error",0>e&&(e=0))),_.status=e,_.statusText=(n||S)+"",c?g.resolveWith(h,[f,S,_]):g.rejectWith(h,[_,S,y]),_.statusCode(m),m=t,l&&p.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?f:y]),v.fireWith(h,[_,S]),l&&(p.trigger("ajaxComplete",[_,d]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,c,l,f,d=et.ajaxSetup({},n),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?et(h):et.event,g=et.Deferred(),v=et.Callbacks("once memory"),m=d.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=vn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(_).complete=v.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||hn)+"").replace(pn,"").replace(bn,dn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=et.trim(d.dataType||"*").toLowerCase().match(ht)||[""],null==d.crossDomain&&(c=xn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===dn[1]&&c[2]===dn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(dn[3]||("http:"===dn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=et.param(d.data,d.traditional)),I(wn,d,n,_),2===x)return _;l=d.global,l&&0===et.active++&&et.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!yn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(fn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=gn.test(o)?o.replace(gn,"$1_="+ln++):o+(fn.test(o)?"&":"?")+"_="+ln++)),d.ifModified&&(et.lastModified[o]&&_.setRequestHeader("If-Modified-Since",et.lastModified[o]),et.etag[o]&&_.setRequestHeader("If-None-Match",et.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Sn+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)_.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===x))return _.abort();w="abort";for(f in{success:1,error:1,complete:1})_[f](d[f]);if(i=I(_n,d,n,_)){_.readyState=1,l&&p.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(u=setTimeout(function(){_.abort("timeout")},d.timeout));try{x=1,i.send(y,r)}catch(S){if(!(2>x))throw S;r(-1,S)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return et.get(e,t,n,"json")},getScript:function(e,n){return et.get(e,t,n,"script")}}),et.each(["get","post"],function(e,n){et[n]=function(e,r,i,o){return et.isFunction(r)&&(o=o||i,i=r,r=t),et.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},et.fn.extend({wrapAll:function(e){var t;return et.isFunction(e)?this.each(function(t){et(this).wrapAll(e.call(this,t))}):(this[0]&&(t=et(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(et.isFunction(e)?function(t){et(this).wrapInner(e.call(this,t))}:function(){var t=et(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=et.isFunction(e);return this.each(function(n){et(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,"body")||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},et.expr.filters.visible=function(e){return!et.expr.filters.hidden(e)};var En=/%20/g,Tn=/\[\]$/,Cn=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Mn=/^(?:input|select|textarea|keygen)/i;et.param=function(e,n){var r,i=[],o=function(e,t){t=et.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){o(this.name,this.value)});else for(r in e)U(r,e[r],n,o);return i.join("&").replace(En,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Mn.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=et(this).val();return null==n?null:et.isArray(n)?et.map(n,function(e){return{name:t.name,value:e.replace(Cn,"\r\n")}}):{name:t.name,value:n.replace(Cn,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Bn=0,An={},On={0:200,1223:204},jn=et.ajaxSettings.xhr();e.ActiveXObject&&et(e).on("unload",function(){for(var e in An)An[e]()}),K.cors=!!jn&&"withCredentials"in jn,K.ajax=jn=!!jn,et.ajaxTransport(function(e){var n;return K.cors||jn&&!e.crossDomain?{send:function(r,i){var o,a=e.xhr(),s=++Bn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete An[s],n=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status,a.statusText):i(On[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=An[s]=n("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:void 0}),et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return et.globalEval(e),e}}}),et.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),et.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=et("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Wn=[],Rn=/(=)\?(?=&|$)|\?\?/;et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||et.expando+"_"+ln++;return this[e]=!0,e}}),et.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Rn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=et.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Rn,"$1"+o):n.jsonp!==!1&&(n.url+=(fn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||et.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Wn.push(o)),s&&et.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),et.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=at.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=et.buildFragment([e],t,i),i&&i.length&&et(i).remove(),et.merge([],r.childNodes))};var In=et.fn.load;et.fn.load=function(e,n,r){if("string"!=typeof e&&In)return In.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u),e=e.slice(0,u)),et.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&et.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?et("<div>").append(et.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},et.expr.filters.animated=function(e){return et.grep(et.timers,function(t){return e===t.elem}).length};var Nn=e.document.documentElement;et.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=et.css(e,"position"),f=et(e),d={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=et.css(e,"top"),u=et.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),et.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},et.fn.extend({offset:function(e){if(arguments.length)return e===t?this:this.each(function(t){et.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;if(a)return n=a.documentElement,et.contains(n,i)?(typeof i.getBoundingClientRect!==Et&&(o=i.getBoundingClientRect()),r=P(a),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===et.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(r=e.offset()),r.top+=et.css(e[0],"borderTopWidth",!0),r.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-et.css(n,"marginTop",!0),left:t.left-r.left-et.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nn;e&&!et.nodeName(e,"html")&&"static"===et.css(e,"position");)e=e.offsetParent;return e||Nn})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;et.fn[n]=function(o){return vt(this,function(n,o,a){var s=P(n);return a===t?s?s[r]:n[o]:void(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):n[o]=a)},n,o,arguments.length,null)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=_(K.pixelPosition,function(e,n){return n?(n=w(e,t),Ft.test(n)?et(e).position()[t]+"px":n):void 0})}),et.each({Height:"height",Width:"width"},function(e,n){et.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){et.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return vt(this,function(n,r,i){var o;return et.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?et.css(n,r,s):et.style(n,r,i,s)},n,a?i:t,a,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack;var Ln=e.jQuery,qn=e.$;return et.noConflict=function(t){return e.$===et&&(e.$=qn),t&&e.jQuery===et&&(e.jQuery=Ln),et},typeof noGlobal===Et&&(e.jQuery=e.$=et),et.noConflict(),et}),function(e,t){if("function"==typeof define&&define.amd)define("vendor/backbone",["vendor/lodash","vendor/jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){{var i=e.Backbone,o=[],a=(o.push,o.slice);o.splice}t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,o=n.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var i,o,a,s,u,l,f,d;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),u=0,l=s.length;l>u;u++)if(e=s[u],a=this._events[e]){if(this._events[e]=i=[],t||r)for(f=0,d=a.length;d>f;f++)o=a[f],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;
if(!i)return this;var o=!t&&!r;r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,r,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},u=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},l=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},f={listenTo:"on",listenToOnce:"once"};n.each(f,function(e,t){s[t]=function(t,r,i){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return o[a]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,o,a,s,u,c,l,f;if(null==e)return this;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;a=r.unset,u=r.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)t=o[i],n.isEqual(f[i],t)||s.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete f[i]:f[i]=t;if(!u){s.length&&(this._pending=r);for(var d=0,h=s.length;h>d;d++)this.trigger("change:"+s[d],this,f[s[d]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(i[o],t=e[o])||((r||(r={}))[o]=t);return r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(r&&r(t,n,e),void t.trigger("sync",t,n,e)):!1},N(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,o,a,s=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(e){u.attributes=s;var t=u.parse(e,r);return r.wait&&(t=n.extend(i||{},t)),n.isObject(t)&&!u.set(t,r)?!1:(c&&c(u,e,r),void u.trigger("sync",u,e,r))},N(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;N(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(e){d.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(p.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,v))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,o,a,s;for(i=0,o=e.length;o>i;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,o,a,s,u,c,l,f=t.at,h=this.model,p=this.comparator&&null==f&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},x=t.add,w=t.merge,_=t.remove,S=!p&&x&&_?[]:!1;for(i=0,o=e.length;o>i;i++){if(u=e[i]||{},a=u instanceof d?s=u:u[h.prototype.idAttribute||"id"],c=this.get(a))_&&(b[c.cid]=!0),w&&(u=u===s?s.attributes:u,t.parse&&(u=c.parse(u,t)),c.set(u,t),p&&!l&&c.hasChanged(v)&&(l=!0)),e[i]=c;else if(x){if(s=e[i]=this._prepareModel(u,t),!s)continue;m.push(s),this._addReference(s,t)}s=c||s,!S||!s.isNew()&&b[s.id]||S.push(s),b[s.id]=!0}if(_){for(i=0,o=this.length;o>i;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,t)}if(m.length||S&&S.length)if(p&&(l=!0),this.length+=m.length,null!=f)for(i=0,o=m.length;o>i;i++)this.models.splice(f+i,0,m[i]);else{S&&(this.models.length=0);var k=S||m;for(i=0,o=k.length;o>i;i++)this.models.push(k[i])}if(l&&this.sort({silent:!0}),!t.silent){for(i=0,o=m.length;o>i;i++)(s=m[i]).trigger("add",s,this,t);(l||S&&S.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},N(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(m,function(e){p.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){p.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(x),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var o=S[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||I()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&_&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var _=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,s,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(i,a)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(D,"\\$&").replace(E,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,O=/msie [\w.]+/,j=/\/$/,W=/#.*$/;M.started=!1,n.extend(M.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(j,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(B,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(A,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(B,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!M.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(W,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var R=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};d.extend=p.extend=k.extend=b.extend=M.extend=R;var I=function(){throw new Error('A "url" property or function must be specified')},N=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t){function n(e,t){try{if("function"!=typeof e)return e;if(!e.bugsnag){var n=i();e.bugsnag=function(r){if(t&&t.eventHandler&&(x=r),w=n,!k){var i=e.apply(this,arguments);return w=null,i}try{return e.apply(this,arguments)}catch(o){throw f("autoNotify",!0)&&(S.notifyException(o,null,null,"error"),y()),o}finally{w=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(r){return e}}function r(){C=!1}function i(){var e=document.currentScript||w;if(!e&&C){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function o(e){var t=i();t&&(e.script={src:t.src,content:f("inlineScript",!0)?t.innerHTML:""})}function a(t){var n=f("disableLog"),r=e.console;void 0===r||void 0===r.log||n||r.log("[Bugsnag] "+t)}function s(t,n,r){if(r>=5)return encodeURIComponent(n)+"=[RECURSIVE]";r=r+1||1;try{if(e.Node&&t instanceof e.Node)return encodeURIComponent(n)+"="+encodeURIComponent(m(t));var i=[];for(var o in t)if(t.hasOwnProperty(o)&&null!=o&&null!=t[o]){var a=n?n+"["+o+"]":o,u=t[o];i.push("object"==typeof u?s(u,a,r):encodeURIComponent(a)+"="+encodeURIComponent(u))}return i.join("&")}catch(c){return encodeURIComponent(n)+"="+encodeURIComponent(""+c)}}function u(e,t){if(null==t)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{e[n]=t[n].constructor===Object?u(e[n],t[n]):t[n]}catch(r){e[n]=t[n]}return e}function c(e,t){if(e+="?"+s(t)+"&ct=img&cb="+(new Date).getTime(),"undefined"!=typeof BUGSNAG_TESTING&&S.testRequest)S.testRequest(e,t);else{var n=new Image;n.src=e}}function l(e){var t={},n=/^data\-([\w\-]+)$/;if(e)for(var r=e.attributes,i=0;i<r.length;i++){var o=r[i];if(n.test(o.nodeName)){var a=o.nodeName.match(n)[1];t[a]=o.value||o.nodeValue}}return t}function f(e,t){D=D||l(R);var n=void 0!==S[e]?S[e]:D[e.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:t}function d(e){return e&&e.match(M)?!0:(a("Invalid API key '"+e+"'"),!1)}function h(t,n){var r=f("apiKey");if(d(r)&&T){T-=1;var i=f("releaseStage","production"),o=f("notifyReleaseStages");if(o){for(var s=!1,l=0;l<o.length;l++)if(i===o[l]){s=!0;break}if(!s)return}var h=[t.name,t.message,t.stacktrace].join("|");if(h!==_){_=h,x&&(n=n||{},n["Last Event"]=v(x));var p={notifierVersion:j,apiKey:r,projectRoot:f("projectRoot")||e.location.protocol+"//"+e.location.host,context:f("context")||e.location.pathname,userId:f("userId"),user:f("user"),metaData:u(u({},f("metaData")),n),releaseStage:i,appVersion:f("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:t.severity,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber,payloadVersion:"2"},g=S.beforeNotify;if("function"==typeof g){var m=g(p,p.metaData);if(m===!1)return}return 0===p.lineNumber&&/Script error\.?/.test(p.message)?a("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors"):void c(f("endpoint")||O,p)}}}function p(){var e,t,n=10,r="[anonymous]";try{throw new Error("")}catch(i){e="<generated>\n",t=g(i)}if(!t){e="<generated-ie>\n";var o=[];try{for(var s=arguments.callee.caller.caller;s&&o.length<n;){var u=B.test(s.toString())?RegExp.$1||r:r;o.push(u),s=s.caller}}catch(c){a(c)}t=o.join("\n")}return e+t}function g(e){return e.stack||e.backtrace||e.stacktrace}function v(e){var t={millisecondsAgo:new Date-e.timeStamp,type:e.type,which:e.which,target:m(e.target)};return t}function m(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!=t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function y(){E+=1,e.setTimeout(function(){E-=1})}function b(t,n,r){var i=t[n],o=r(i);t[n]=o,"undefined"!=typeof BUGSNAG_TESTING&&e.undo&&e.undo.push(function(){t[n]=i})}var x,w,_,S={},k=!0,E=0,T=10;S.noConflict=function(){return e.Bugsnag=t,S},S.refresh=function(){T=10},S.notifyException=function(e,t,n,r){t&&"string"!=typeof t&&(n=t,t=void 0),n||(n={}),o(n),h({name:t||e.name,message:e.message||e.description,stacktrace:g(e)||p(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r||"warning"},n)},S.notify=function(t,n,r,i){h({name:t,message:n,stacktrace:p(),file:e.location.toString(),lineNumber:1,severity:i||"warning"},r)};var C="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!0),e.addEventListener("load",r,!0)):e.attachEvent("onload",r);var D,M=/^[0-9a-f]{32}$/i,B=/function\s*([\w\-$]+)?\s*\(/i,A="https://notify.bugsnag.com/",O=A+"js",j="2.4.8",W=document.getElementsByTagName("script"),R=W[W.length-1];if(e.atob){if(e.ErrorEvent)try{0===new e.ErrorEvent("test").colno&&(k=!1)}catch(I){}}else k=!1;if(f("autoNotify",!0)){b(e,"onerror",function(t){return"undefined"!=typeof BUGSNAG_TESTING&&(S._onerror=t),function(n,r,i,a,s){var u=f("autoNotify",!0),c={};!a&&e.event&&(a=e.event.errorCharacter),o(c),w=null,u&&!E&&h({name:s&&s.name||"window.onerror",message:n,file:r,lineNumber:i,columnNumber:a,stacktrace:s&&g(s)||p(),severity:"error"},c),"undefined"!=typeof BUGSNAG_TESTING&&(t=S._onerror),t&&t(n,r,i,a,s)}});var N=function(e){return function(t,r){if("function"==typeof t){t=n(t);var i=Array.prototype.slice.call(arguments,2);return e(function(){t.apply(this,i)},r)}return e(t,r)}};b(e,"setTimeout",N),b(e,"setInterval",N),e.requestAnimationFrame&&b(e,"requestAnimationFrame",function(e){return function(t){return e(n(t))}}),e.setImmediate&&b(e,"setImmediate",function(e){return function(){var t=Array.prototype.slice.call(arguments);return t[0]=n(t[0]),e.apply(this,t)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(b(r,"addEventListener",function(e){return function(t,r,i,o){try{r&&r.handleEvent&&(r.handleEvent=n(r.handleEvent,{eventHandler:!0}))}catch(s){a(s)}return e.call(this,t,n(r,{eventHandler:!0}),i,o)}}),b(r,"removeEventListener",function(e){return function(t,r,i,o){return e.call(this,t,r,i,o),e.call(this,t,n(r),i,o)}}))})}e.Bugsnag=S,"function"==typeof define&&define.amd?define("vendor/bugsnag",[],function(){return S}):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=S)}(window,window.Bugsnag),function(){define("project",{load:function(e,t,n,r){return r.isBuild?n():void t(["dist/"+e],function(t){return t?void n(t):n.error(new Error('failed to load "'+e+'"'))})}})}.call(null),define("wunderbits/Wunderscore",["vendor/lodash","project!core"],function(e,t){var n=t.lib.functions,r=t.lib.merge,i=t.lib.defer,o=t.lib.delay,a=[],s=a.concat,u=a.slice;return{functions:function(e){return[e].concat(n(e))},bindAll:function(){var t=function(e){for(var t,n=this,r=arguments.length>1?s.apply(a,u.call(arguments,1)):n.functions(e);r.length;)t=r.shift(),"constructor"!==t&&(e[t]=e[t].bind(e))};return"bind"in Function.prototype?t:e.bindAll}(),merge:r,defer:i,delay:o}}),define("wunderbits/lib/dependencies",["vendor/backbone","vendor/lodash","vendor/jquery","../Wunderscore"],function(e,t,n,r){return{$:n,_:t,Backbone:e,w_:r}}),define("wunderbits/data/emoji",{100:"1f4af",1234:"1f522","1f1e6":"1f1e6","1f1e7":"1f1e7","1f1e8":"1f1e8","1f1e9":"1f1e9","1f1ea":"1f1ea","1f1eb":"1f1eb","1f1ec":"1f1ec","1f1ed":"1f1ed","1f1ee":"1f1ee","1f1ef":"1f1ef","1f1f0":"1f1f0","1f1f1":"1f1f1","1f1f2":"1f1f2","1f1f3":"1f1f3","1f1f4":"1f1f4","1f1f5":"1f1f5","1f1f6":"1f1f6","1f1f7":"1f1f7","1f1f8":"1f1f8","1f1f9":"1f1f9","1f1fa":"1f1fa","1f1fb":"1f1fb","1f1fc":"1f1fc","1f1fd":"1f1fd","1f1fe":"1f1fe","1f1ff":"1f1ff","1f320":"1f320","1f508":"1f508","1f68b":"1f68b","23-20e3":"23-20e3","30-20e3":"30-20e3","31-20e3":"31-20e3","32-20e3":"32-20e3","33-20e3":"33-20e3","34-20e3":"34-20e3","35-20e3":"35-20e3","36-20e3":"36-20e3","37-20e3":"37-20e3","38-20e3":"38-20e3","39-20e3":"39-20e3","8ball":"1f3b1",a:"1f170",a9:"a9",ab:"1f18e",abc:"1f524",abcd:"1f521",accept:"1f251",ae:"ae",aerial_tramway:"1f6a1",airplane:"2708",alarm_clock:"23f0",alien:"1f47d",ambulance:"1f691",anchor:"2693",angel:"1f47c",anger:"1f4a2",angry:"1f620",anguished:"1f627",ant:"1f41c",apple:"1f34e",aquarius:"2652",aries:"2648",arrow_backward:"25c0",arrow_double_down:"23ec",arrow_double_up:"23eb",arrow_down_small:"1f53d",arrow_down:"2b07",arrow_forward:"25b6",arrow_heading_down:"2935",arrow_heading_up:"2934",arrow_left:"2b05",arrow_lower_left:"2199",arrow_lower_right:"2198",arrow_right_hook:"21aa",arrow_right:"27a1",arrow_up_down:"2195",arrow_up_small:"1f53c",arrow_up:"2b06",arrow_upper_left:"2196",arrow_upper_right:"2197",arrows_clockwise:"1f503",arrows_counterclockwise:"1f504",art:"1f3a8",articulated_lorry:"1f69b",astonished:"1f632",athletic_shoe:"1f45f",atm:"1f3e7",b:"1f171",baby_bottle:"1f37c",baby_chick:"1f424",baby_symbol:"1f6bc",baby:"1f476",back:"1f519",baggage_claim:"1f6c4",balloon:"1f388",ballot_box_with_check:"2611",bamboo:"1f38d",banana:"1f34c",bangbang:"203c",bank:"1f3e6",bar_chart:"1f4ca",barber:"1f488",baseball:"26be",basketball:"1f3c0",bath:"1f6c0",bathtub:"1f6c1",battery:"1f50b",bear:"1f43b",beer:"1f37a",beers:"1f37b",beetle:"1f41e",beginner:"1f530",bell:"1f514",bento:"1f371",bicyclist:"1f6b4",bike:"1f6b2",bikini:"1f459",bird:"1f426",birthday:"1f382",black_circle:"26ab",black_joker:"1f0cf",black_large_square:"2b1b",black_medium_small_square:"25fe",black_medium_square:"25fc",black_nib:"2712",black_small_square:"25aa",black_square_button:"1f532",blossom:"1f33c",blowfish:"1f421",blue_book:"1f4d8",blue_car:"1f699",blue_heart:"1f499",blush:"1f60a",boar:"1f417",bomb:"1f4a3",bookmark_tabs:"1f4d1",bookmark:"1f516",books:"1f4da",boot:"1f462",bouquet:"1f490",bow:"1f647",bowling:"1f3b3",boy:"1f466",bread:"1f35e",bride_with_veil:"1f470",bridge_at_night:"1f309",briefcase:"1f4bc",broken_heart:"1f494",bug:"1f41b",bulb:"1f4a1",bullettrain_front:"1f685",bullettrain_side:"1f684",bus:"1f68c",busstop:"1f68f",bust_in_silhouette:"1f464",busts_in_silhouette:"1f465",cactus:"1f335",cake:"1f370",calendar:"1f4c6",calling:"1f4f2",camel:"1f42b",camera:"1f4f7",cancer:"264b",candy:"1f36c",capital_abcd:"1f520",capricorn:"2651",card_index:"1f4c7",carousel_horse:"1f3a0",cat:"1f431",cat2:"1f408",cd:"1f4bf",chart_with_downwards_trend:"1f4c9",chart_with_upwards_trend:"1f4c8",chart:"1f4b9",checkered_flag:"1f3c1",cherries:"1f352",cherry_blossom:"1f338",chestnut:"1f330",chicken:"1f414",children_crossing:"1f6b8",chocolate_bar:"1f36b",christmas_tree:"1f384",church:"26ea",cinema:"1f3a6",circus_tent:"1f3aa",city_sunrise:"1f307",city_sunset:"1f306",cl:"1f191",clap:"1f44f",clapper:"1f3ac",clipboard:"1f4cb",clock1:"1f550",clock10:"1f559",clock1030:"1f565",clock11:"1f55a",clock1130:"1f566",clock12:"1f55b",clock1230:"1f567",clock130:"1f55c",clock2:"1f551",clock230:"1f55d",clock3:"1f552",clock330:"1f55e",clock4:"1f553",clock430:"1f55f",clock5:"1f554",clock530:"1f560",clock6:"1f555",clock630:"1f561",clock7:"1f556",clock730:"1f562",clock8:"1f557",clock830:"1f563",clock9:"1f558",clock930:"1f564",closed_book:"1f4d5",closed_lock_with_key:"1f510",closed_umbrella:"1f302",cloud:"2601",clubs:"2663",cn:"1f1e8-1f1f3",cocktail:"1f378",coffee:"2615",cold_sweat:"1f630",collision:"1f4a5",computer:"1f4bb",confetti_ball:"1f38a",confounded:"1f616",confused:"1f615",congratulations:"3297",construction_worker:"1f477",construction:"1f6a7",convenience_store:"1f3ea",cookie:"1f36a",cool:"1f192",cop:"1f46e",corn:"1f33d",couple_with_heart:"1f491",couple:"1f46b",couplekiss:"1f48f",cow:"1f42e",cow2:"1f404",credit_card:"1f4b3",crescentmoon:"1f319",crocodile:"1f40a",crossed_flags:"1f38c",crown:"1f451",cry:"1f622",crying_cat_face:"1f63f",crystal_ball:"1f52e",cupid:"1f498",curly_loop:"27b0",currency_exchange:"1f4b1",curry:"1f35b",custard:"1f36e",customs:"1f6c3",cyclone:"1f300",dancer:"1f483",dancers:"1f46f",dango:"1f361",dart:"1f3af",dash:"1f4a8",date:"1f4c5",de:"1f1e9-1f1ea",deciduous_tree:"1f333",department_store:"1f3ec",diamond_shape_with_a_dot_inside:"1f4a0",diamonds:"2666",disappointed_relieved:"1f625",disappointed:"1f61e",dizzy_face:"1f635",dizzy:"1f4ab",do_not_litter:"1f6af",dog:"1f436",dog2:"1f415",dollar:"1f4b5",dolls:"1f38e",door:"1f6aa",doughnut:"1f369",dragon_face:"1f432",dragon:"1f409",dress:"1f457",dromedary_camel:"1f42a",droplet:"1f4a7",dvd:"1f4c0","e-mail":"1f4e7",e50a:"e50a",ear_of_rice:"1f33e",ear:"1f442",earth_africa:"1f30d",earth_americas:"1f30e",earth_asia:"1f30f",egg:"1f373",eggplant:"1f346",eight_pointed_black_star:"2734",eight_spoked_asterisk:"2733",electric_plug:"1f50c",elephant:"1f418",end:"1f51a",envelope_with_arrow:"1f4e9",envelope:"2709",es:"1f1ea-1f1f8",euro:"1f4b6",european_castle:"1f3f0",european_post_office:"1f3e4",evergreen_tree:"1f332",expressionless:"1f611",eyeglasses:"1f453",eyes:"1f440",factory:"1f3ed",fallen_leaf:"1f342",family:"1f46a",fast_forward:"23e9",fax:"1f4e0",fearful:"1f628",ferris_wheel:"1f3a1",file_folder:"1f4c1",fire_engine:"1f692",fire:"1f525",fireworks:"1f386",first_quarter_moon_with_face:"1f31b",first_quarter_moon:"1f313",fish_cake:"1f365",fish:"1f41f",fishing_pole_and_fish:"1f3a3",fist:"270a",flags:"1f38f",flashlight:"1f526",flipper:"1f42c",floppy_disk:"1f4be",flower_playing_cards:"1f3b4",flushed:"1f633",foggy:"1f301",football:"1f3c8",footprints:"1f463",fork_and_knife:"1f374",fountain:"26f2",four_leaf_clover:"1f340",fr:"1f1eb-1f1f7",free:"1f193",fried_shrimp:"1f364",fries:"1f35f",frog:"1f438",frowning:"1f626",fuelpump:"26fd",full_moon_with_face:"1f31d",full_moon:"1f315",game_die:"1f3b2",gem:"1f48e",gemini:"264a",ghost:"1f47b",gift_heart:"1f49d",gift:"1f381",girl:"1f467",globe_with_meridians:"1f310",goat:"1f410",golf:"26f3",grapes:"1f347",green_apple:"1f34f",green_book:"1f4d7",green_heart:"1f49a",grey_exclamation:"2755",grey_question:"2754",grimacing:"1f62c",grin:"1f601",grinning:"1f600",guardsman:"1f482",guitar:"1f3b8",gun:"1f52b",haircut:"1f487",hamburger:"1f354",hammer:"1f528",hamster:"1f439",handbag:"1f45c",hatched_chick:"1f425",hatching_chick:"1f423",headphones:"1f3a7",hear_no_evil:"1f649",heart_decoration:"1f49f",heart_eyes_cat:"1f63b",heart_eyes:"1f60d",heart:"2764",heartbeat:"1f493",heartpulse:"1f497",hearts:"2665",heavy_check_mark:"2714",heavy_division_sign:"2797",heavy_dollar_sign:"1f4b2",heavy_exclamation_mark:"2757",heavy_minus_sign:"2796",heavy_multiplication_x:"2716",heavy_plus_sign:"2795",helicopter:"1f681",herb:"1f33f",hibiscus:"1f33a",high_brightness:"1f506",high_heel:"1f460",hocho:"1f52a",honey_pot:"1f36f",honeybee:"1f41d",horse_racing:"1f3c7",horse:"1f434",hospital:"1f3e5",hotel:"1f3e8",hotsprings:"2668",hourglass_flowing_sand:"23f3",hourglass:"231b",house_with_garden:"1f3e1",house:"1f3e0",hushed:"1f62f",ice_cream:"1f368",icecream:"1f366",id:"1f194",ideograph_advantage:"1f250",imp:"1f47f",inbox_tray:"1f4e5",incoming_envelope:"1f4e8",information_desk_person:"1f481",information_source:"2139",innocent:"1f607",interrobang:"2049",iphone:"1f4f1",it:"1f1ee-1f1f9",jack_o_lantern:"1f383",japan:"1f5fe",japanese_castle:"1f3ef",japanese_goblin:"1f47a",japanese_ogre:"1f479",jeans:"1f456",joy_cat:"1f639",joy:"1f602",jp:"1f1ef-1f1f5",key:"1f511",keycap_ten:"1f51f",kimono:"1f458",kiss:"1f48b",kissing_cat:"1f63d",kissing_closed_eyes:"1f61a",kissing_heart:"1f618",kissing_smiling_eyes:"1f619",kissing:"1f617",koala:"1f428",koko:"1f201",kr:"1f1f0-1f1f7",lantern:"1f3ee",large_blue_circle:"1f535",large_blue_diamond:"1f537",large_orange_diamond:"1f536",last_quarter_moon_with_face:"1f31c",last_quarter_moon:"1f317",leaves:"1f343",ledger:"1f4d2",left_luggage:"1f6c5",left_right_arrow:"2194",leftwards_arrow_with_hook:"21a9",lemon:"1f34b",leo:"264c",leopard:"1f406",libra:"264e",light_rail:"1f688",link:"1f517",lips:"1f444",lipstick:"1f484",lock_with_ink_pen:"1f50f",lock:"1f512",lollipop:"1f36d",loop:"27bf",loudspeaker:"1f4e2",love_hotel:"1f3e9",love_letter:"1f48c",low_brightness:"1f505",m:"24c2",mag_right:"1f50e",mag:"1f50d",mahjong:"1f004",mailbox_closed:"1f4ea",mailbox_with_mail:"1f4ec",mailbox_with_no_mail:"1f4ed",mailbox:"1f4eb",man_with_gua_pi_mao:"1f472",man_with_turban:"1f473",man:"1f468",maple_leaf:"1f341",mask:"1f637",massage:"1f486",meat_on_bone:"1f356",mega:"1f4e3",melon:"1f348",mens:"1f6b9",metro:"1f687",microphone:"1f3a4",microscope:"1f52c",milky_way:"1f30c",minibus:"1f690",minidisc:"1f4bd",mobile_phone_off:"1f4f4",money_with_wings:"1f4b8",moneybag:"1f4b0",monkey_face:"1f435",monkey:"1f412",monorail:"1f69d",mortar_board:"1f393",mount_fuji:"1f5fb",mountain_bicyclist:"1f6b5",mountain_cableway:"1f6a0",mountain_railway:"1f69e",mouse:"1f42d",mouse2:"1f401",movie_camera:"1f3a5",moyai:"1f5ff",muscle:"1f4aa",mushroom:"1f344",musical_keyboard:"1f3b9",musical_note:"1f3b5",musical_score:"1f3bc",mute:"1f507",nail_care:"1f485",name_badge:"1f4db",necktie:"1f454",negative_squared_cross_mark:"274e",neutral_face:"1f610",new_moon_with_face:"1f31a",new_moon:"1f311","new":"1f195",newspaper:"1f4f0",ng:"1f196",no_bell:"1f515",no_bicycles:"1f6b3",no_entry_sign:"1f6ab",no_entry:"26d4",no_good:"1f645",no_mobile_phones:"1f4f5",no_mouth:"1f636",no_pedestrians:"1f6b7",no_smoking:"1f6ad","non-potable_water":"1f6b1",nose:"1f443",notebook_with_decorative_cover:"1f4d4",notebook:"1f4d3",notes:"1f3b6",nut_and_bolt:"1f529",o:"2b55",o2:"1f17e",ocean:"1f30a",octopus:"1f419",oden:"1f362",office:"1f3e2",ok_hand:"1f44c",ok_woman:"1f646",ok:"1f197",older_man:"1f474",older_woman:"1f475",on:"1f51b",oncoming_automobile:"1f698",oncoming_bus:"1f68d",oncoming_police_car:"1f694",oncoming_taxi:"1f696",open_book:"1f4d6",open_file_folder:"1f4c2",open_hands:"1f450",open_mouth:"1f62e",ophiuchus:"26ce",orange_book:"1f4d9",outbox_tray:"1f4e4",ox:"1f402","package":"1f4e6",page_facing_up:"1f4c4",page_with_curl:"1f4c3",pager:"1f4df",palm_tree:"1f334",panda_face:"1f43c",paperclip:"1f4ce",parking:"1f17f",part_alternation_mark:"303d",partly_sunny:"26c5",passport_control:"1f6c2",paw_prints:"1f43e",peach:"1f351",pear:"1f350",pencil:"1f4dd",pencil2:"270f",penguin:"1f427",pensive:"1f614",performing_arts:"1f3ad",persevere:"1f623",person_frowning:"1f64d",person_with_blond_hair:"1f471",person_with_pouting_face:"1f64e",pig_nose:"1f43d",pig:"1f437",pig2:"1f416",pill:"1f48a",pineapple:"1f34d",pisces:"2653",pizza:"1f355",point_down:"1f447",point_left:"1f448",point_right:"1f449",point_up_2:"1f446",point_up:"261d",police_car:"1f693",poodle:"1f429",poop:"1f4a9",post_office:"1f3e3",postal_horn:"1f4ef",postbox:"1f4ee",potable_water:"1f6b0",pouch:"1f45d",poultry_leg:"1f357",pound:"1f4b7",pouting_cat:"1f63e",pray:"1f64f",princess:"1f478",punch:"1f44a",purple_heart:"1f49c",purse:"1f45b",pushpin:"1f4cc",put_litter_in_its_place:"1f6ae",question:"2753",rabbit:"1f430",rabbit2:"1f407",racehorse:"1f40e",radio_button:"1f518",radio:"1f4fb",rage:"1f621",rainbow:"1f308",raised_hand:"270b",raised_hands:"1f64c",raising_hand:"1f64b",ram:"1f40f",ramen:"1f35c",rat:"1f400",recycle:"267b",red_car:"1f697",red_circle:"1f534",relaxed:"263a",relieved:"1f60c",repeat_one:"1f502",repeat:"1f501",restroom:"1f6bb",revolving_hearts:"1f49e",rewind:"23ea",ribbon:"1f380",rice_ball:"1f359",rice_cracker:"1f358",rice_scene:"1f391",rice:"1f35a",ring:"1f48d",rocket:"1f680",roller_coaster:"1f3a2",rooster:"1f413",rose:"1f339",rotating_light:"1f6a8",round_pushpin:"1f4cd",rowboat:"1f6a3",ru:"1f1f7-1f1fa",rugby_football:"1f3c9",running_shirt_with_sash:"1f3bd",running:"1f3c3",sa:"1f202",sagittarius:"2650",sailboat:"26f5",sake:"1f376",sandal:"1f461",santa:"1f385",satellite:"1f4e1",satisfied:"1f606",saxophone:"1f3b7",school_satchel:"1f392",school:"1f3eb",scissors:"2702",scorpius:"264f",scream_cat:"1f640",scream:"1f631",scroll:"1f4dc",seat:"1f4ba",secret:"3299",see_no_evil:"1f648",seedling:"1f331",shaved_ice:"1f367",sheep:"1f411",shell:"1f41a",ship:"1f6a2",shoe:"1f45e",shower:"1f6bf",signal_strength:"1f4f6",six_pointed_star:"1f52f",ski:"1f3bf",skull:"1f480",sleeping:"1f634",sleepy:"1f62a",slot_machine:"1f3b0",small_blue_diamond:"1f539",small_orange_diamond:"1f538",small_red_triangle_down:"1f53b",small_red_triangle:"1f53a",smile_cat:"1f638",smile:"1f604",smiley_cat:"1f63a",smiley:"1f603",smiling_imp:"1f608",smirk_cat:"1f63c",smirk:"1f60f",smoking:"1f6ac",snail:"1f40c",snake:"1f40d",snowboarder:"1f3c2",snowflake:"2744",snowman:"26c4",sob:"1f62d",soccer:"26bd",soon:"1f51c",sos:"1f198",sound:"1f509",space_invader:"1f47e",spades:"2660",spaghetti:"1f35d",sparkle:"2747",sparkler:"1f387",sparkles:"2728",sparkling_heart:"1f496",speak_no_evil:"1f64a",speaker:"1f50a",speech_balloon:"1f4ac",speedboat:"1f6a4",star:"2b50",star2:"1f31f",stars:"1f303",station:"1f689",statue_of_liberty:"1f5fd",steam_locomotive:"1f682",stew:"1f372",straight_ruler:"1f4cf",strawberry:"1f353",stuck_out_tongue_closed_eyes:"1f61d",stuck_out_tongue_winking_eye:"1f61c",stuck_out_tongue:"1f61b",sun_with_face:"1f31e",sunflower:"1f33b",sunglasses:"1f60e",sunny:"2600",sunrise_over_mountains:"1f304",sunrise:"1f305",surfer:"1f3c4",sushi:"1f363",suspension_railway:"1f69f",sweat_drops:"1f4a6",sweat_smile:"1f605",sweat:"1f613",sweet_potato:"1f360",swimmer:"1f3ca",symbols:"1f523",syringe:"1f489",tada:"1f389",tanabata_tree:"1f38b",tangerine:"1f34a",taurus:"2649",taxi:"1f695",tea:"1f375",telephone_receiver:"1f4de",telephone:"260e",telescope:"1f52d",tennis:"1f3be",tent:"26fa",thought_balloon:"1f4ad",thumbsdown:"1f44e",thumbsup:"1f44d",ticket:"1f3ab",tiger:"1f42f",tiger2:"1f405",tired_face:"1f62b",tm:"2122",toilet:"1f6bd",tokyo_tower:"1f5fc",tomato:"1f345",tongue:"1f445",top:"1f51d",tophat:"1f3a9",tractor:"1f69c",traffic_light:"1f6a5",train:"1f683",train2:"1f686",tram:"1f68a",triangular_flag_on_post:"1f6a9",triangular_ruler:"1f4d0",trident:"1f531",triumph:"1f624",trolleybus:"1f68e",trophy:"1f3c6",tropical_drink:"1f379",tropical_fish:"1f420",truck:"1f69a",trumpet:"1f3ba",tshirt:"1f455",tulip:"1f337",turtle:"1f422",tv:"1f4fa",twisted_rightwards_arrows:"1f500",two_hearts:"1f495",two_men_holding_hands:"1f46c",two_women_holding_hands:"1f46d",u5272:"1f239",u5408:"1f234",u55b6:"1f23a",u6307:"1f22f",u6708:"1f237",u6709:"1f236",u6e80:"1f235",u7121:"1f21a",u7533:"1f238",u7981:"1f232",u7a7a:"1f233",uk:"1f1ec-1f1e7",umbrella:"2614",unamused:"1f612",underage:"1f51e",unlock:"1f513",up:"1f199",us:"1f1fa-1f1f8",v:"270c",vertical_traffic_light:"1f6a6",vhs:"1f4fc",vibration_mode:"1f4f3",video_camera:"1f4f9",video_game:"1f3ae",violin:"1f3bb",virgo:"264d",volcano:"1f30b",vs:"1f19a",walking:"1f6b6",waning_crescent_moon:"1f318",waning_gibbous_moon:"1f316",warning:"26a0",watch:"231a",water_buffalo:"1f403",watermelon:"1f349",wave:"1f44b",wavy_dash:"3030",waxing_crescent_moon:"1f312",waxing_gibbous_moon:"1f314",wc:"1f6be",weary:"1f629",wedding:"1f492",whale:"1f433",whale2:"1f40b",wheelchair:"267f",white_check_mark:"2705",white_circle:"26aa",white_flower:"1f4ae",white_large_square:"2b1c",white_medium_small_square:"25fd",white_medium_square:"25fb",white_small_square:"25ab",white_square_button:"1f533",wind_chime:"1f390",wine_glass:"1f377",wink:"1f609",wolf:"1f43a",woman:"1f469",womans_clothes:"1f45a",womans_hat:"1f452",womens:"1f6ba",worried:"1f61f",wrench:"1f527",x:"274c",yellow_heart:"1f49b",yen:"1f4b4",yum:"1f60b",zap:"26a1",zzz:"1f4a4"}),define("wunderbits/mixins/EmojiData",["wunderbits/data/emoji","project!core"],function(e,t){var n={};
for(var r in e)n[e[r]]=r;return t.WBSingleton.extend({raw:e,unicodeIndex:n,nameIndex:e})}),define("wunderbits/helpers/strings",["../lib/dependencies","project!core","../mixins/EmojiData"],function(e,t,n){var r=e.$,i=e._;return t.WBSingleton.extend({fromCodePoint:function(){var e,t,n,r,i=[];for(r=0;r<arguments.length;++r)e=arguments[r],t=e-65536,n=e>65535?[55296+(t>>10),56320+(1023&t)]:[e],i.push(String.fromCharCode.apply(null,n));return i.join("")},emojiTokensToUnicode:function(e){var t=this;return e=e.replace(/:[^:|.]+:/g,function(e){var r=e.replace(/:/g,""),i=n.nameIndex[r];if(i){var o=i.split("-");o.forEach(function(e,n){o[n]=t.fromCodePoint("0x"+e)}),e=o.join("")}return e})},unicodeAt:function(e,t){t=t||0;var n,r,i=e.charCodeAt(t);if(i>=55296&&56319>=i){if(n=i,r=e.charCodeAt(t+1),isNaN(r))throw new Error("High surrogate not followed by low surrogate in unicodeAt()");return 1024*(n-55296)+(r-56320)+65536}return i>=56320&&57343>=i?!1:i},replaceAt:function(e,t,n,r){var i=e.substring(0,t),o=e.substring(t+1+r);return e=i+n+o},contains:function(e,t){var n=this;return i.isArray(t)?n.containsArray(e,t):n.containsString(e,t)},containsString:function(e,t){for(var n=!1,r=0;r<e.length;r++)e[r]===t&&(n=!0,r=e.length);return n},containsArray:function(e,t){for(var n=this,r=!1,i=0;i<t.length;i++)n.containsString(e,t[i])&&(r=!0,i=t.length);return r},trim:function(e,t){return t=t||500,e=(e||"").replace(/\n{3,}/g,"\n\n"),e=e.replace(/\s{3,}/g," "),e=r.trim(e),e.length>t&&(e=e.substring(0,t-3)+"..."),e},pad:function(e,t,n){for(e=String(e);e.length<t;)e=n?e+"0":"0"+e;return e},convertValueToString:function(e){return i.isString(e)?e:i.isNull(e)?"null":i.isBoolean(e)?e?"true":"false":""+e},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sanitizeHash:function(e){var t=e.split("/"),n="FILTERED",r=/^(lw[0-9a-z]{30,32})|(\d+)$/,i=/access_token/;return"login"===t[1]?t[2]&&i.test(t[2])&&(t[2]="FACEBOOK_LOGIN"):"tasks"!==t[1]&&"lists"!==t[1]||!r.test(t[2])?"extension"===t[1]&&"add"===t[2]||"reset"===t[1]&&"password"===t[2]||"connect"===t[1]&&"facebook"===t[2]?(t[3]&&(t[3]=n),t[4]&&(t[4]=n),t=t.splice(0,5)):"add"===t[1]||"search"===t[1]?t[2]&&(t[2]=n):"shared"===t[1]&&("fb"===t[2]?t[3]&&(t[3]=n):(t[2]&&(t[2]=n),t[3]&&(t[3]=n))):t[2]=n,"lists"===t[1]&&/share.+/.test(t[3])&&(/access_token/.test(t[3])?t[3]="share/CONNECT_FACEBOOK_RETURN":"share"!==t[3]&&(t[3]="share/FACEBOOK_SHARE_RETURN")),t.join("/")},reverse:function(e){return String(e).split("").reverse().join("")},dateString:function(){var e=this,t=new Date,n=e.pad(t.getHours()+1,2)+":"+e.pad(t.getMinutes(),2)+":"+e.pad(t.getSeconds(),2);return t.getFullYear()+e.pad(t.getMonth()+1,2)+e.pad(t.getDate())+"-"+n},escapeForRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}})}),define("vendor/ga",["project!database","wunderbits/helpers/strings"],function(e,t){function n(e){var t=e.split(";");if(t&&t[0]){var n=t[0].split("="),r=n[0].trim(),i=(n[1]||"").trim();N[r]=i,L.setItem("cookies",JSON.stringify(N))}}function r(){var e=[];for(var t in N)e.push(t+"="+N[t]);return e.join("; ")}function i(e,t){return e.name=t}function o(e,t){switch(t){case 0:return""+e;case 1:return 1*e;case 2:return!!e;case 3:return 1e3*e}return e}function a(e){return"function"==typeof e}function s(e){return e!=H&&-1<(e.constructor+"")[st]("String")}function u(e,t){return H===e||"-"===e&&!t||""===e}function c(e){if(!e||""===e)return"";for(;e&&-1<" \n\r	"[st](e[ot](0));)e=e[Et](1);for(;e&&-1<" \n\r	"[st](e[ot](e[gt]-1));)e=e[Et](0,e[gt]-1);return e}function l(){return K.round(2147483647*K.random())}function f(){}function d(e,t){return V instanceof Function?t?encodeURI(e):V(e):(A(68),escape(e))}function h(e){if(e=e[yt]("+")[Dt](" "),Q instanceof Function)try{return Q(e)}catch(t){A(17)}else A(68);return unescape(e)}function p(e,t){if(e){var n=U[lt]("script");n.type="text/javascript",n.async=Y,n.src=e,n.id=t;var r=U.getElementsByTagName("script")[0];return r.parentNode.insertBefore(n,r),n}}function g(e){return e&&0<e[gt]?e[0]:""}function v(e){var t=e?e[gt]:0;return t>0?e[t-1]:""}function m(e){return 0==e[st]("www.")&&(e=e[Et](4)),e[Mt]()}function y(e,t){var n,r={url:e,protocol:"http",host:"",path:"",d:new Ot,anchor:""};return e?(n=e[st]("://"),n>=0&&(r.protocol=e[Et](0,n),e=e[Et](n+3)),n=e[_t]("/|\\?|#"),n>=0?(r.host=e[Et](0,n)[Mt](),e=e[Et](n),n=e[st]("#"),n>=0&&(r.anchor=e[Et](n+1),e=e[Et](0,n)),n=e[st]("?"),n>=0&&(x(r.d,e[Et](n+1)),e=e[Et](0,n)),r.anchor&&t&&x(r.d,r.anchor),e&&"/"==e[ot](0)&&(e=e[Et](1)),r.path=e,r):(r.host=e[Mt](),r)):r}function b(e,t){function n(e){var t=(e.hostname||"")[yt](":")[0][Mt](),n=(e[St]||"")[Mt](),n=1*e[ct]||("http:"==n?80:"https:"==n?443:"");return e=e.pathname||"",0==e[st]("/")||(e="/"+e),[t,""+n,e]}var r=t||U[lt]("a");r.href=document.location.href;var i=(r[St]||"")[Mt](),o=n(r),a=r[_t]||"",s=i+"//"+o[0]+(o[1]?":"+o[1]:"");return 0==e[st]("//")?e=i+e:0==e[st]("/")?e=s+e:e&&0!=e[st]("?")?0>e[yt]("/")[0][st](":")&&(e=s+o[2][Et](0,o[2].lastIndexOf("/"))+"/"+e):e=s+o[2]+(e||a),r.href=e,i=n(r),{protocol:(r[St]||"")[Mt](),host:i[0],port:i[1],path:i[2],Oa:r[_t]||"",url:e||""}}function x(e,t){function n(t,n){e.contains(t)||e.set(t,[]),e.get(t)[Z](n)}for(var r=c(t)[yt]("&"),i=0;i<r[gt];i++)if(r[i]){var o=r[i][st]("=");0>o?n(r[i],"1"):n(r[i][Et](0,o),r[i][Et](o+1))}}function w(e,t){if(u(e)||"["==e[ot](0)&&"]"==e[ot](e[gt]-1))return"-";var n=U.domain;return e[st](n+(t&&"/"!=t?t:""))==(0==e[st]("http://")?7:0==e[st]("https://")?8:0)?"0":e}function _(e,t,n){!(jt>=1||1<=100*K.random()||(e=["utmt=error","utmerr="+e,"utmwv=5.3.8","utmn="+l(),"utmsp=1"],t&&e[Z]("api="+t),n&&e[Z]("msg="+d(n[Et](0,100))),fo.w&&e[Z]("aip=1"),so(e[Dt]("&")),!jt++))}function S(e){return k("x"+Wt++,e)}function k(e,t){return Rt[e]=!!t,e}function E(e){var t=this.plugins_;return t?t.get(e):void 0}function T(e,t){t=t||[];for(var n=0;n<t[gt];n++){var r=t[n];if(""+e==r||0==r[st](e+"."))return r}return"-"}function C(e){100!=e.get(cn)&&e.get(On)%1e4>=100*e.get(cn)&&e[bt]()}function D(e){Xr(e.get(It))&&e[bt]()}function M(e){"file:"==document.location.protocol&&e[bt]()}function B(e){var t=P?"/":location.pathname;e.get(_n)||e.set(_n,window.gitHash||U.title,Y),e.get(wn)||e.set(wn,t+document.location.search,Y)}function A(e){$r.set(e)}function O(e){return"string"==typeof e}function j(e){return("number"==typeof e||H!=Number&&e instanceof Number)&&K.round(e)==e&&0/0!=e&&e!=G?Y:X}function W(e){var t,n=1,r=0;if(e)for(n=0,t=e[gt]-1;t>=0;t--)r=e.charCodeAt(t),n=(n<<6&268435455)+r+(r<<14),r=266338304&n,n=0!=r?n^r>>21:n;return n}function R(e){if(!/^UA\-/.test(e))throw new Error("invalid account passed to ga.js");if(I.push(["_setAccount",e]),vo.gaq=po,!lo(go)){A(123);var t=X,n=function(){!t&&lo(go)&&(t=Y,At(U,"webkitvisibilitychange",n))};Bt(U,"webkitvisibilitychange",n)}}var I=[],N={},L=new e.WBLocalStorage,q=window,U=document,P=q.chrome&&(q.chrome.runtime||q.chrome.app&&q.chrome.app.runtime),F="object"==typeof process;(P||F)&&(L.getItem("cookies").done(function(e){try{e=JSON.parse(e),N=e||{}}catch(t){}}),U.__defineSetter__("cookie",n),q.__defineSetter__("cookie",n),U.__defineGetter__("cookie",r),q.__defineGetter__("cookie",r),q.history.__defineGetter__("length",function(){return 0}));var z,H=void 0,Y=!0,$=null,X=!1,V=encodeURIComponent,G=1/0,J=setTimeout,K=Math,Q=decodeURIComponent,Z="push",et="test",tt="slice",nt="replace",rt="load",it="floor",ot="charAt",at="value",st="indexOf",ut="match",ct="port",lt="createElement",ft="path",dt="name",ht="host",pt="toString",gt="length",vt="prototype",mt="clientWidth",yt="split",bt="stopPropagation",xt="scope",wt="location",_t="search",St="protocol",kt="clientHeight",Et="substring",Tt="apply",Ct="navigator",Dt="join",Mt="toLowerCase",Bt=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,!!r):e.attachEvent&&e.attachEvent("on"+t,n)},At=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,!!r):e.detachEvent&&e.detachEvent("on"+t,n)},Ot=function(){this.prefix="ga.",this.R={}};Ot[vt].set=function(e,t){this.R[this.prefix+e]=t},Ot[vt].get=function(e){return this.R[this.prefix+e]},Ot[vt].contains=function(e){return this.get(e)!==H};var jt=0,Wt=0,Rt={},It=S(),Nt=k("anonymizeIp"),Lt=S(),qt=S(),Ut=S(),Pt=S(),Ft=S(),zt=S(),Ht=S(),Yt=S(),$t=S(),Xt=S(),Vt=S(),Gt=S(),Jt=S(),Kt=S(),Qt=S(),Zt=S(),en=S(),tn=S(),nn=S(),rn=S(),on=S(),an=S(),sn=S(),un=S(),cn=S(),ln=S(),fn=S(),dn=S(),hn=S(),pn=S(),gn=S(),vn=S(),mn=S(),yn=S(),bn=S(Y),xn=k("currencyCode"),wn=k("page"),_n=k("title"),Sn=S(),kn=S(),En=S(),Tn=S(),Cn=S(),Dn=S(),Mn=S(),Bn=S(),An=S(),On=S(Y),jn=S(Y),Wn=S(Y),Rn=S(Y),In=S(Y),Nn=S(Y),Ln=S(Y),qn=S(Y),Un=S(Y),Pn=S(Y),Fn=S(Y),zn=S(Y),Hn=S(Y),Yn=S(Y),$n=S(Y),Xn=S(Y),Vn=S(Y),Gn=S(Y),Jn=S(Y),Kn=S(Y),Qn=S(Y),Zn=S(Y),er=S(Y),tr=S(Y),nr=S(Y),rr=S(Y),ir=S(Y),or=k("campaignParams"),ar=S(),sr=k("hitCallback"),ur=S();S();var cr=S(),lr=S(),fr=S(),dr=S(),hr=S(),pr=S(),gr=S(),vr=S(),mr=S(),yr=S(),br=S(),xr=S(),wr=S(),_r=S();S();var Sr=S(),kr=S(),Er=S(),Tr=function(e,t,n,r){e[t]=function(){try{return r!=H&&A(r),n[Tt](this,arguments)}catch(e){throw _("exc",t,e&&e[dt]),e}}},Cr=function(e,t,n,r){zi[vt][e]=function(){try{return A(n),o(this.a.get(t),r)}catch(i){throw _("exc",e,i&&i[dt]),i}}},Dr=function(e,t,n,r,i){zi[vt][e]=function(a){try{A(n),i==H?this.a.set(t,o(a,r)):this.a.set(t,i)}catch(s){throw _("exc",e,s&&s[dt]),s}}},Mr=RegExp(/(^|\.)doubleclick\.net$/i),Br=function(e,t){return Mr[et](document.location.hostname)?Y:"/"!==t?X:0!=e[st]("www.google.")&&0!=e[st](".google.")&&0!=e[st]("google.")||-1<e[st]("google.org")?X:Y},Ar=function(e){var t=e.get(Pt),n=e.c(zt,"/");Br(t,n)&&e[bt]()},Or=function(){var e={},t={},n=new zr;this.g=function(e,t){n.add(e,t)};var r=new zr;this.e=function(e,t){r.add(e,t)};var i=X,o=X,a=Y;this.T=function(){i=Y},this.j=function(e){this[rt](),this.set(ar,e,Y),e=new jr(this),i=X,r.execute(this),i=Y,t={},this.n(),e.Ja()},this.load=function(){i&&(i=X,this.Ka(),fi(this),o||(o=Y,n.execute(this),li(this),fi(this)),i=Y)},this.n=function(){i&&(o?(i=X,li(this),i=Y):this[rt]())},this.get=function(n){return Rt[n]&&this[rt](),t[n]!==H?t[n]:e[n]},this.set=function(n,r,i){Rt[n]&&this[rt](),i?t[n]=r:e[n]=r,Rt[n]&&this.n()},this.z=function(t){e[t]=this.b(t,0)+1},this.b=function(e,t){var n=this.get(e);return n==H||""===n?t:1*n},this.c=function(e,t){var n=this.get(e);return n==H?t:n+""},this.Ka=function(){if(a){var t=this.c(Pt,""),n=this.c(zt,"/");Br(t,n)||(e[Ft]=e[Gt]&&""!=t?W(t):1,a=X)}}};Or[vt].stopPropagation=function(){if(!P&&!F)throw"aborted"};var jr=function(e){var t=this;this.q=0;var n=e.get(sr);this.Ua=function(){0<t.q&&n&&(t.q--,t.q||n())},this.Ja=function(){!t.q&&n&&J(n,10)},e.set(ur,t,Y)},Wr=function(e,t,n){if(n=n?"":e.c(Ft,"1"),t=t[yt]("."),6!==t[gt]||Fr(t[0],n))return X;n=1*t[1];var r=1*t[2],i=1*t[3],o=1*t[4];return t=1*t[5],n>=0&&r>0&&i>0&&o>0&&t>=0?(e.set(On,n),e.set(In,r),e.set(Nn,i),e.set(Ln,o),e.set(qn,t),Y):X},Rr=function(e){var t=e.get(On),n=e.get(In),r=e.get(Nn),i=e.get(Ln),o=e.b(qn,1);return[e.b(Ft,1),t!=H?t:"-",n||"-",r||"-",i||"-",o][Dt](".")},Ir=function(e){return[e.b(Ft,1),e.b(Fn,0),e.b(zn,1),e.b(Hn,0)][Dt](".")},Nr=function(e,t,n){n=n?"":e.c(Ft,"1");var r=t[yt](".");return(4!==r[gt]||Fr(r[0],n))&&(r=$),e.set(Fn,r?1*r[1]:0),e.set(zn,r?1*r[2]:10),e.set(Hn,r?1*r[3]:e.get(Ut)),r!=$||!Fr(t,n)},Lr=function(e,t){var n=d(e.c(Wn,"")),r=[],i=e.get(bn);if(!t&&i){for(var o=0;o<i[gt];o++){var a=i[o];a&&1==a[xt]&&r[Z](o+"="+d(a[dt])+"="+d(a[at])+"=1")}0<r[gt]&&(n+="|"+r[Dt]("^"))}return n?e.b(Ft,1)+"."+n:$},qr=function(e,t,n){if(n=n?"":e.c(Ft,"1"),t=t[yt]("."),2>t[gt]||Fr(t[0],n))return X;if(t=t[tt](1)[Dt](".")[yt]("|"),0<t[gt]&&e.set(Wn,h(t[0])),1>=t[gt])return Y;for(t=t[1][yt](-1==t[1][st](",")?"^":","),n=0;n<t[gt];n++){var r=t[n][yt]("=");if(4==r[gt]){var o={};i(o,h(r[1])),o.value=h(r[2]),o.scope=1,e.get(bn)[r[0]]=o}}return Y},Ur=function(e){var t;t=function(t,r){if(!u(e.get(t))){var i=e.c(t,""),i=i[yt](" ")[Dt]("%20"),i=i[yt]("+")[Dt]("%20");n[Z](r+"="+i)}};var n=[];return t(Gn,"utmcid"),t(tr,"utmcsr"),t(Kn,"utmgclid"),t(Qn,"utmgclsrc"),t(Zn,"utmdclid"),t(er,"utmdsid"),t(Jn,"utmccn"),t(nr,"utmcmd"),t(rr,"utmctr"),t(ir,"utmcct"),(t=n[Dt]("|"))?[e.b(Ft,1),e.b(Yn,0),e.b($n,1),e.b(Xn,1),t][Dt]("."):""},Pr=function(e,t,n){if(n=n?"":e.c(Ft,"1"),t=t[yt]("."),5>t[gt]||Fr(t[0],n))return e.set(Yn,H),e.set($n,H),e.set(Xn,H),e.set(Gn,H),e.set(Jn,H),e.set(tr,H),e.set(nr,H),e.set(rr,H),e.set(ir,H),e.set(Kn,H),e.set(Qn,H),e.set(Zn,H),e.set(er,H),X;e.set(Yn,1*t[1]),e.set($n,1*t[2]),e.set(Xn,1*t[3]);var r=t[tt](4)[Dt](".");t=function(e){return(e=r[ut](e+"=(.*?)(?:\\|utm|$)"))&&2==e[gt]?e[1]:H},n=function(t,n){n?(n=i?h(n):n[yt]("%20")[Dt](" "),e.set(t,n)):e.set(t,H)},-1==r[st]("=")&&(r=h(r));var i="2"==t("utmcvr");return n(Gn,t("utmcid")),n(Jn,t("utmccn")),n(tr,t("utmcsr")),n(nr,t("utmcmd")),n(rr,t("utmctr")),n(ir,t("utmcct")),n(Kn,t("utmgclid")),n(Qn,t("utmgclsrc")),n(Zn,t("utmdclid")),n(er,t("utmdsid")),Y},Fr=function(e,t){return t?e!=t:!/^\d+$/[et](e)},zr=function(){this.filters=[]};zr[vt].add=function(e,t){this.filters[Z]({name:e,s:t})},zr[vt].execute=function(e){var t,n;try{for(t=0,n=this.filters.length;n>t;t++)this.filters[t].s.call(q,e)}catch(r){}};var Hr,Yr,$r=new function(){var e=[];this.set=function(t){e[t]=Y},this.Xa=function(){for(var t=[],n=0;n<e[gt];n++)e[n]&&(t[K[it](n/6)]=t[K[it](n/6)]^1<<n%6);for(n=0;n<t[gt];n++)t[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ot](t[n]||0);return t[Dt]("")+"~"}},Xr=function(e){var t=q._gaUserPrefs;return t&&t.ioo&&t.ioo()||!!e&&q["ga-disable-"+e]===Y},Vr=function(e){var t=[],n=U.cookie[yt](";");e=RegExp("^\\s*"+e+"=\\s*(.*?)\\s*$");for(var r=0;r<n[gt];r++){var i=n[r][ut](e);i&&t[Z](i[1])}return t},Gr=function(e,t,n,r,i,o){if(i=Xr(i)?X:Br(r,n)?X:Y){if(t&&0<=q[Ct].userAgent[st]("Firefox")){t=t[nt](/\n|\r/g," "),i=0;for(var a=t[gt];a>i;++i){var s=255&t.charCodeAt(i);(10==s||13==s)&&(t=t[Et](0,i)+"?"+t[Et](i+1))}}t&&2e3<t[gt]&&(t=t[Et](0,2e3),A(69)),e=e+"="+t+"; path="+n+"; ",o&&(e+="expires="+new Date((new Date).getTime()+o).toGMTString()+"; "),r&&(e+="domain="+r+";"),U.cookie=e}},Jr=function(){if(!Hr){var e={},t=q[Ct],n=q.screen;e.Q=n?n.width+"x"+n.height:"-",e.P=n?n.colorDepth+"-bit":"-",e.language=(t&&(t.language||t.browserLanguage)||"-")[Mt](),e.javaEnabled=t&&t.javaEnabled()?1:0,e.characterSet=U.characterSet||U.charset||"-";try{var r=U.documentElement,i=U.body,o=i&&i[mt]&&i[kt],t=[];r&&r[mt]&&r[kt]&&("CSS1Compat"===U.compatMode||!o)?t=[r[mt],r[kt]]:o&&(t=[i[mt],i[kt]]),e.Wa=t[Dt]("x")}catch(a){A(135)}Hr=e}},Kr=function(){Jr();var e=Hr,t=q[Ct],n=t.userAgent;P&&(n="ChromeApp/"+t.platform+"/"+window.gitHash);for(var r=U.cookie?U.cookie:"",i=U.referrer?U.referrer:"",o=q.history.length,a=t.appName+t.version+e.language+t.platform+n+e.javaEnabled+e.Q+e.P+r+i,s=a.length;o>0;)a+=o--^s++;return W(a)},Qr=function(e){Jr();var t=Hr;if(e.set(En,t.Q),e.set(Tn,t.P),e.set(Mn,t.language),e.set(Bn,t.characterSet),e.set(Cn,t.javaEnabled),e.set(An,t.Wa),e.get(Jt)&&e.get(Kt)){if(!(t=Yr)){var n,r,i;if(r="ShockwaveFlash",(t=(t=q[Ct])?t.plugins:H)&&0<t[gt])for(n=0;n<t[gt]&&!i;n++)r=t[n],-1<r[dt][st]("Shockwave Flash")&&(i=r.description[yt]("Shockwave Flash ")[1]);else{r=r+"."+r;try{n=new ActiveXObject(r+".7"),i=n.GetVariable("$version")}catch(o){}if(!i)try{n=new ActiveXObject(r+".6"),i="WIN 6,0,21,0",n.AllowScriptAccess="always",i=n.GetVariable("$version")}catch(a){}if(!i)try{n=new ActiveXObject(r),i=n.GetVariable("$version")}catch(s){}i&&(i=i[yt](" ")[1][yt](","),i=i[0]+"."+i[1]+" r"+i[2])}t=i?i:"-"}Yr=t,e.set(Dn,Yr)}else e.set(Dn,"-")},Zr=function(e){if(a(e))this.s=e;else{var t=e[0],n=t.lastIndexOf(":"),r=t.lastIndexOf(".");this.h=this.i=this.l="",-1==n&&-1==r?this.h=t:-1==n&&-1!=r?(this.i=t[Et](0,r),this.h=t[Et](r+1)):-1!=n&&-1==r?(this.l=t[Et](0,n),this.h=t[Et](n+1)):n>r?(this.i=t[Et](0,r),this.l=t[Et](r+1,n),this.h=t[Et](n+1)):(this.i=t[Et](0,r),this.h=t[Et](r+1)),this.k=e[tt](1),this.Ma=!this.l&&"_require"==this.h,this.J=!this.i&&!this.l&&"_provide"==this.h}},ei=function(){Tr(ei[vt],"push",ei[vt][Z],5),Tr(ei[vt],"_getPlugin",E,121),Tr(ei[vt],"_createAsyncTracker",ei[vt].Sa,33),Tr(ei[vt],"_getAsyncTracker",ei[vt].Ta,34),this.I=new Ot,this.p=[]};z=ei[vt],z.Na=function(e,t,n){var r=this.I.get(e);return a(r)?(t.plugins_=t.plugins_||new Ot,t.plugins_.set(e,new r(t,n||{})),Y):X},z.push=function(){var e=po.Va[Tt](this,arguments),e=po.p.concat(e);for(po.p=[];0<e[gt]&&!po.O(e[0])&&(e.shift(),!(0<po.p[gt])););return po.p=po.p.concat(e),0},z.Va=function(){for(var e=[],t=0;t<arguments[gt];t++)try{var n=new Zr(arguments[t]);n.J?this.O(n):e[Z](n)}catch(r){}return e},z.O=function(e){try{if(e.s)e.s[Tt](q);else if(e.J)this.I.set(e.k[0],e.k[1]);else{var t="_gat"==e.i?fo:"_gaq"==e.i?po:fo.u(e.i);if(e.Ma){if(!this.Na(e.k[0],t,e.k[2])){if(!e.Pa){var n,r=b(""+e.k[1]),i=r[St],o=document.location.protocol;if(n="https:"==i||i==o?Y:"http:"!=i?X:"http:"==o){var a;e:{var s=b(document.location.href);if(!(r.Oa||0<=r.url[st]("?")||0<=r[ft][st]("://")||r[ht]==s[ht]&&r[ct]==s[ct]))for(var u="http:"==r[St]?80:443,c=fo.S,t=0;t<c[gt];t++)if(r[ht]==c[t][0]&&(r[ct]||u)==(c[t][1]||u)&&0==r[ft][st](c[t][2])){a=Y;break e}a=X}n=a&&!Xr()}n&&(e.Pa=p(r.url))}return Y}}else e.l&&(t=t.plugins_.get(e.l)),t[e.h][Tt](t,e.k)}}catch(l){}},z.Sa=function(e,t){return fo.r(e,t||"")},z.Ta=function(e){return fo.u(e)};var ti,ni,ri,ii,oi=function(){function e(e,t,n,r){H==o[e]&&(o[e]={}),H==o[e][t]&&(o[e][t]=[]),o[e][t][n]=r}function t(e,t,n){return H!=o[e]&&H!=o[e][t]?o[e][t][n]:void 0}function n(e,t){if(H!=o[e]&&H!=o[e][t]){o[e][t]=H;var n,r=Y;for(n=0;n<a[gt];n++)if(H!=o[e][a[n]]){r=X;break}r&&(o[e]=H)}}function r(e){var t,n,r="",i=X;for(t=0;t<a[gt];t++)if(n=e[a[t]],H!=n){i&&(r+=a[t]);for(var i=[],o=H,h=H,h=0;h<n[gt];h++)if(H!=n[h]){o="",h!=d&&H==n[h-1]&&(o+=h[pt]()+l);for(var p=n[h],g="",v=H,m=H,y=H,v=0;v<p[gt];v++)m=p[ot](v),y=f[m],g+=H!=y?y:m;o+=g,i[Z](o)}r+=s+i[Dt](c)+u,i=X}else i=Y;return r}var i=this,o=[],a=["k","v"],s="(",u=")",c="*",l="!",f={"'":"'0"};f[u]="'1",f[c]="'2",f[l]="'3";var d=1;i.Ra=function(e){return H!=o[e]},i.A=function(){for(var e="",t=0;t<o[gt];t++)H!=o[t]&&(e+=t[pt]()+r(o[t]));return e},i.Qa=function(e){if(e==H)return i.A();for(var t=e.A(),n=0;n<o[gt];n++)H!=o[n]&&!e.Ra(n)&&(t+=n[pt]()+r(o[n]));return t},i.f=function(t,n,r){return O(r)?(e(t,"k",n,r),Y):X},i.o=function(t,n,r){return j(r)?(e(t,"v",n,r[pt]()),Y):X},i.getKey=function(e,n){return t(e,"k",n)},i.N=function(e,n){return t(e,"v",n)},i.L=function(e){n(e,"k")},i.M=function(e){n(e,"v")},Tr(i,"_setKey",i.f,89),Tr(i,"_setValue",i.o,90),Tr(i,"_getKey",i.getKey,87),Tr(i,"_getValue",i.N,88),Tr(i,"_clearKey",i.L,85),Tr(i,"_clearValue",i.M,86)},ai=function(e){var t=q.gaGlobal;return e&&!t&&(q.gaGlobal=t={}),t},si=function(){var e=ai(Y).hid;return e==$&&(e=l(),ai(Y).hid=e),e},ui=function(e){e.set(kn,si());var t=ai();if(t&&t.dh==e.get(Ft)){var n=t.sid;n&&("0"==n&&A(112),e.set(Ln,n),e.get(jn)&&e.set(Nn,n)),t=t.vid,e.get(jn)&&t&&(t=t[yt]("."),1*t[1]||A(112),e.set(On,1*t[0]),e.set(In,1*t[1]))}},ci=function(e,t,n){var r=e.c(Pt,""),i=e.c(zt,"/"),o=e.b(Ht,0);e=e.c(It,""),Gr(t,n,i,r,e,o)},li=function(e){var t=e.c(Pt,"");e.b(Ft,1);var n=e.c(zt,"/"),r=e.c(It,"");Gr("__utma",Rr(e),n,t,r,e.get(Ht)),Gr("__utmb",Ir(e),n,t,r,e.get(Yt)),Gr("__utmc",""+e.b(Ft,1),n,t,r);var i=Ur(e,Y);i?Gr("__utmz",i,n,t,r,e.get($t)):Gr("__utmz","",n,t,"",-1),(i=Lr(e,X))?Gr("__utmv",i,n,t,r,e.get(Ht)):Gr("__utmv","",n,t,"",-1)},fi=function(e){var t=e.b(Ft,1);if(!Wr(e,T(t,Vr("__utma"))))return e.set(Rn,Y),X;var n=!Nr(e,T(t,Vr("__utmb")));return e.set(Pn,n),Pr(e,T(t,Vr("__utmz"))),qr(e,T(t,Vr("__utmv"))),ti=!n,Y},di=function(e){!ti&&!(0<Vr("__utmb")[gt])&&(Gr("__utmd","1",e.c(zt,"/"),e.c(Pt,""),e.c(It,""),1e4),0==Vr("__utmd")[gt]&&e[bt]())},hi=function(e){e.get(On)==H?gi(e):e.get(Rn)&&!e.get(Sr)?gi(e):e.get(Pn)&&vi(e)},pi=function(e){e.get(Vn)&&!e.get(Un)&&(vi(e),e.set($n,e.get(qn)))},gi=function(e){var t=e.get(Ut);e.set(jn,Y),e.set(On,l()^2147483647&Kr(e)),e.set(Wn,""),e.set(In,t),e.set(Nn,t),e.set(Ln,t),e.set(qn,1),e.set(Un,Y),e.set(Fn,0),e.set(zn,10),e.set(Hn,t),e.set(bn,[]),e.set(Rn,X),e.set(Pn,X)},vi=function(e){e.set(Nn,e.get(Ln)),e.set(Ln,e.get(Ut)),e.z(qn),e.set(Un,Y),e.set(Fn,0),e.set(zn,10),e.set(Hn,e.get(Ut)),e.set(Pn,X)},mi="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p yahoo:q msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q netscape:query cnn:query about:terms mamma:q voila:rdata virgilio:qs live:q baidu:wd alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT wp:szukaj onet:qt yam:k kvasir:q ozu:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q search.centrum.cz:q".split(" "),yi=function(e){if(e.get(Qt)&&!e.get(Sr)){for(var t=!(u(e.get(Gn))&&u(e.get(tr))&&u(e.get(Kn))&&u(e.get(Zn))),n={},r=0;r<_i[gt];r++){var i=_i[r];n[i]=e.get(i)}if((r=e.get(or))?(A(149),i=new Ot,x(i,r),r=i):r=y(document.location.href,e.get(Vt)).d,"1"!=v(r.get(e.get(un)))||!t){var o=r,a=function(t,n){n=n||"-";var r=v(o.get(e.get(t)));return r&&"-"!=r?h(r):n},r=v(o.get(e.get(en)))||"-",i=v(o.get(e.get(rn)))||"-",s=v(o.get(e.get(nn)))||"-",c=v(o.get("gclsrc"))||"-",l=v(o.get("dclid"))||"-",f=a(tn,"(not set)"),d=a(on,"(not set)"),p=a(an),a=a(sn);if(u(r)&&u(s)&&u(l)&&u(i))r=X;else{var g=!u(s)&&!u(c),g=u(i)&&(!u(l)||g),m=u(p);if(g||m){var b=Ei(e),b=y(b,Y);(b=xi(e,b))&&!u(b[1]&&!b[2])&&(g&&(i=b[0]),m&&(p=b[1]))}wi(e,r,i,s,c,l,f,d,p,a),r=Y}r=r||bi(e),!r&&!t&&e.get(Un)&&(wi(e,H,"(direct)",H,H,H,"(direct)","(none)",H,H),r=Y),r&&(e.set(Vn,Si(e,n)),t="(direct)"==e.get(tr)&&"(direct)"==e.get(Jn)&&"(none)"==e.get(nr),e.get(Vn)||e.get(Un)&&!t)&&(e.set(Yn,e.get(Ut)),e.set($n,e.get(qn)),e.z(Xn))}}},bi=function(e){var t=Ei(e),n=y(t,Y);if(!(t!=H&&t!=$&&""!=t&&"0"!=t&&"-"!=t&&0<=t[st]("://"))||n&&-1<n[ht][st]("google")&&n.d.contains("q")&&"cse"==n[ft])return X;if((t=xi(e,n))&&!t[2])return wi(e,H,t[0],H,H,H,"(organic)","organic",t[1],H),Y;if(t||!e.get(Un))return X;e:{for(var t=e.get(gn),r=m(n[ht]),i=0;i<t[gt];++i)if(-1<r[st](t[i])){e=X;break e}wi(e,H,r,H,H,H,"(referral)","referral",H,"/"+n[ft]),e=Y}return e},xi=function(e,t){for(var n=e.get(hn),r=0;r<n[gt];++r){var i=n[r][yt](":");if(-1<t[ht][st](i[0][Mt]())){var o=t.d.get(i[1]);if(o&&(o=g(o),!o&&-1<t[ht][st]("google.")&&(o="(not provided)"),!i[3]||-1<t.url[st](i[3]))){e:{for(var n=o,r=e.get(pn),n=h(n)[Mt](),a=0;a<r[gt];++a)if(n==r[a]){n=Y;break e}n=X}return[i[2]||i[0],o,n]}}}return $},wi=function(e,t,n,r,i,o,a,s,u,c){e.set(Gn,t),e.set(tr,n),e.set(Kn,r),e.set(Qn,i),e.set(Zn,o),e.set(Jn,a),e.set(nr,s),e.set(rr,u),e.set(ir,c)},_i=[Jn,Gn,Kn,Zn,tr,nr,rr,ir],Si=function(e,t){function n(e){return e=(""+e)[yt]("+")[Dt]("%20"),e=e[yt](" ")[Dt]("%20")}function r(n){var r=""+(e.get(n)||"");return n=""+(t[n]||""),0<r[gt]&&r==n}if(r(Kn)||r(Zn))return A(131),X;for(var i=0;i<_i[gt];i++){var o=_i[i],a=t[o]||"-",o=e.get(o)||"-";if(n(a)!=n(o))return Y}return X},ki=RegExp(/^https:\/\/(www\.)?google(\.com?)?(\.[a-z]{2}t?)?\/?$/i),Ei=function(e){e=w(e.get(Sn),e.get(zt));try{if(ki[et](e))return A(136),e+"?q="}catch(t){A(145)}return e},Ti=function(e){ni=e.c(Kn,""),ri=e.c(Qn,"")},Ci=function(e){var t=e.c(Kn,""),n=e.c(Qn,"");t!=ni&&(-1<n[st]("ds")?e.set(er,H):!u(ni)&&-1<ri[st]("ds")&&e.set(er,ni))},Di=function(e){Mi(e,document.location.href)?(e.set(Sr,Y),A(12)):e.set(Sr,X)},Mi=function(e,t){if(!e.get(Xt))return X;var n=y(t,e.get(Vt)),r=g(n.d.get("__utma")),i=g(n.d.get("__utmb")),o=g(n.d.get("__utmc")),a=g(n.d.get("__utmx")),s=g(n.d.get("__utmz")),u=g(n.d.get("__utmv")),n=g(n.d.get("__utmk"));if(W(""+r+i+o+a+s+u)!=n){if(r=h(r),i=h(i),o=h(o),a=h(a),o=Ai(r+i+o+a,s,u,n),!o)return X;s=o[0],u=o[1]}return Wr(e,r,Y)?(Nr(e,i,Y),Pr(e,s,Y),qr(e,u,Y),Ni(e,a,Y),Y):X},Bi=function(e,t,n){var r;r=Rr(e)||"-";var i=Ir(e)||"-",o=""+e.b(Ft,1)||"-",a=Li(e)||"-",s=Ur(e,X)||"-";e=Lr(e,X)||"-";var u=W(""+r+i+o+a+s+e),c=[];return c[Z]("__utma="+r),c[Z]("__utmb="+i),c[Z]("__utmc="+o),c[Z]("__utmx="+a),c[Z]("__utmz="+s),c[Z]("__utmv="+e),c[Z]("__utmk="+u),(r=c[Dt]("&"))?(i=t[st]("#"),n?0>i?t+"#"+r:t+"&"+r:(n="",o=t[st]("?"),i>0&&(n=t[Et](i),t=t[Et](0,i)),0>o?t+"?"+r+n:t+"&"+r+n)):t},Ai=function(e,t,n,r){for(var i=0;3>i;i++){for(var o=0;3>o;o++){if(r==W(e+t+n))return A(127),[t,n];var a=t[nt](/ /g,"%20"),s=n[nt](/ /g,"%20");if(r==W(e+a+s))return A(128),[a,s];if(a=a[nt](/\+/g,"%20"),s=s[nt](/\+/g,"%20"),r==W(e+a+s))return A(129),[a,s];try{var u=t[ut]("utmctr=(.*?)(?:\\|utm|$)");if(u&&2==u[gt]&&(a=t[nt](u[1],d(h(u[1]))),r==W(e+a+n)))return A(139),[a,n]}catch(c){}t=h(t)}n=h(n)}},Oi="|",ji=function(e,t,n,r,i,o,a,s,u){var c=Ri(e,t);return c||(c={},e.get(vn)[Z](c)),c.id_=t,c.affiliation_=n,c.total_=r,c.tax_=i,c.shipping_=o,c.city_=a,c.state_=s,c.country_=u,c.items_=c.items_||[],c},Wi=function(e,t,n,r,i,o,a){e=Ri(e,t)||ji(e,t,"",0,0,0,"","","");var s;e:{if(e&&e.items_){s=e.items_;for(var u=0;u<s[gt];u++)if(s[u].sku_==n){s=s[u];break e}}s=$}return u=s||{},u.transId_=t,u.sku_=n,u.name_=r,u.category_=i,u.price_=o,u.quantity_=a,s||e.items_[Z](u),u},Ri=function(e,t){for(var n=e.get(vn),r=0;r<n[gt];r++)if(n[r].id_==t)return n[r];return $},Ii=function(e){if(!ii){var t;t=document.location.hash;var n=q[dt],r=/^#?gaso=([^&]*)/;(n=(t=(t=t&&t[ut](r)||n&&n[ut](r))?t[1]:g(Vr("GASO")))&&t[ut](/^(?:[|!]([-0-9a-z.]{1,40})[|!])?([-.\w]{10,1200})$/i))&&(ci(e,"GASO",""+t),fo._gasoDomain=e.get(Pt),fo._gasoCPath=e.get(zt),e=n[1],p("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(e?"prefix="+e+"&":"")+l(),"_gasojs")),ii=Y}},Ni=function(e,t,n){n&&(t=h(t)),n=e.b(Ft,1),t=t[yt]("."),!(2>t[gt])&&/^\d+$/[et](t[0])&&(t[0]=""+n,ci(e,"__utmx",t[Dt](".")))},Li=function(e,t){var n=T(e.get(Ft),Vr("__utmx"));return"-"==n&&(n=""),t?d(n):n},qi=function(e,t){var n=K.min(e.b(mr,0),100);if(e.b(On,0)%100>=n)return X;e:{if(n=(n=q.performance||q.webkitPerformance)&&n.timing){var r=n.navigationStart;if(0!=r){n=[n.loadEventStart-r,n.domainLookupEnd-n.domainLookupStart,n.connectEnd-n.connectStart,n.responseStart-n.requestStart,n.responseEnd-n.responseStart,n.fetchStart-r,n.domInteractive-r,n.domContentLoadedEventStart-r];break e}A(133)}n=H}if(n||(q.top!=q?n=H:(r=(n=q.external)&&n.onloadT,n&&!n.isValidLoadTime&&(r=H),r>2147483648&&(r=H),r>0&&n.setPageReadyTime(),n=r==H?H:[r])),n==H)return X;if(r=n[0],r==H||r==G||isNaN(r))return X;if(r>0){e:{for(r=1;r<n[gt];r++)if(isNaN(n[r])||n[r]==G||0>n[r]){r=X;break e}r=Y}t(r?Fi(n):Fi(n[tt](0,1)))}else Bt(q,"load",function(){qi(e,t)},X);return Y},Ui=function(e,t,n,r){var i=new oi;return i.f(14,90,t[Et](0,64)),i.f(14,91,e[Et](0,64)),i.f(14,92,""+Pi(n)),r!=H&&i.f(14,93,r[Et](0,64)),i.o(14,90,n),i},Pi=function(e){return isNaN(e)||0>e?0:5e3>e?10*K[it](e/10):5e4>e?100*K[it](e/100):41e5>e?1e3*K[it](e/1e3):41e5},Fi=function(e){for(var t=new oi,n=0;n<e[gt];n++)t.f(14,n+1,""+Pi(e[n])),t.o(14,n+1,e[n]);return t},zi=function(e,t,n){function r(e){return function(t){if((t=t.get(kr)[e])&&t[gt])for(var n={type:e,target:i,stopPropagation:function(){throw"aborted"}},r=0;r<t[gt];r++)t[r].call(i,n)}}var i=this;this.a=new Or,this.get=function(e){return this.a.get(e)},this.set=function(e,t,n){this.a.set(e,t,n)},this.set(It,t||"UA-XXXXX-X"),this.set(qt,e||""),this.set(Lt,n||""),this.set(Ut,K.round((new Date).getTime()/1e3)),this.set(zt,"/"),this.set(Ht,63072e6),this.set($t,15768e6),this.set(Yt,18e5),this.set(Xt,X),this.set(dn,50),this.set(Vt,X),this.set(Gt,Y),this.set(Jt,Y),this.set(Kt,Y),this.set(Qt,Y),this.set(Zt,Y),this.set(tn,"utm_campaign"),this.set(en,"utm_id"),this.set(nn,"gclid"),this.set(rn,"utm_source"),this.set(on,"utm_medium"),this.set(an,"utm_term"),this.set(sn,"utm_content"),this.set(un,"utm_nooverride"),this.set(cn,100),this.set(mr,1),this.set(yr,X),this.set(ln,"/__utm.gif"),this.set(fn,1),this.set(vn,[]),this.set(bn,[]),this.set(hn,mi[tt](0)),this.set(pn,[]),this.set(gn,[]),this.B("auto"),this.set(Sn,U.referrer),e=this.a;try{var o=y(document.location.href,X),a=Q(v(o.d.get("utm_referrer")))||"";a&&e.set(Sn,a);var s=q.gaData&&q.gaData.expId;s||(s=Q(g(o.d.get("utm_expid")))||""),s&&e.set(Er,""+s)}catch(u){A(146)}this.set(kr,{hit:[],load:[]}),this.a.g("0",Di),this.a.g("1",Ti),this.a.g("2",hi),this.a.g("3",yi),this.a.g("4",Ci),this.a.g("5",pi),this.a.g("6",r("load")),this.a.g("7",Ii),this.a.e("A",D),this.a.e("B",M),this.a.e("C",hi),this.a.e("D",C),this.a.e("E",Ar),this.a.e("F",Hi),this.a.e("G",di),this.a.e("H",B),this.a.e("I",Qr),this.a.e("J",ui),this.a.e("K",r("hit")),this.a.e("L",ro),this.a.e("M",Yi),0===this.get(Ut)&&A(111),this.a.T(),this.H=H};z=zi[vt],z.m=function(){var e=this.get(mn);return e||(e=new oi,this.set(mn,e)),e},z.La=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&this.set(t,n,Y)}},z.K=function(e){if(this.get(yr))return X;var t=this,n=qi(this.a,function(n){t.set(wn,e,Y),t.t(n)});return this.set(yr,n),n},z.Fa=function(e){e&&s(e)?(A(13),this.set(wn,e,Y)):"object"==typeof e&&e!==$&&this.La(e),this.H=e=this.get(wn),this.a.j("page"),this.K(e)},z.F=function(e,t,n,r,i){return""==e||!O(e)||""==t||!O(t)||n!=H&&!O(n)||r!=H&&!j(r)?X:(this.set(lr,e,Y),this.set(fr,t,Y),this.set(dr,n,Y),this.set(hr,r,Y),this.set(cr,!!i,Y),this.a.j("event"),Y)},z.Ha=function(e,t,n,r,i){var o=this.a.b(mr,0);return 1*i===i&&(o=i),this.a.b(On,0)%100>=o?X:(n=1*(""+n),""==e||!O(e)||""==t||!O(t)||!j(n)||isNaN(n)||0>n||0>o||o>100||r!=H&&(""==r||!O(r))?X:(this.t(Ui(e,t,n,r)),Y))},z.Ga=function(e,t,n,r){return e&&t?(this.set(pr,e,Y),this.set(gr,t,Y),this.set(vr,n||document.location.href,Y),r&&this.set(wn,r,Y),this.a.j("social"),Y):X},z.Ea=function(){this.set(mr,10),this.K(this.H)},z.Ia=function(){this.a.j("trans")},z.t=function(e){this.set(yn,e,Y),this.a.j("event")},z.ia=function(e){this.v();var t=this;return{_trackEvent:function(n,r,i){A(91),t.F(e,n,r,i)}}},z.ma=function(e){return this.get(e)},z.xa=function(e,t){if(e)if(s(e))this.set(e,t);else if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n])},z.addEventListener=function(e,t){var n=this.get(kr)[e];n&&n[Z](t)},z.removeEventListener=function(e,t){for(var n=this.get(kr)[e],r=0;n&&r<n[gt];r++)if(n[r]==t){n.splice(r,1);break}},z.qa=function(){return"5.3.8"},z.B=function(e){this.get(Gt),e="auto"==e?m(U.domain):e&&"-"!=e&&"none"!=e?e[Mt]():"",this.set(Pt,e)},z.va=function(e){this.set(Gt,!!e)},z.na=function(e,t){return Bi(this.a,e,t)},z.link=function(e,t){if(this.a.get(Xt)&&e){var n=Bi(this.a,e,t);document.location.href=n}},z.ua=function(e,t){this.a.get(Xt)&&e&&e.action&&(e.action=Bi(this.a,e.action,t))},z.za=function(){this.v();var e=this.a,t=U.getElementById?U.getElementById("utmtrans"):U.utmform&&U.utmform.utmtrans?U.utmform.utmtrans:$;if(t&&t[at]){e.set(vn,[]);for(var t=t[at][yt]("UTM:"),n=0;n<t[gt];n++){t[n]=c(t[n]);for(var r=t[n][yt](Oi),i=0;i<r[gt];i++)r[i]=c(r[i]);"T"==r[0]?ji(e,r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]):"I"==r[0]&&Wi(e,r[1],r[2],r[3],r[4],r[5],r[6])}}},z.$=function(e,t,n,r,i,o,a,s){return ji(this.a,e,t,n,r,i,o,a,s)},z.Y=function(e,t,n,r,i,o){return Wi(this.a,e,t,n,r,i,o)},z.Aa=function(e){Oi=e||"|"},z.ea=function(){this.set(vn,[])},z.wa=function(e,t,n,r){var o=this.a;if(0>=e||e>o.get(dn))e=X;else if(!t||!n||128<t[gt]+n[gt])e=X;else{1!=r&&2!=r&&(r=3);var a={};i(a,t),a.value=n,a.scope=r,o.get(bn)[e]=a,e=Y}return e&&this.a.n(),e},z.ka=function(e){this.a.get(bn)[e]=H,this.a.n()},z.ra=function(e){return(e=this.a.get(bn)[e])&&1==e[xt]?e[at]:H},z.Ca=function(e,t,n){this.m().f(e,t,n)},z.Da=function(e,t,n){this.m().o(e,t,n)},z.sa=function(e,t){return this.m().getKey(e,t)},z.ta=function(e,t){return this.m().N(e,t)},z.fa=function(e){this.m().L(e)},z.ga=function(e){this.m().M(e)},z.ja=function(){return new oi},z.W=function(e){e&&this.get(pn)[Z](e[Mt]())},z.ba=function(){this.set(pn,[])},z.X=function(e){e&&this.get(gn)[Z](e[Mt]())},z.ca=function(){this.set(gn,[])},z.Z=function(e,t,n,r,i){e&&t&&(e=[e,t[Mt]()][Dt](":"),(r||i)&&(e=[e,r,i][Dt](":")),r=this.get(hn),r.splice(n?0:r[gt],0,e))},z.da=function(){this.set(hn,[])},z.ha=function(e){this.a[rt]();var t=this.get(zt),n=Li(this.a);this.set(zt,e),this.a.n(),Ni(this.a,n),this.set(zt,t)},z.ya=function(e,t){if(e>0&&5>=e&&s(t)&&""!=t){var n=this.get(br)||[];
n[e]=t,this.set(br,n)}},z.V=function(e){if(e=""+e,e[ut](/^[A-Za-z0-9]{1,5}$/)){var t=this.get(_r)||[];t[Z](e),this.set(_r,t)}},z.v=function(){this.a[rt]()},z.Ba=function(e){e&&""!=e&&(this.set(Wn,e),this.a.j("var"))};var Hi=function(e){if("trans"!==e.get(ar)&&500<=e.b(Fn,0)&&e[bt](),"event"===e.get(ar)){var t=(new Date).getTime(),n=e.b(Hn,0),r=e.b(Ln,0),n=K[it](1*((t-(n!=r?n:1e3*n))/1e3));n>0&&(e.set(Hn,t),e.set(zn,K.min(10,e.b(zn,0)+n))),0>=e.b(zn,0)&&e[bt]()}},Yi=function(e){"event"===e.get(ar)&&e.set(zn,K.max(0,e.b(zn,10)-1))},$i=function(){var e=[];this.add=function(t,n,r){r&&(n=d(""+n)),e[Z](t+"="+n)},this.toString=function(){return e[Dt]("&")}},Xi=function(e,t){(t||2!=e.get(fn))&&e.z(Fn)},Vi=function(e,t){t.add("utmwv","5.3.8"),t.add("utms",e.get(Fn)),t.add("utmn",l());var n=document.location.hostname;u(n)||t.add("utmhn",n,Y),n=e.get(cn),100!=n&&t.add("utmsp",n,Y)},Gi=function(e,t){t.add("utmac",c(e.get(It))),e.get(Er)&&t.add("utmxkey",e.get(Er),Y),e.get(cr)&&t.add("utmni",1);var n=e.get(_r);n&&0<n[gt]&&t.add("utmdid",n[Dt]("."));var n=function(e,t){t&&r[Z](e+"="+t+";")},r=[];n("__utma",Rr(e)),n("__utmz",Ur(e,X)),n("__utmv",Lr(e,Y)),n("__utmx",Li(e)),t.add("utmcc",r[Dt]("+"),Y),e.get(Nt)!==X&&(e.get(Nt)||fo.w)&&t.add("aip",1),t.add("utmu",$r.Xa())},Ji=function(e,t){for(var n=e.get(br)||[],r=[],i=1;i<n[gt];i++)n[i]&&r[Z](i+":"+d(n[i][nt](/%/g,"%25")[nt](/:/g,"%3A")[nt](/,/g,"%2C")));r[gt]&&t.add("utmpg",r[Dt](","))},Ki=function(e,t){e.get(Jt)&&(t.add("utmcs",e.get(Bn),Y),t.add("utmsr",e.get(En)),e.get(An)&&t.add("utmvp",e.get(An)),t.add("utmsc",e.get(Tn)),t.add("utmul",e.get(Mn)),t.add("utmje",e.get(Cn)),t.add("utmfl",e.get(Dn),Y))},Qi=function(e,n){e.get(Zt)&&e.get(_n)&&n.add("utmdt",e.get(_n),Y),n.add("utmhid",e.get(kn)),n.add("utmr",w(e.get(Sn),e.get(zt)),Y),n.add("utmp",function(){var e=P?"/":location.pathname,n=t.sanitizeHash(location.hash);return e+n}(),Y)},Zi=function(e,t){for(var n=e.get(mn),r=e.get(yn),i=e.get(bn)||[],o=0;o<i[gt];o++){var a=i[o];a&&(n||(n=new oi),n.f(8,o,a[dt]),n.f(9,o,a[at]),3!=a[xt]&&n.f(11,o,""+a[xt]))}!u(e.get(lr))&&!u(e.get(fr),Y)&&(n||(n=new oi),n.f(5,1,e.get(lr)),n.f(5,2,e.get(fr)),i=e.get(dr),i!=H&&n.f(5,3,i),i=e.get(hr),i!=H&&n.o(5,1,i)),n?t.add("utme",n.Qa(r),Y):r&&t.add("utme",r.A(),Y)},eo=function(e,t,n){var r=new $i;return Xi(e,n),Vi(e,r),r.add("utmt","tran"),r.add("utmtid",t.id_,Y),r.add("utmtst",t.affiliation_,Y),r.add("utmtto",t.total_,Y),r.add("utmttx",t.tax_,Y),r.add("utmtsp",t.shipping_,Y),r.add("utmtci",t.city_,Y),r.add("utmtrg",t.state_,Y),r.add("utmtco",t.country_,Y),Zi(e,r),Ki(e,r),Qi(e,r),(t=e.get(xn))&&r.add("utmcu",t,Y),n||(Ji(e,r),Gi(e,r)),r[pt]()},to=function(e,t,n){var r=new $i;return Xi(e,n),Vi(e,r),r.add("utmt","item"),r.add("utmtid",t.transId_,Y),r.add("utmipc",t.sku_,Y),r.add("utmipn",t.name_,Y),r.add("utmiva",t.category_,Y),r.add("utmipr",t.price_,Y),r.add("utmiqt",t.quantity_,Y),Zi(e,r),Ki(e,r),Qi(e,r),(t=e.get(xn))&&r.add("utmcu",t,Y),n||(Ji(e,r),Gi(e,r)),r[pt]()},no=function(e,t){var n=e.get(ar);if("page"==n)n=new $i,Xi(e,t),Vi(e,n),Zi(e,n),Ki(e,n),Qi(e,n),t||(Ji(e,n),Gi(e,n)),n=[n[pt]()];else if("event"==n)n=new $i,Xi(e,t),Vi(e,n),n.add("utmt","event"),Zi(e,n),Ki(e,n),Qi(e,n),t||(Ji(e,n),Gi(e,n)),n=[n[pt]()];else if("var"==n)n=new $i,Xi(e,t),Vi(e,n),n.add("utmt","var"),!t&&Gi(e,n),n=[n[pt]()];else if("trans"==n)for(var n=[],r=e.get(vn),i=0;i<r[gt];++i){n[Z](eo(e,r[i],t));for(var o=r[i].items_,a=0;a<o[gt];++a)n[Z](to(e,o[a],t))}else"social"==n?t?n=[]:(n=new $i,Xi(e,t),Vi(e,n),n.add("utmt","social"),n.add("utmsn",e.get(pr),Y),n.add("utmsa",e.get(gr),Y),n.add("utmsid",e.get(vr),Y),Zi(e,n),Ki(e,n),Qi(e,n),Ji(e,n),Gi(e,n),n=[n[pt]()]):"feedback"==n?t?n=[]:(n=new $i,Xi(e,t),Vi(e,n),n.add("utmt","feedback"),n.add("utmfbid",e.get(xr),Y),n.add("utmfbpr",e.get(wr),Y),Zi(e,n),Ki(e,n),Qi(e,n),Ji(e,n),Gi(e,n),n=[n[pt]()]):n=[];return n},ro=function(e){var t,n=e.get(fn),r=e.get(ur),i=r&&r.Ua,o=0;if(0==n||2==n){var a=e.get(ln)+"?";t=no(e,Y);for(var s=0,u=t[gt];u>s;s++)so(t[s],i,a,Y),o++}if(1==n||2==n)for(t=no(e),s=0,u=t[gt];u>s;s++)try{so(t[s],i),o++}catch(c){c&&_(c[dt],H,c.message)}r&&(r.q=o)},io=function(){return"https:"==document.location.protocol||fo.G||P?"https://ssl.google-analytics.com":"http://www.google-analytics.com"},oo=function(e){i(this,"len"),this.message=e+"-8192"},ao=function(e){i(this,"ff2post"),this.message=e+"-2036"},so=function(e,t,n,r){if(t=t||f,!P&&(r||2036>=e[gt])){var i=t;t=n||io()+"/__utm.gif?";var o=new Image(1,1);o.src=t+e,o.onload=function(){o.onload=$,o.onerror=$,i()},o.onerror=function(){o.onload=$,o.onerror=$,i()}}else{if(!(8192>=e[gt]||P))throw new oo(e[gt]);var a=t;if(0<=q[Ct].userAgent[st]("Firefox")&&![].reduce)throw new ao(e[gt]);var s;t=io()+"/p/__utm.gif",(n=q.XDomainRequest)?(s=new n,s.open("POST",t)):(n=q.XMLHttpRequest)&&(n=new n,"withCredentials"in n&&(s=n,s.open("POST",t,Y),s.setRequestHeader("Content-Type","text/plain"))),s?(s.onreadystatechange=function(){4==s.readyState&&(a(),s=$)},s.send(e),t=Y):t=H,t||uo(e,a)}},uo=function(e,t){if(U.body){e=V(e);try{var n=U[lt]('<iframe name="'+e+'"></iframe>')}catch(r){n=U[lt]("iframe"),i(n,e)}n.height="0",n.width="0",n.style.display="none",n.style.visibility="hidden";var o=document.location,o=io()+"/u/post_iframe.html#"+V(o[St]+"//"+o[ht]+"/favicon.ico"),a=function(){n.src="",n.parentNode&&n.parentNode.removeChild(n)};Bt(q,"beforeunload",a);var s=X,u=0,c=function(){if(!s){try{if(u>9||n.contentWindow[wt][ht]==document.location[ht])return s=Y,a(),At(q,"beforeunload",a),void t()}catch(e){}u++,J(c,200)}};Bt(n,"load",c),U.body.appendChild(n),n.src=o}else J(function(){uo(e,t)},100)},co=function(){this.G=this.w=X,this.C={},this.D=[],this.U=0,this.S=[["www.google-analytics.com","","/plugins/"]],this._gasoCPath=this._gasoDomain=H;var e=function(e,t,n){Tr(co[vt],e,t,n)};e("_createTracker",co[vt].r,55),e("_getTracker",co[vt].oa,0),e("_getTrackerByName",co[vt].u,51),e("_getTrackers",co[vt].pa,130),e("_anonymizeIp",co[vt].aa,16),e("_forceSSL",co[vt].la,125),e("_getPlugin",E,120),e=function(e,t,n){Tr(zi[vt],e,t,n)},Cr("_getName",qt,58),Cr("_getAccount",It,64),Cr("_visitCode",On,54),Cr("_getClientInfo",Jt,53,1),Cr("_getDetectTitle",Zt,56,1),Cr("_getDetectFlash",Kt,65,1),Cr("_getLocalGifPath",ln,57),Cr("_getServiceMode",fn,59),Dr("_setClientInfo",Jt,66,2),Dr("_setAccount",It,3),Dr("_setNamespace",Lt,48),Dr("_setAllowLinker",Xt,11,2),Dr("_setDetectFlash",Kt,61,2),Dr("_setDetectTitle",Zt,62,2),Dr("_setLocalGifPath",ln,46,0),Dr("_setLocalServerMode",fn,92,H,0),Dr("_setRemoteServerMode",fn,63,H,1),Dr("_setLocalRemoteServerMode",fn,47,H,2),Dr("_setSampleRate",cn,45,1),Dr("_setCampaignTrack",Qt,36,2),Dr("_setAllowAnchor",Vt,7,2),Dr("_setCampNameKey",tn,41),Dr("_setCampContentKey",sn,38),Dr("_setCampIdKey",en,39),Dr("_setCampMediumKey",on,40),Dr("_setCampNOKey",un,42),Dr("_setCampSourceKey",rn,43),Dr("_setCampTermKey",an,44),Dr("_setCampCIdKey",nn,37),Dr("_setCookiePath",zt,9,0),Dr("_setMaxCustomVariables",dn,0,1),Dr("_setVisitorCookieTimeout",Ht,28,1),Dr("_setSessionCookieTimeout",Yt,26,1),Dr("_setCampaignCookieTimeout",$t,29,1),Dr("_setReferrerOverride",Sn,49),Dr("_setSiteSpeedSampleRate",mr,132),e("_trackPageview",zi[vt].Fa,1),e("_trackEvent",zi[vt].F,4),e("_trackPageLoadTime",zi[vt].Ea,100),e("_trackSocial",zi[vt].Ga,104),e("_trackTrans",zi[vt].Ia,18),e("_sendXEvent",zi[vt].t,78),e("_createEventTracker",zi[vt].ia,74),e("_getVersion",zi[vt].qa,60),e("_setDomainName",zi[vt].B,6),e("_setAllowHash",zi[vt].va,8),e("_getLinkerUrl",zi[vt].na,52),e("_link",zi[vt].link,101),e("_linkByPost",zi[vt].ua,102),e("_setTrans",zi[vt].za,20),e("_addTrans",zi[vt].$,21),e("_addItem",zi[vt].Y,19),e("_clearTrans",zi[vt].ea,105),e("_setTransactionDelim",zi[vt].Aa,82),e("_setCustomVar",zi[vt].wa,10),e("_deleteCustomVar",zi[vt].ka,35),e("_getVisitorCustomVar",zi[vt].ra,50),e("_setXKey",zi[vt].Ca,83),e("_setXValue",zi[vt].Da,84),e("_getXKey",zi[vt].sa,76),e("_getXValue",zi[vt].ta,77),e("_clearXKey",zi[vt].fa,72),e("_clearXValue",zi[vt].ga,73),e("_createXObj",zi[vt].ja,75),e("_addIgnoredOrganic",zi[vt].W,15),e("_clearIgnoredOrganic",zi[vt].ba,97),e("_addIgnoredRef",zi[vt].X,31),e("_clearIgnoredRef",zi[vt].ca,32),e("_addOrganic",zi[vt].Z,14),e("_clearOrganic",zi[vt].da,70),e("_cookiePathCopy",zi[vt].ha,30),e("_get",zi[vt].ma,106),e("_set",zi[vt].xa,107),e("_addEventListener",zi[vt].addEventListener,108),e("_removeEventListener",zi[vt].removeEventListener,109),e("_addDevId",zi[vt].V),e("_getPlugin",E,122),e("_setPageGroup",zi[vt].ya,126),e("_trackTiming",zi[vt].Ha,124),e("_initData",zi[vt].v,2),e("_setVar",zi[vt].Ba,22),Dr("_setSessionTimeout",Yt,27,3),Dr("_setCookieTimeout",$t,25,3),Dr("_setCookiePersistence",Ht,24,1),e("_setAutoTrackOutbound",f,79),e("_setTrackOutboundSubdomains",f,81),e("_setHrefExamineLimit",f,80)};z=co[vt],z.oa=function(e,t){return this.r(e,H,t)},z.r=function(e,t,n){return t&&A(23),n&&A(67),t==H&&(t="~"+fo.U++),e=new zi(t,e,n),fo.C[t]=e,fo.D[Z](e),e},z.u=function(e){return e=e||"",fo.C[e]||fo.r(H,e)},z.pa=function(){return fo.D[tt](0)},z.aa=function(){this.w=Y},z.la=function(){this.G=Y};var lo=function(e){return"prerender"==U.webkitVisibilityState?X:(e(),Y)},fo=new co,ho=q._gat;ho&&a(ho._getTracker)?fo=ho:q._gat=fo;var po=new ei,go=function(){var e=I,t=X;return e&&a(e[Z])&&(t="[object Array]"==Object[vt][pt].call(Object(e)),!t)?void(po=e):void(t&&po[Z][Tt](po,e))},vo={init:R};return vo}),this.Handlebars=function(){var e=function(){function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){function t(e){return u[e]||"&amp;"}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e){return e instanceof s?e.toString():e||0===e?(e=""+e,l.test(e)?e.replace(c,t):e):""}function i(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}function o(e,t){return(e?e+".":"")+t}var a={},s=e,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,l=/[&<>"'`]/;a.extend=n;var f=Object.prototype.toString;a.toString=f;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)});var d;a.isFunction=d;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===f.call(e):!1};return a.isArray=h,a.escapeExpression=r,a.isEmpty=i,a.appendContextPath=o,a}(e),n=function(){function e(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=i[n[o]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),r=function(e,t){function n(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;if(d(t)&&(t=t.call(this)),t===!0)return i(this);if(t===!1||null==t)return r(this);if(f(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var o=v(n.data);o.contextPath=a.appendContextPath(n.data.contextPath,n.name),n={data:o}}return i(t,n)}),e.registerHelper("each",function(e,t){t||(t=e,e=this);var n,r,i=t.fn,o=t.inverse,s=0,u="";if(t.data&&t.ids&&(r=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),d(e)&&(e=e.call(this)),t.data&&(n=v(t.data)),e&&"object"==typeof e)if(f(e))for(var c=e.length;c>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1,r&&(n.contextPath=r+s)),u+=i(e[s],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=s,n.first=0===s,r&&(n.contextPath=r+l)),u+=i(e[l],{data:n}),s++);return 0===s&&(u=o(this)),u}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){d(e)&&(e=e.call(this));var n=t.fn;if(!a.isEmpty(e)){if(t.data&&t.ids){var r=v(t.data);r.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}}return n(e,t)}}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function i(e,t){g.log(e,t)}var o={},a=e,s=t,u="2.0.0-alpha.2";o.VERSION=u;var c=5;o.COMPILER_REVISION=c;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:">= 2.0.0"};o.REVISION_CHANGES=l;var f=a.isArray,d=a.isFunction,h=a.toString,p="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:i,registerHelper:function(e,t,n){if(h.call(e)===p){if(n||t)throw new s("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){h.call(e)===p?a.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(g.level<=e){var n=g.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};o.logger=g,o.log=i;var v=function(e){var t=a.extend({},e);return t._parent=e,t};return o.createFrame=v,o}(t,n),i=function(e,t,n){function r(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var r=h[n],i=h[t];throw new f("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new f("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new f("No environment passed to template");t.VM.checkRevision(e.compiler);var n=function(e,n,r,i,o,a,s){i&&(r=l.extend({},r,i));var u=t.VM.invokePartial.call(this,e,n,r,o,a,s);if(null!=u)return u;if(t.compile){var c={helpers:o,partials:a,data:s};return a[n]=t.compile(e,{data:void 0!==s},t),a[n](r,c)}throw new f("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:l.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t){var n=this.programs[e],r=this.fn(e);return t?n=a(this,e,r,t):n||(n=this.programs[e]=a(this,e,r)),n},programWithDepth:t.VM.programWithDepth,initData:function(e,t){return t&&"root"in t||(t=t?p(t):{},t.root=e),t},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=l.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},i=function(n,i){i=i||{};var o,a,s=i.partial?i:t,u=i.data;return i.partial?(o=r.helpers=i.helpers,a=r.partials=i.partials):(o=r.helpers=r.merge(i.helpers,s.helpers),e.usePartial&&(a=r.partials=r.merge(i.partials,s.partials)),e.useData&&(u=r.initData(n,u))),e.main.call(r,n,o,a,u)};return i.child=function(e){return r.programWithDepth(e)},i}function o(e,t){var n=Array.prototype.slice.call(arguments,2),r=this,i=r.fn(e),o=function(e,o){return o=o||{},i.apply(r,[e,r.helpers,r.partials,o.data||t].concat(n))};return o.program=e,o.depth=n.length,o}function a(e,t,n,r){var i=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||r)};return i.program=t,i.depth=0,i}function s(e,t,n,r,i,o){var a={partial:!0,helpers:r,partials:i,data:o};if(void 0===e)throw new f("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function u(){return""}var c={},l=e,f=t,d=n.COMPILER_REVISION,h=n.REVISION_CHANGES,p=n.createFrame;return c.checkRevision=r,c.template=i,c.programWithDepth=o,c.program=a,c.invokePartial=s,c.noop=u,c}(t,n,r),o=function(e,t,n,r,i){var o,a=e,s=t,u=n,c=r,l=i,f=function(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s,e.Exception=u,e.Utils=c,e.VM=l,e.template=function(t){return l.template(t,e)},e},d=f();return d.create=f,o=d}(r,e,n,t,i);return o}(),define("vendor/handlebars.runtime",function(e){return function(){var t;return t||e.Handlebars}}(this)),define("vendor/md5",[],function(){function e(e,t){var a=e[0],s=e[1],u=e[2],c=e[3];a=n(a,s,u,c,t[0],7,-680876936),c=n(c,a,s,u,t[1],12,-389564586),u=n(u,c,a,s,t[2],17,606105819),s=n(s,u,c,a,t[3],22,-1044525330),a=n(a,s,u,c,t[4],7,-176418897),c=n(c,a,s,u,t[5],12,1200080426),u=n(u,c,a,s,t[6],17,-1473231341),s=n(s,u,c,a,t[7],22,-45705983),a=n(a,s,u,c,t[8],7,1770035416),c=n(c,a,s,u,t[9],12,-1958414417),u=n(u,c,a,s,t[10],17,-42063),s=n(s,u,c,a,t[11],22,-1990404162),a=n(a,s,u,c,t[12],7,1804603682),c=n(c,a,s,u,t[13],12,-40341101),u=n(u,c,a,s,t[14],17,-1502002290),s=n(s,u,c,a,t[15],22,1236535329),a=r(a,s,u,c,t[1],5,-165796510),c=r(c,a,s,u,t[6],9,-1069501632),u=r(u,c,a,s,t[11],14,643717713),s=r(s,u,c,a,t[0],20,-373897302),a=r(a,s,u,c,t[5],5,-701558691),c=r(c,a,s,u,t[10],9,38016083),u=r(u,c,a,s,t[15],14,-660478335),s=r(s,u,c,a,t[4],20,-405537848),a=r(a,s,u,c,t[9],5,568446438),c=r(c,a,s,u,t[14],9,-1019803690),u=r(u,c,a,s,t[3],14,-187363961),s=r(s,u,c,a,t[8],20,1163531501),a=r(a,s,u,c,t[13],5,-1444681467),c=r(c,a,s,u,t[2],9,-51403784),u=r(u,c,a,s,t[7],14,1735328473),s=r(s,u,c,a,t[12],20,-1926607734),a=i(a,s,u,c,t[5],4,-378558),c=i(c,a,s,u,t[8],11,-2022574463),u=i(u,c,a,s,t[11],16,1839030562),s=i(s,u,c,a,t[14],23,-35309556),a=i(a,s,u,c,t[1],4,-1530992060),c=i(c,a,s,u,t[4],11,1272893353),u=i(u,c,a,s,t[7],16,-155497632),s=i(s,u,c,a,t[10],23,-1094730640),a=i(a,s,u,c,t[13],4,681279174),c=i(c,a,s,u,t[0],11,-358537222),u=i(u,c,a,s,t[3],16,-722521979),s=i(s,u,c,a,t[6],23,76029189),a=i(a,s,u,c,t[9],4,-640364487),c=i(c,a,s,u,t[12],11,-421815835),u=i(u,c,a,s,t[15],16,530742520),s=i(s,u,c,a,t[2],23,-995338651),a=o(a,s,u,c,t[0],6,-198630844),c=o(c,a,s,u,t[7],10,1126891415),u=o(u,c,a,s,t[14],15,-1416354905),s=o(s,u,c,a,t[5],21,-57434055),a=o(a,s,u,c,t[12],6,1700485571),c=o(c,a,s,u,t[3],10,-1894986606),u=o(u,c,a,s,t[10],15,-1051523),s=o(s,u,c,a,t[1],21,-2054922799),a=o(a,s,u,c,t[8],6,1873313359),c=o(c,a,s,u,t[15],10,-30611744),u=o(u,c,a,s,t[6],15,-1560198380),s=o(s,u,c,a,t[13],21,1309151649),a=o(a,s,u,c,t[4],6,-145523070),c=o(c,a,s,u,t[11],10,-1120210379),u=o(u,c,a,s,t[2],15,718787259),s=o(s,u,c,a,t[9],21,-343485551),e[0]=d(a,e[0]),e[1]=d(s,e[1]),e[2]=d(u,e[2]),e[3]=d(c,e[3])}function t(e,t,n,r,i,o){return t=d(d(t,e),d(r,o)),d(t<<i|t>>>32-i,n)}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(t){var n,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(i,s(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(i,o),n=0;16>n;n++)o[n]=0;return o[14]=8*r,e(i,o),i}function s(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){for(var t="",n=0;4>n;n++)t+=f[e>>8*n+4&15]+f[e>>8*n&15];return t}function c(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}function l(e){return c(a(e))}var f="0123456789abcdef".split(""),d=function(e,t){return e+t&4294967295};return"5d41402abc4b2a76b9719d911017c592"!=l("hello")&&(d=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),l}),function(e){function t(e,t,n,r){var i=n.lang();return i[e].call?i[e](n,r):i[e][t]}function n(e,t){return function(n){return s(e.call(this,n),t)}}function r(e){return function(t){var n=e.call(this,t);return n+this.lang().ordinal(n)}}function i(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,this._lang=n||!1}function o(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,o=e.days||e.d||0,s=e.hours||e.h||0,u=e.minutes||e.m||0,c=e.seconds||e.s||0,l=e.milliseconds||e.ms||0;this._milliseconds=l+1e3*c+6e4*u+36e5*s,this._days=o+7*i,this._months=r+12*n,t.milliseconds=l%1e3,c+=a(l/1e3),t.seconds=c%60,u+=a(c/60),t.minutes=u%60,s+=a(u/60),t.hours=s%24,o+=a(s/24),o+=7*i,t.days=o%30,r+=a(o/30),t.months=r%12,n+=a(r/12),t.years=n,this._lang=!1}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function s(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function u(e,t,n){var r,i=t._milliseconds,o=t._days,a=t._months;i&&e._d.setTime(+e+i*n),o&&e.date(e.date()+o*n),a&&(r=e.date(),e.date(1).month(e.month()+a*n).date(Math.min(r,e.daysInMonth())))}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&o++;return o+i}function f(e,t,n,r){var i,o,a=[];for(i=0;7>i;i++)a[i]=e[i]=null==e[i]?2===i?1:0:e[i];return e[7]=a[7]=t,null!=e[8]&&(a[8]=e[8]),e[3]+=n||0,e[4]+=r||0,o=new Date(0),t?(o.setUTCFullYear(e[0],e[1],e[2]),o.setUTCHours(e[3],e[4],e[5],e[6])):(o.setFullYear(e[0],e[1],e[2]),o.setHours(e[3],e[4],e[5],e[6])),o._a=a,o}function d(e,t){var n,r,i=[];for(!t&&j&&(t=require("./lang/"+e)),n=0;n<W.length;n++)t[W[n]]=t[W[n]]||A.en[W[n]];for(n=0;12>n;n++)r=C([2e3,n]),i[n]=new RegExp("^"+(t.months[n]||t.months(r,""))+"|^"+(t.monthsShort[n]||t.monthsShort(r,"")).replace(".",""),"i");return t.monthsParse=t.monthsParse||i,A[e]=t,t}function h(e){var t="string"==typeof e&&e||e&&e._lang||null;return t?A[t]||d(t):C}function p(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,r=e.match(I);for(t=0,n=r.length;n>t;t++)r[t]=tt[r[t]]?tt[r[t]]:p(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+="function"==typeof r[t].call?r[t].call(i,e):r[t];return o}}function v(e,t){function n(t){return e.lang().longDateFormat[t]||t}for(var r=5;r--&&N.test(t);)t=t.replace(N,n);return Q[t]||(Q[t]=g(t)),Q[t](e)}function m(e){switch(e){case"DDDD":return P;case"YYYY":return F;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return z;case"Z":case"ZZ":return H;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return q;default:return new RegExp(e.replace("\\",""))}}function y(e,t,n,r){var i,o;switch(e){case"M":case"MM":n[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;12>i;i++)if(h().monthsParse[i].test(t)){n[1]=i,o=!0;break}o||(n[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(n[2]=~~t);break;case"YY":n[0]=~~t+(~~t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm="pm"===(t+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(1e3*("0."+t));break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(G),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&"+"===i[0]&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}null==t&&(n[8]=!1)}function b(e,t){var n,r,i=[0,0,1,0,0,0,0],o={tzh:0,tzm:0},a=t.match(I);for(n=0;n<a.length;n++)r=(m(a[n]).exec(e)||[])[0],r&&(e=e.slice(e.indexOf(r)+r.length)),tt[a[n]]&&y(a[n],r,i,o);return o.isPm&&i[3]<12&&(i[3]+=12),o.isPm===!1&&12===i[3]&&(i[3]=0),f(i,o.isUTC,o.tzh,o.tzm)}function x(e,t){var n,r,o,a,s,u=e.match(L)||[],c=99;for(o=0;o<t.length;o++)a=b(e,t[o]),r=v(new i(a),t[o]).match(L)||[],s=l(u,r),c>s&&(c=s,n=a);return n}function w(e){var t,n="YYYY-MM-DDT";if($.exec(e)){for(t=0;4>t;t++)if(V[t][1].exec(e)){n+=V[t][0];break}return H.exec(e)?b(e,n+" Z"):b(e,n)}return new Date(e)}function _(e,t,n,r,i){var o=i.relativeTime[e];return"function"==typeof o?o(t||1,!!n,e,r):o.replace(/%d/i,t||1)}function S(e,t,n){var r=B(Math.abs(e)/1e3),i=B(r/60),o=B(i/60),a=B(o/24),s=B(a/365),u=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",B(a/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,_.apply({},u)}function k(e,t){C.fn[e]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),this):this._d["get"+n+t]()}}function E(e){C.duration.fn[e]=function(){return this._data[e]}}function T(e,t){C.duration.fn["as"+e]=function(){return+this/t}}for(var C,D,M="1.7.2",B=Math.round,A={},O="en",j="undefined"!=typeof module&&module.exports,W="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),R=/^\/?Date\((\-?\d+)/i,I=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,L=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,q=/\d\d?/,U=/\d{1,3}/,P=/\d{3}/,F=/\d{1,4}/,z=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,H=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,$=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",V=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],G=/([\+\-]|\d\d)/gi,J="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),K={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Q={},Z="DDD w M D d".split(" "),et="M D H h m s w".split(" "),tt={M:function(){return this.month()+1},MMM:function(e){return t("monthsShort",this.month(),this,e)},MMMM:function(e){return t("months",this.month(),this,e)},D:function(){return this.date()},DDD:function(){var e=new Date(this.year(),this.month(),this.date()),t=new Date(this.year(),0,1);return~~((e-t)/864e5+1.5)},d:function(){return this.day()},dd:function(e){return t("weekdaysMin",this.day(),this,e)},ddd:function(e){return t("weekdaysShort",this.day(),this,e)},dddd:function(e){return t("weekdays",this.day(),this,e)},w:function(){var e=new Date(this.year(),this.month(),this.date()-this.day()+5),t=new Date(e.getFullYear(),0,4);return~~((e-t)/864e5/7+1.5)},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return s(~~(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+s(~~(e/60),2)+":"+s(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+s(~~(10*e/6),4)}};Z.length;)D=Z.pop(),tt[D+"o"]=r(tt[D]);for(;et.length;)D=et.pop(),tt[D+D]=n(tt[D],2);for(tt.DDDD=n(tt.DDD,3),C=function(t,n){if(null===t||""===t)return null;var r,o;return C.isMoment(t)?new i(new Date(+t._d),t._isUTC,t._lang):(n?r=c(n)?x(t,n):b(t,n):(o=R.exec(t),r=t===e?new Date:o?new Date(+o[1]):t instanceof Date?t:c(t)?f(t):"string"==typeof t?w(t):new Date(t)),new i(r))},C.utc=function(e,t){return c(e)?new i(f(e,!0),!0):("string"!=typeof e||H.exec(e)||(e+=" +0000",t&&(t+=" Z")),C(e,t).utc())},C.unix=function(e){return C(1e3*e)},C.duration=function(e,t){var n,r=C.isDuration(e),i="number"==typeof e,a=r?e._data:i?{}:e;return i&&(t?a[t]=e:a.milliseconds=e),n=new o(a),r&&(n._lang=e._lang),n},C.humanizeDuration=function(e,t,n){return C.duration(e,t===!0?null:t).humanize(t===!0?!0:n)},C.version=M,C.defaultFormat=X,C.lang=function(e,t){var n;if(!e)return O;if((t||!A[e])&&d(e,t),A[e]){for(n=0;n<W.length;n++)C[W[n]]=A[e][W[n]];C.monthsParse=A[e].monthsParse,O=e}},C.langData=h,C.isMoment=function(e){return e instanceof i},C.isDuration=function(e){return e instanceof o},C.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"}}),C.fn=i.prototype={clone:function(){return C(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!l(this._a,(this._a[7]?C.utc(this._a):C(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return v(this,e?e:C.defaultFormat)},add:function(e,t){var n=t?C.duration(+t,e):C.duration(e);return u(this,n,1),this},subtract:function(e,t){var n=t?C.duration(+t,e):C.duration(e);return u(this,n,-1),this},diff:function(e,t,n){var r,i=this._isUTC?C(e).utc():C(e).local(),o=6e4*(this.zone()-i.zone()),a=this._d-i._d-o,s=this.year()-i.year(),u=this.month()-i.month(),c=this.date()-i.date();return r="months"===t?12*s+u+c/30:"years"===t?s+(u+c/30)/12:"seconds"===t?a/1e3:"minutes"===t?a/6e4:"hours"===t?a/36e5:"days"===t?a/864e5:"weeks"===t?a/6048e5:a,n?r:B(r)},from:function(e,t){return C.duration(this.diff(e)).lang(this._lang).humanize(!t)},fromNow:function(e){return this.from(C(),e)},calendar:function(){var e=this.diff(C().sod(),"days",!0),t=this.lang().calendar,n=t.sameElse,r=-6>e?n:-1>e?t.lastWeek:0>e?t.lastDay:1>e?t.sameDay:2>e?t.nextDay:7>e?t.nextWeek:n;return this.format("function"==typeof r?r.apply(this):r)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<C([this.year()]).zone()||this.zone()<C([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return C.utc([this.year(),this.month()+1,0]).date()},lang:function(t){return t===e?h(this):(this._lang=t,this)}},D=0;D<J.length;D++)k(J[D].toLowerCase(),J[D]);k("year","FullYear"),C.duration.fn=o.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=S(t,!e,this.lang()),i=0>=t?n.past:n.future;return e&&(r="function"==typeof i?i(r):i.replace(/%s/i,r)),r},lang:C.fn.lang};for(D in K)K.hasOwnProperty(D)&&(T(D,K[D]),E(D.toLowerCase()));T("Weeks",6048e5),j&&(module.exports=C),"undefined"==typeof ender&&(this.moment=C),"function"==typeof define&&define.amd&&define("vendor/moment",[],function(){return window.moment=null,C
})}.call(this),function(){function e(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function t(e){return"keypress"==e.type?String.fromCharCode(e.which):b[e.which]?b[e.which]:x[e.which]?x[e.which]:String.fromCharCode(e.which).toLowerCase()}function n(e){var t=e.target||e.srcElement,n=t.tagName;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==n||"SELECT"==n||"TEXTAREA"==n||t.contentEditable&&"true"==t.contentEditable}function r(e,t){return e.sort().join(",")===t.sort().join(",")}function i(e){e=e||{};var t,n=!1;for(t in E)e[t]?n=!0:E[t]=0;n||(C=!1)}function o(e,t,n,i,o){var a,s,u=[];if(!S[e])return[];for("keyup"==n&&l(e)&&(t=[e]),a=0;a<S[e].length;++a)s=S[e][a],s.seq&&E[s.seq]!=s.level||n==s.action&&("keypress"==n||r(t,s.modifiers))&&(i&&s.combo==o&&S[e].splice(a,1),u.push(s));return u}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function s(e,t){e(t)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function u(e,t){if(!n(t)){var r,u=o(e,a(t),t.type),c={},f=!1;for(r=0;r<u.length;++r)u[r].seq?(f=!0,c[u[r].seq]=1,s(u[r].callback,t)):f||C||s(u[r].callback,t);t.type!=C||l(e)||i(c)}}function c(e){var n="number"==typeof e.which?e.which:e.keyCode,r=t({which:n});return r?"keyup"==e.type&&T==r?void(T=!1):void u(r,e):void 0}function l(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(){clearTimeout(y),y=setTimeout(i,1e3)}function d(){if(!m){m={};for(var e in b)e>95&&112>e||b.hasOwnProperty(e)&&(m[b[e]]=e)}return m}function h(e,t,n){return n||(n=d()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function p(e,n,r,o){E[e]=0,o||(o=h(n[0],[]));var a,u=function(){C=o,++E[e],f()},c=function(e){s(r,e),"keyup"!==o&&(T=t(e)),setTimeout(i,10)};for(a=0;a<n.length;++a)g(n[a],a<n.length-1?u:c,o,e,a)}function g(e,t,n,r,i){e=e.replace(/\s+/g," ");var a,s,u,c=e.split(" "),f=[];if(c.length>1)return p(e,c,t,n);for(u="+"===e?["+"]:e.split("+"),a=0;a<u.length;++a)s=u[a],_[s]&&(s=_[s]),n&&"keypress"!=n&&w[s]&&(s=w[s],f.push("shift")),l(s)&&f.push(s);n=h(s,f,n),S[s]||(S[s]=[]),o(s,f,n,!r,e),S[s][r?"unshift":"push"]({callback:t,modifiers:f,action:n,seq:r,level:i,combo:e})}function v(e,t,n){for(var r=0;r<e.length;++r)g(e[r],t,n)}for(var m,y,b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_={option:"alt",command:"meta","return":"enter",escape:"esc"},S={},k={},E={},T=!1,C=!1,D=1;20>D;++D)b[111+D]="f"+D;for(D=0;9>=D;++D)b[D+96]=D;e(document,"keypress",c),e(document,"keydown",c),e(document,"keyup",c);var M={bind:function(e,t,n){return v(e instanceof Array?e:[e],t,n),k[e+":"+n]=t,this},unbind:function(e,t){return k[e+":"+t]&&(delete k[e+":"+t],this.bind(e,function(){},t)),this},trigger:function(e,t){return k[e+":"+t](),this},reset:function(){return S={},k={},this}};window.Mousetrap=M,"function"==typeof define&&define.amd&&define("vendor/mousetrap",[],function(){return M})}(),define("vendor/ua-detector",[],function(){function e(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(a=e[t].versionSearch||e[t].identity,n){if(-1!=n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}}function t(e){var t=e.indexOf(a);if(-1!=t)return parseFloat(e.substring(t+a.length+1),10)}function n(){r=e(s)||"An unknown browser",i=t(navigator.userAgent)||t(navigator.appVersion)||"an unknown version",o=e(u)||"an unknown OS"}var r,i,o,a,s=[{string:navigator.userAgent,subString:"Edge",identity:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"MSIE"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"NodeWebkit",identity:"NodeWebkit"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],u=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];return n(),{os:o,version:i,browser:r}}),define("vendor/visibly",[],function(){function e(e){return h[m+y[e]]}function t(){return e(0)}function n(){return e(2)}function r(){return m+y[2]in h}function i(e){"function"==typeof e&&v.push(e);var n=v.length;if(n)if(m)for(var r=t();n--;)v[n](r);else for(;n--;)v[n](arguments[0])}function o(e){var t;if(e){t=1==e?p:g;for(var n=t.length;n--;)t[n]()}}function a(){o(1),i("visible")}function s(){o(2),i("hidden")}function u(){(e(2)?s:a)()}function c(e){"function"==typeof e&&p.push(e)}function l(e){"function"==typeof e&&g.push(e)}for(var f,d=window,h=window.document,p=[],g=[],v=[],m="",y=["VisibilityState","visibilitychange","Hidden"],b=["webkit","ms","o","moz","khtml"],x=0;f=b[x++];)if(f+y[2]in h){m=f;break}try{r()?h.addEventListener(m+y[1],u,!0):h.addEventListener?(d.addEventListener("focus",a,!0),d.addEventListener("blur",s,!0)):h.attachEvent&&(h.attachEvent("onfocusin",a),h.attachEvent("onfocusout",s))}catch(w){}return{hidden:n,onVisible:c,onHidden:l,visibilityState:t,visibilitychange:i}});