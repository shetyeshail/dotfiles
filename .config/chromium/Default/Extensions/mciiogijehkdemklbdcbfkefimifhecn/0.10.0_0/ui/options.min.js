/*
 jQuery UI - v1.10.4 - 2014-06-14
 http://jqueryui.com
 Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.sortable.js
 Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(c,k){function f(b,e){var h,d,f,k=b.nodeName.toLowerCase();return"area"===k?(h=b.parentNode,d=h.name,b.href&&d&&"map"===h.nodeName.toLowerCase()?(f=c("img[usemap=#"+d+"]")[0],!!f&&a(f)):!1):(/input|select|textarea|button|object/.test(k)?!b.disabled:"a"===k?b.href||e:e)&&a(b)}function a(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var d=0,e=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:function(b){return function(a,e){return"number"==typeof a?this.each(function(){var b=this;setTimeout(function(){c(b).focus();e&&e.call(b)},a)}):b.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var b;return b=c.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?c(document):b},zIndex:function(b){if(b!==k)return this.css("zIndex",b);if(this.length){var a,
e;for(b=c(this[0]);b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e))return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(a){return!!c.data(a,b)}}):
function(b,a,e){return!!c.data(b,e[3])},focusable:function(b){return f(b,!isNaN(c.attr(b,"tabindex")))},tabbable:function(b){var a=c.attr(b,"tabindex"),e=isNaN(a);return(e||0<=a)&&f(b,!e)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,a){function e(b,a,e,d){return c.each(h,function(){a-=parseFloat(c.css(b,"padding"+this))||0;e&&(a-=parseFloat(c.css(b,"border"+this+"Width"))||0);d&&(a-=parseFloat(c.css(b,"margin"+this))||0)}),a}var h="Width"===a?["Left","Right"]:["Top","Bottom"],
d=a.toLowerCase(),f={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+a]=function(b){return b===k?f["inner"+a].call(this):this.each(function(){c(this).css(d,e(this,b)+"px")})};c.fn["outer"+a]=function(b,h){return"number"!=typeof b?f["outer"+a].call(this,b):this.each(function(){c(this).css(d,e(this,b,!0,h)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});
c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(a){return arguments.length?b.call(this,c.camelCase(a)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart"in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
c.extend(c.ui,{plugin:{add:function(b,a,e){var h;b=c.ui[b].prototype;for(h in e)b.plugins[h]=b.plugins[h]||[],b.plugins[h].push([a,e[h]])},call:function(b,a,c){var e=b.plugins[a];if(e&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(a=0;e.length>a;a++)b.options[e[a][0]]&&e[a][1].apply(b.element,c)}},hasScroll:function(b,a){if("hidden"===c(b).css("overflow"))return!1;var e=a&&"left"===a?"scrollLeft":"scrollTop",h=!1;return 0<b[e]?!0:(b[e]=1,h=0<b[e],b[e]=0,h)}})})(jQuery);
(function(c,k){var f=0,a=Array.prototype.slice,d=c.cleanData;c.cleanData=function(a){for(var b,e=0;null!=(b=a[e]);e++)try{c(b).triggerHandler("remove")}catch(r){}d(a)};c.widget=function(a,b,h){var e,d,f,q,A={},m=a.split(".")[0];a=a.split(".")[1];e=m+"-"+a;h||(h=b,b=c.Widget);c.expr[":"][e.toLowerCase()]=function(b){return!!c.data(b,e)};c[m]=c[m]||{};d=c[m][a];f=c[m][a]=function(b,a){return this._createWidget?(arguments.length&&this._createWidget(b,a),k):new f(b,a)};c.extend(f,d,{version:h.version,
_proto:c.extend({},h),_childConstructors:[]});q=new b;q.options=c.widget.extend({},q.options);c.each(h,function(a,e){return c.isFunction(e)?(A[a]=function(){var c=function(){return b.prototype[a].apply(this,arguments)},h=function(c){return b.prototype[a].apply(this,c)};return function(){var b,a=this._super,d=this._superApply;return this._super=c,this._superApply=h,b=e.apply(this,arguments),this._super=a,this._superApply=d,b}}(),k):(A[a]=e,k)});f.prototype=c.widget.extend(q,{widgetEventPrefix:d?q.widgetEventPrefix||
a:a},A,{constructor:f,namespace:m,widgetName:a,widgetFullName:e});d?(c.each(d._childConstructors,function(b,a){var e=a.prototype;c.widget(e.namespace+"."+e.widgetName,f,a._proto)}),delete d._childConstructors):b._childConstructors.push(f);c.widget.bridge(a,f)};c.widget.extend=function(e){for(var b,h,d=a.call(arguments,1),f=0,n=d.length;n>f;f++)for(b in d[f])h=d[f][b],d[f].hasOwnProperty(b)&&h!==k&&(e[b]=c.isPlainObject(h)?c.isPlainObject(e[b])?c.widget.extend({},e[b],h):c.widget.extend({},h):h);return e};
c.widget.bridge=function(e,b){var h=b.prototype.widgetFullName||e;c.fn[e]=function(d){var f="string"==typeof d,r=a.call(arguments,1),q=this;return d=!f&&r.length?c.widget.extend.apply(null,[d].concat(r)):d,f?this.each(function(){var b,a=c.data(this,h);return a?c.isFunction(a[d])&&"_"!==d.charAt(0)?(b=a[d].apply(a,r),b!==a&&b!==k?(q=b&&b.jquery?q.pushStack(b.get()):b,!1):k):c.error("no such method '"+d+"' for "+e+" widget instance"):c.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+
d+"'")}):this.each(function(){var a=c.data(this,h);a?a.option(d||{})._init():c.data(this,h,new b(d,this))}),q}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=c(b||this.defaultElement||this)[0];this.element=c(b);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);
this.bindings=c();this.hoverable=c();this.focusable=c();b!==this&&(c.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=c(b.style?b.ownerDocument:b.document||b),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(a,b){var e,d,f,n=a;
if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof a)if(n={},e=a.split("."),a=e.shift(),e.length){d=n[a]=c.widget.extend({},this.options[a]);for(f=0;e.length-1>f;f++)d[e[f]]=d[e[f]]||{},d=d[e[f]];if(a=e.pop(),1===arguments.length)return d[a]===k?null:d[a];d[a]=b}else{if(1===arguments.length)return this.options[a]===k?null:this.options[a];n[a]=b}return this._setOptions(n),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b,d){var e,h=this;"boolean"!=typeof a&&(d=b,b=a,a=!1);d?(b=e=c(b),this.bindings=this.bindings.add(b)):(d=b,b=this.element,e=
this.widget());c.each(d,function(d,f){function r(){return a||!0!==h.options.disabled&&!c(this).hasClass("ui-state-disabled")?("string"==typeof f?h[f]:f).apply(h,arguments):k}"string"!=typeof f&&(r.guid=f.guid=f.guid||r.guid||c.guid++);var C=d.match(/^(\w+)\s*(.*)$/),n=C[1]+h.eventNamespace;(C=C[2])?e.delegate(C,n,r):b.bind(n,r)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,d){var e,
h=this.options[a];if(d=d||{},b=c.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),b.target=this.element[0],a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);return this.element.trigger(b,d),!(c.isFunction(h)&&!1===h.apply(this.element[0],[b].concat(d))||b.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,b){c.Widget.prototype["_"+a]=function(e,d,f){"string"==typeof d&&(d={effect:d});var h,r=d?!0===d||"number"==typeof d?b:d.effect||b:a;d=d||
{};"number"==typeof d&&(d={duration:d});h=!c.isEmptyObject(d);d.complete=f;d.delay&&e.delay(d.delay);h&&c.effects&&c.effects.effect[r]?e[a](d):r!==a&&e[r]?e[r](d.duration,d.easing,f):e.queue(function(b){c(this)[a]();f&&f.call(e[0]);b()})}})})(jQuery);
(function(c){var k=!1;c(document).mouseup(function(){k=!1});c.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(a){return f._mouseDown(a)}).bind("click."+this.widgetName,function(a){return!0===c.data(a.target,f.widgetName+".preventClickEvent")?(c.removeData(a.target,f.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!k){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var a=this,d=1===f.which,e="string"==typeof this.options.cancel&&f.target.nodeName?c(f.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(f)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted)?(f.preventDefault(),!0):(!0===c.data(f.target,this.widgetName+".preventClickEvent")&&c.removeData(f.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return a._mouseMove(b)},this._mouseUpDelegate=function(b){return a._mouseUp(b)},
c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),f.preventDefault(),k=!0,!0)):!0}},_mouseMove:function(f){return c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!f.button?this._mouseUp(f):this._mouseStarted?(this._mouseDrag(f),f.preventDefault()):(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,f),this._mouseStarted?this._mouseDrag(f):this._mouseUp(f)),
!this._mouseStarted)},_mouseUp:function(f){return c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,f.target===this._mouseDownEvent.target&&c.data(f.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(f)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c){function k(a,c,e){return a>c&&c+e>a}function f(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}c.widget("ui.sortable",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||f(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,d){"disabled"===a?(this.options[a]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,d){var e=null,b=!1,h=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(a),c(a.target).parents().each(function(){return c.data(this,
h.widgetName+"-item")===h?(e=c(this),!1):void 0}),c.data(a.target,h.widgetName+"-item")===h&&(e=c(a.target)),e?!this.options.handle||d||(c(this.options.handle,e).find("*").addBack().each(function(){this===a.target&&(b=!0)}),b)?(this.currentItem=e,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(a,d,e){var b;d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&"auto"!==d.cursor&&(b=this.document.find("body"),this.storedCursor=b.css("cursor"),b.css("cursor",d.cursor),this.storedStylesheet=c("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(b)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));return c.ui.ddmanager&&
(c.ui.ddmanager.current=this),c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var d,e,b,h;d=this.options;var f=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+d.scrollSpeed:a.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+d.scrollSpeed:a.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
f=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(a.pageY-c(document).scrollTop()<d.scrollSensitivity?f=c(document).scrollTop(c(document).scrollTop()-d.scrollSpeed):c(window).height()-(a.pageY-c(document).scrollTop())<d.scrollSensitivity&&(f=c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed)),a.pageX-c(document).scrollLeft()<d.scrollSensitivity?f=c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed):c(window).width()-(a.pageX-c(document).scrollLeft())<d.scrollSensitivity&&(f=c(document).scrollLeft(c(document).scrollLeft()+
d.scrollSpeed))),!1!==f&&c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(d=this.items.length-1;0<=d;d--)if(e=this.items[d],b=e.item[0],h=this._intersectsWithPointer(e),h&&e.instance===this.currentContainer&&b!==this.currentItem[0]&&
this.placeholder[1===h?"next":"prev"]()[0]!==b&&!c.contains(this.placeholder[0],b)&&("semi-dynamic"===this.options.type?!c.contains(this.element[0],b):!0)){if(this.direction=1===h?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(a,e);this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),c.ui.ddmanager&&c.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,
d){if(a){if(c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,a),this.options.revert){var e=this,b=this.placeholder.offset(),h=this.options.axis,f={};h&&"x"!==h||(f.left=b.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));h&&"y"!==h||(f.top=b.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;c(this.helper).animate(f,parseInt(this.options.revert,
10)||500,function(){e._clear(a)})}else this._clear(a,d);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var d=this._getItemsAsjQuery(a&&a.connected),e=[];return a=
a||{},c(d).each(function(){var b=(c(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&e.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!e.length&&a.key&&e.push(a.key+"="),e.join("&")},toArray:function(a){var d=this._getItemsAsjQuery(a&&a.connected),e=[];return a=a||{},d.each(function(){e.push(c(a.item||this).attr(a.attribute||"id")||"")}),e},_intersectsWith:function(a){var c=this.positionAbs.left,e=c+this.helperProportions.width,b=this.positionAbs.top,
h=b+this.helperProportions.height,f=a.left,k=f+a.width,n=a.top,q=n+a.height,A=this.offset.click.top,m=this.offset.click.left,A="x"===this.options.axis||b+A>n&&q>b+A,m="y"===this.options.axis||c+m>f&&k>c+m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?A&&m:c+this.helperProportions.width/2>f&&k>e-this.helperProportions.width/2&&b+this.helperProportions.height/
2>n&&q>h-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||k(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||k(this.positionAbs.left+this.offset.click.left,a.left,a.width);c=c&&a;a=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return c?this.floating?e&&"right"===e||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var c=k(this.positionAbs.top+this.offset.click.top,
a.top+a.height/2,a.height);a=k(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return this.floating&&b?"right"===b&&a||"left"===b&&!a:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?
"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function d(){f.push(this)}var e,b,h,f=[],k=[],n=this._connectWith();if(n&&a)for(a=n.length-1;0<=a;a--)for(b=c(n[a]),e=b.length-1;0<=e;e--)(h=c.data(b[e],this.widgetFullName))&&h!==this&&!h.options.disabled&&k.push([c.isFunction(h.options.items)?h.options.items.call(h.element):
c(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);k.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=k.length-1;0<=a;a--)k[a][0].each(d);return c(f)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=c.grep(this.items,
function(c){for(var e=0;a.length>e;e++)if(a[e]===c.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var d,e,b,h,f,k=this.items,n=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):c(this.options.items,this.element),this]];if((f=this._connectWith())&&this.ready)for(d=f.length-1;0<=d;d--)for(b=c(f[d]),e=b.length-1;0<=e;e--)(h=c.data(b[e],this.widgetFullName))&&h!==this&&!h.options.disabled&&(n.push([c.isFunction(h.options.items)?
h.options.items.call(h.element[0],a,{item:this.currentItem}):c(h.options.items,h.element),h]),this.containers.push(h));for(d=n.length-1;0<=d;d--)for(a=n[d][1],b=n[d][0],e=0,f=b.length;f>e;e++)h=c(b[e]),h.data(this.widgetName+"-item",a),k.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,e,b,h;for(d=this.items.length-1;0<=d;d--)e=this.items[d],e.instance!==this.currentContainer&&this.currentContainer&&
e.item[0]!==this.currentItem[0]||(b=this.options.toleranceElement?c(this.options.toleranceElement,e.item):e.item,a||(e.width=b.outerWidth(),e.height=b.outerHeight()),h=b.offset(),e.left=h.left,e.top=h.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(d=this.containers.length-1;0<=d;d--)h=this.containers[d].element.offset(),this.containers[d].containerCache.left=h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=
this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var d,e=a.options;e.placeholder&&e.placeholder.constructor!==String||(d=e.placeholder,e.placeholder={element:function(){var b=a.currentItem[0].nodeName.toLowerCase(),e=c("<"+b+">",a.document[0]).addClass(d||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===b?a.currentItem.children().each(function(){c("<td>&#160;</td>",
a.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(e)}):"img"===b&&e.attr("src",a.currentItem.attr("src")),d||e.css("visibility","hidden"),e},update:function(b,c){(!d||e.forcePlaceholderSize)&&(c.height()||c.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),c.width()||c.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}});
a.placeholder=c(e.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);e.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var d,e,b,h,r,C,n,q,A,m=e=null;for(d=this.containers.length-1;0<=d;d--)c.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?e&&c.contains(this.containers[d].element[0],e.element[0])||(e=this.containers[d],m=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",
a,this._uiHash(this)),this.containers[d].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1);else{d=1E4;b=null;h=(A=e.floating||f(this.currentItem))?"left":"top";r=A?"width":"height";C=this.positionAbs[h]+this.offset.click[h];for(e=this.items.length-1;0<=e;e--)c.contains(this.containers[m].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&
(!A||k(this.positionAbs.top+this.offset.click.top,this.items[e].top,this.items[e].height))&&(n=this.items[e].item.offset()[h],q=!1,Math.abs(n-C)>Math.abs(n+this.items[e][r]-C)&&(q=!0,n+=this.items[e][r]),d>Math.abs(n-C)&&(d=Math.abs(n-C),b=this.items[e],this.direction=q?"up":"down"));(b||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[m]&&(b?this._rearrange(a,b,null,!0):this._rearrange(a,null,this.containers[m].element,!0),this._trigger("change",a,this._uiHash()),this.containers[m]._trigger("change",
a,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1)}},_createHelper:function(a){var d=this.options;a=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],[a,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||c("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),
a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!a[0].style.width||d.forceHelperSize)&&a.width(this.currentItem.width()),(!a[0].style.height||d.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));c.isArray(a)&&(a={left:+a[0],top:+a[1]||
0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],
this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,d,e,b=this.options;
"parent"===b.containment&&(b.containment=this.helper[0].parentNode);"document"!==b.containment&&"window"!==b.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(c("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(b.containment)||
(a=c(b.containment)[0],d=c(b.containment).offset(),e="hidden"!==c(a).css("overflow"),this.containment=[d.left+(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,d.top+(e?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,d){d||(d=this.position);var e="absolute"===a?1:-1,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(b[0].tagName);return{top:d.top+
this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:b.scrollTop())*e,left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:b.scrollLeft())*e}},_generatePosition:function(a){var d,e,b=this.options,h=a.pageX,f=a.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,
n=/(html|body)/i.test(k[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+
this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),b.grid&&(d=this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1],f=this.containment?d-this.offset.click.top>=this.containment[1]&&d-this.offset.click.top<=this.containment[3]?d:d-this.offset.click.top>=this.containment[1]?d-b.grid[1]:d+b.grid[1]:d,e=this.originalPageX+Math.round((h-this.originalPageX)/b.grid[0])*b.grid[0],h=this.containment?e-this.offset.click.left>=
this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-b.grid[0]:e+b.grid[0]:e)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:k.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:k.scrollLeft())}},_rearrange:function(a,c,e,b){e?e[0].appendChild(this.placeholder[0]):
c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var d=this.counter=this.counter?++this.counter:1;this._delay(function(){d===this.counter&&this.refreshPositions(!b)})},_clear:function(a,c){function e(b,a,c){return function(e){c._trigger(b,e,a._uiHash(a))}}this.reverting=!1;var b,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(b in this._storedCSS)"auto"!==
this._storedCSS[b]&&"static"!==this._storedCSS[b]||(this._storedCSS[b]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||d.push(function(b){this._trigger("update",b,this._uiHash())});this!==
this.currentContainer&&(c||(d.push(function(b){this._trigger("remove",b,this._uiHash())}),d.push(function(b){return function(a){b._trigger("receive",a,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(b){return function(a){b._trigger("update",a,this._uiHash(this))}}.call(this,this.currentContainer))));for(b=this.containers.length-1;0<=b;b--)c||d.push(e("deactivate",this,this.containers[b])),this.containers[b].containerCache.over&&(d.push(e("out",this,this.containers[b])),this.containers[b].containerCache.over=
0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",a,this._uiHash());for(b=0;d.length>b;b++)d[b].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",
a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(b=0;d.length>b;b++)d[b].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===c.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var d=a||this;return{helper:d.helper,placeholder:d.placeholder||c([]),position:d.position,originalPosition:d.originalPosition,
offset:d.positionAbs,item:d.currentItem,sender:a?a.element:null}}})})(jQuery);/*
 jquery.event.drag - v 2.2
 Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 Open Source MIT License - http://threedubmedia.com/code/license
*/
(function(c){c.fn.drag=function(b,a,e){var d="string"==typeof b?b:"",h=c.isFunction(b)?b:c.isFunction(a)?a:null;0!==d.indexOf("drag")&&(d="drag"+d);e=(b==h?a:e)||{};return h?this.bind(d,e,h):this.trigger(d)};var k=c.event,f=k.special,a=f.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(b){var e=c.data(this,a.datakey),d=b.data||{};e.related+=1;c.each(a.defaults,function(b,a){void 0!==d[b]&&(e[b]=d[b])})},remove:function(){--c.data(this,
a.datakey).related},setup:function(){if(!c.data(this,a.datakey)){var b=c.extend({related:0},a.defaults);c.data(this,a.datakey,b);k.add(this,"touchstart mousedown",a.init,b);this.attachEvent&&this.attachEvent("ondragstart",a.dontstart)}},teardown:function(){(c.data(this,a.datakey)||{}).related||(c.removeData(this,a.datakey),k.remove(this,"touchstart mousedown",a.init),a.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",a.dontstart))},init:function(b){if(!a.touched){var e=b.data,d;if(!(0!=
b.which&&0<e.which&&b.which!=e.which||c(b.target).is(e.not)||e.handle&&!c(b.target).closest(e.handle,b.currentTarget).length)&&(a.touched="touchstart"==b.type?this:null,e.propagates=1,e.mousedown=this,e.interactions=[a.interaction(this,e)],e.target=b.target,e.pageX=b.pageX,e.pageY=b.pageY,e.dragging=null,d=a.hijack(b,"draginit",e),e.propagates&&((d=a.flatten(d))&&d.length&&(e.interactions=[],c.each(d,function(){e.interactions.push(a.interaction(this,e))})),e.propagates=e.interactions.length,!1!==
e.drop&&f.drop&&f.drop.handler(b,e),a.textselect(!1),a.touched?k.add(a.touched,"touchmove touchend",a.handler,e):k.add(document,"mousemove mouseup",a.handler,e),!a.touched||e.live)))return!1}},interaction:function(b,e){var d=c(b)[e.relative?"position":"offset"]()||{top:0,left:0};return{drag:b,callback:new a.callback,droppable:[],offset:d}},handler:function(b){var e=b.data;switch(b.type){case !e.dragging&&"touchmove":b.preventDefault();case !e.dragging&&"mousemove":if(Math.pow(b.pageX-e.pageX,2)+Math.pow(b.pageY-
e.pageY,2)<Math.pow(e.distance,2))break;b.target=e.target;a.hijack(b,"dragstart",e);e.propagates&&(e.dragging=!0);case "touchmove":b.preventDefault();case "mousemove":if(e.dragging){a.hijack(b,"drag",e);if(e.propagates){!1!==e.drop&&f.drop&&f.drop.handler(b,e);break}b.type="mouseup"}default:a.touched?k.remove(a.touched,"touchmove touchend",a.handler):k.remove(document,"mousemove mouseup",a.handler),e.dragging&&(!1!==e.drop&&f.drop&&f.drop.handler(b,e),a.hijack(b,"dragend",e)),a.textselect(!0),!1===
e.click&&e.dragging&&c.data(e.mousedown,"suppress.click",(new Date).getTime()+5),e.dragging=a.touched=!1}},hijack:function(b,e,d,f,n){if(d){var h=b.originalEvent,r=b.type,C=e.indexOf("drop")?"drag":"drop",B,ka=f||0,F,la;f=isNaN(f)?d.interactions.length:f;b.type=e;b.originalEvent=null;d.results=[];do!(F=d.interactions[ka])||"dragend"!==e&&F.cancelled||(la=a.properties(b,d,F),F.results=[],c(n||F[C]||d.droppable).each(function(f,h){la.target=h;b.isPropagationStopped=function(){return!1};B=h?k.dispatch.call(h,
b,la):null;!1===B?("drag"==C&&(F.cancelled=!0,--d.propagates),"drop"==e&&(F[C][f]=null)):"dropinit"==e&&F.droppable.push(a.element(B)||h);"dragstart"==e&&(F.proxy=c(a.element(B)||F.drag)[0]);F.results.push(B);delete b.result;if("dropinit"!==e)return B}),d.results[ka]=a.flatten(F.results),"dropinit"==e&&(F.droppable=a.flatten(F.droppable)),"dragstart"!=e||F.cancelled||la.update());while(++ka<f);b.type=r;b.originalEvent=h;return a.flatten(d.results)}},properties:function(b,c,e){var d=e.callback;d.drag=
e.drag;d.proxy=e.proxy||e.drag;d.startX=c.pageX;d.startY=c.pageY;d.deltaX=b.pageX-c.pageX;d.deltaY=b.pageY-c.pageY;d.originalX=e.offset.left;d.originalY=e.offset.top;d.offsetX=d.originalX+d.deltaX;d.offsetY=d.originalY+d.deltaY;d.drop=a.flatten((e.drop||[]).slice());d.available=a.flatten((e.droppable||[]).slice());return d},element:function(b){if(b&&(b.jquery||1==b.nodeType))return b},flatten:function(b){return c.map(b,function(b){return b&&b.jquery?c.makeArray(b):b&&b.length?a.flatten(b):b})},textselect:function(b){c(document)[b?
"unbind":"bind"]("selectstart",a.dontstart).css("MozUserSelect",b?"":"none");document.unselectable=b?"off":"on"},dontstart:function(){return!1},callback:function(){}};a.callback.prototype={update:function(){f.drop&&this.available.length&&c.each(this.available,function(b){f.drop.locate(this,b)})}};var d=k.dispatch;k.dispatch=function(b){if(0<c.data(this,"suppress."+b.type)-(new Date).getTime())c.removeData(this,"suppress."+b.type);else return d.apply(this,arguments)};var e=k.fixHooks.touchstart=k.fixHooks.touchmove=
k.fixHooks.touchend=k.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(b,a){if(a){var d=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||null;d&&c.each(e.props,function(a,c){b[c]=d[c]})}return b}};f.draginit=f.dragstart=f.dragend=a})(jQuery);/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
(function(c){function k(){var b=!1,a=!1;this.stopPropagation=function(){b=!0};this.isPropagationStopped=function(){return b};this.stopImmediatePropagation=function(){a=!0};this.isImmediatePropagationStopped=function(){return a}}function f(){this.__nonDataRow=!0}function a(){this.__group=!0;this.count=this.level=0;this.title=this.value=null;this.collapsed=!1;this.totals=null;this.rows=[];this.groupingKey=this.groups=null}function d(){this.__groupTotals=!0;this.group=null;this.initialized=!1}function e(){var b=
null;this.isActive=function(a){return a?b===a:null!==b};this.activate=function(a){if(a!==b){if(null!==b)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!a.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!a.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";b=a}};this.deactivate=function(a){if(b!==a)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";
b=null};this.commitCurrentEdit=function(){return b?b.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return b?b.cancelCurrentEdit():!0}}c.extend(!0,window,{Slick:{Event:function(){var b=[];this.subscribe=function(a){b.push(a)};this.unsubscribe=function(a){for(var c=b.length-1;0<=c;c--)b[c]===a&&b.splice(c,1)};this.notify=function(a,c,e){c=c||new k;e=e||this;for(var d,f=0;f<b.length&&!c.isPropagationStopped()&&!c.isImmediatePropagationStopped();f++)d=b[f].call(e,c,a);return d}},EventData:k,
EventHandler:function(){var b=[];this.subscribe=function(a,c){b.push({event:a,handler:c});a.subscribe(c);return this};this.unsubscribe=function(a,c){for(var e=b.length;e--;)if(b[e].event===a&&b[e].handler===c){b.splice(e,1);a.unsubscribe(c);return}return this};this.unsubscribeAll=function(){for(var a=b.length;a--;)b[a].event.unsubscribe(b[a].handler);b=[];return this}},Range:function(b,a,c,e){void 0===c&&void 0===e&&(c=b,e=a);this.fromRow=Math.min(b,c);this.fromCell=Math.min(a,e);this.toRow=Math.max(b,
c);this.toCell=Math.max(a,e);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(b,a){return b>=this.fromRow&&b<=this.toRow&&a>=this.fromCell&&a<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:f,Group:a,GroupTotals:d,EditorLock:e,GlobalEditorLock:new e}});
a.prototype=new f;a.prototype.equals=function(b){return this.value===b.value&&this.count===b.count&&this.collapsed===b.collapsed&&this.title===b.title};d.prototype=new f})(jQuery);if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(c){c.extend(!0,window,{Slick:{Grid:function(a,d,e,b){function h(){ea||(ea=!0,O=parseFloat(c.css(E[0],"width",!0)),U(),A(G),b.enableTextSelectionOnCells||J.bind("selectstart.ui",function(g){return c(g.target).is("input,textarea")}),qb(),B(),ka(),V(),ma(),m(),E.bind("resize.slickgrid",ma),J.bind("scroll",Oa),Ca.bind("contextmenu",vc).bind("click",wc).delegate(".slick-header-column","mouseenter",xc).delegate(".slick-header-column","mouseleave",yc),fa.bind("scroll",zc),Za.add(rb).bind("keydown",
Nb).bind("focusin",function(){E.addClass("is-focused")}).bind("focusout",function(){E.removeClass("is-focused")}),M.bind("keydown",Nb).bind("click",Ac).bind("dblclick",Bc).bind("contextmenu",Cc).bind("draginit",Dc).bind("dragstart",{distance:3},Ec).bind("drag",Fc).bind("dragend",Gc).delegate(".slick-cell","mouseenter",Hc).delegate(".slick-cell","mouseleave",Ic),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&M.bind("mousewheel",Jc))}function r(g){for(var b=
pa.length;0<=b;b--)if(pa[b]===g){pa[b].destroy&&pa[b].destroy();pa.splice(b,1);break}}function C(){for(var g=0,b=0,a=e.length;b<a;b++)g+=e[b].width;g+=k.width;return Math.max(g,O)+1E3}function n(){for(var g=oa?O-k.width:O,a=0,c=e.length;c--;)a+=e[c].width;return b.fullWidthRows?Math.max(a,g):a}function q(g){var b=ga;ga=n();ga!=b&&(M.width(ga),ua.width(ga),G.width(C()));sb=ga>O-(oa?k.width:0);Ob.width(ga+(oa?k.width:0));(ga!=b||g)&&tb()}function A(g){g&&g.jquery&&g.attr("unselectable","on").css("MozUserSelect",
"none").bind("selectstart.ui",function(){return!1})}function m(){for(var g=M[0];(g=g.parentNode)!=document.body&&null!=g;)if(g==J[0]||g.scrollWidth!=g.clientWidth||g.scrollHeight!=g.clientHeight){var b=c(g);Da=Da?Da.add(b):b;b.bind("scroll."+P,Pb)}}function B(){function g(){c(this).addClass("ui-state-hover")}function a(){c(this).removeClass("ui-state-hover")}G.find(".slick-header-column").each(function(){var g=c(this).data("column");g&&l(p.onBeforeHeaderCellDestroy,{node:this,column:g})});G.empty();
G.width(C());ua.find(".slick-headerrow-column").each(function(){var g=c(this).data("column");g&&l(p.onBeforeHeaderRowCellDestroy,{node:this,column:g})});ua.empty();for(var d=0;d<e.length;d++){var f=e[d],h=c("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+f.name+"</span>").width(f.width-va).attr("id",""+P+f.id).attr("title",f.toolTip||"").data("column",f).addClass(f.headerCssClass||"").appendTo(G);if(b.enableColumnReorder||f.sortable)h.on("mouseenter",
g).on("mouseleave",a);f.sortable&&(h.addClass("slick-header-sortable"),h.append("<span class='slick-sort-indicator' />"));l(p.onHeaderCellRendered,{node:h[0],column:f});b.showHeaderRow&&(h=c("<div class='ui-state-default slick-headerrow-column l"+d+" r"+d+"'></div>").data("column",f).appendTo(ua),l(p.onHeaderRowCellRendered,{node:h[0],column:f}))}$a(Q);la();b.enableColumnReorder&&F()}function ka(){G.click(function(g){if(1==g.which&&(g.metaKey=g.metaKey||g.ctrlKey,!c(g.target).hasClass("slick-resizable-handle"))){var a=
c(g.target).closest(".slick-header-column");if(a.length&&(a=a.data("column"),a.sortable&&L().commitCurrentEdit())){for(var d=null,f=0;f<Q.length;f++)if(Q[f].columnId==a.id){d=Q[f];d.sortAsc=!d.sortAsc;break}g.metaKey&&b.multiColumnSort?d&&Q.splice(f,1):((g.shiftKey||g.metaKey)&&b.multiColumnSort||(Q=[]),d?0==Q.length&&Q.push(d):(d={columnId:a.id,sortAsc:a.defaultSortAsc},Q.push(d)));$a(Q);b.multiColumnSort?l(p.onSort,{multiColumnSort:!0,sortCols:c.map(Q,function(g){return{sortCol:e[R[g.columnId]],
sortAsc:g.sortAsc}})},g):l(p.onSort,{multiColumnSort:!1,sortCol:a,sortAsc:d.sortAsc},g)}}})}function F(){G.filter(":ui-sortable").sortable("destroy");G.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(g,b){b.placeholder.width(b.helper.outerWidth()-va);c(b.helper).addClass("slick-header-column-active")},beforeStop:function(g,b){c(b.helper).removeClass("slick-header-column-active")},
stop:function(g){if(L().commitCurrentEdit()){for(var b=G.sortable("toArray"),a=[],d=0;d<b.length;d++)a.push(e[R[b[d].replace(P,"")]]);Qb(a);l(p.onColumnsReordered,{});g.stopPropagation();la()}else c(this).sortable("cancel")}})}function la(){var g,a,d,f,h,k,aa,m;f=G.children();f.find(".slick-resizable-handle").remove();f.each(function(a,g){e[a].resizable&&(void 0===aa&&(aa=a),m=a)});void 0!==aa&&f.each(function(t,na){t<aa||b.forceFitColumns&&t>m||(c(na),c("<div class='slick-resizable-handle' />").appendTo(na).bind("dragstart",
function(na,Y){if(!L().commitCurrentEdit())return!1;d=na.pageX;c(this).parent().addClass("slick-header-column-active");var Z=null,y=null;f.each(function(a,g){e[a].previousWidth=c(g).outerWidth()});if(b.forceFitColumns)for(y=Z=0,g=t+1;g<f.length;g++)a=e[g],a.resizable&&(null!==y&&(y=a.maxWidth?y+(a.maxWidth-a.previousWidth):null),Z+=a.previousWidth-Math.max(a.minWidth||0,qa));var l=0,aa=0;for(g=0;g<=t;g++)a=e[g],a.resizable&&(null!==aa&&(aa=a.maxWidth?aa+(a.maxWidth-a.previousWidth):null),l+=a.previousWidth-
Math.max(a.minWidth||0,qa));null===Z&&(Z=1E5);null===l&&(l=1E5);null===y&&(y=1E5);null===aa&&(aa=1E5);k=d+Math.min(Z,aa);h=d-Math.min(l,y)}).bind("drag",function(c,na){var Y,Z=Math.min(k,Math.max(h,c.pageX))-d,y;if(0>Z){y=Z;for(g=t;0<=g;g--)a=e[g],a.resizable&&(Y=Math.max(a.minWidth||0,qa),y&&a.previousWidth+y<Y?(y+=a.previousWidth-Y,a.width=Y):(a.width=a.previousWidth+y,y=0));if(b.forceFitColumns)for(y=-Z,g=t+1;g<f.length;g++)a=e[g],a.resizable&&(y&&a.maxWidth&&a.maxWidth-a.previousWidth<y?(y-=a.maxWidth-
a.previousWidth,a.width=a.maxWidth):(a.width=a.previousWidth+y,y=0))}else{y=Z;for(g=t;0<=g;g--)a=e[g],a.resizable&&(y&&a.maxWidth&&a.maxWidth-a.previousWidth<y?(y-=a.maxWidth-a.previousWidth,a.width=a.maxWidth):(a.width=a.previousWidth+y,y=0));if(b.forceFitColumns)for(y=-Z,g=t+1;g<f.length;g++)a=e[g],a.resizable&&(Y=Math.max(a.minWidth||0,qa),y&&a.previousWidth+y<Y?(y+=a.previousWidth-Y,a.width=Y):(a.width=a.previousWidth+y,y=0))}ub();b.syncColumnCellResize&&tb()}).bind("dragend",function(b,t){var d;
c(this).parent().removeClass("slick-header-column-active");for(g=0;g<f.length;g++)a=e[g],d=c(f[g]).outerWidth(),a.previousWidth!==d&&a.rerenderOnResize&&wa();q(!0);N();c(b.toElement).one("click",function(a){a.stopImmediatePropagation()});l(p.onColumnsResized,{})}).bind("dblclick",function(){l(p.onColumnResizerDblClick,{column:e[t]})}))})}function w(a){var g=0;c.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(b,c){g+=parseFloat(a.css(c))||0});return g}function U(){var a,
b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=c("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(G);va=Rb=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&(c.each(b,function(b,g){va+=parseFloat(a.css(g))||0}),c.each(e,function(b,g){Rb+=parseFloat(a.css(g))||0}));a.remove();var d=c("<div class='slick-row' />").appendTo(M);
a=c("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(d);vb=wb=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&(c.each(b,function(b,g){vb+=parseFloat(a.css(g))||0}),c.each(e,function(b,g){wb+=parseFloat(a.css(g))||0}));d.remove();qa=Math.max(va,vb)}function V(){xa=c("<style type='text/css' rel='stylesheet' />").appendTo(c("head"));for(var a=b.rowHeight-wb,a=["."+P+" .slick-header-column { left: 1000px; }",
"."+P+" .slick-top-panel { height:"+b.topPanelHeight+"px; }","."+P+" .grid-inner-top-panel { height:"+b.innerTopPanelHeight+"px; }","."+P+" .slick-headerrow-columns { height:"+b.headerRowHeight+"px; }","."+P+" .slick-cell { height:"+a+"px; text-align:center; vertical-align: middle; }","."+P+" .slick-row { height:"+b.rowHeight+"px; line-height:"+a+"px; }"],t=0;t<e.length;t++)a.push("."+P+" .l"+t+" { }"),a.push("."+P+" .r"+t+" { }");xa[0].styleSheet?xa[0].styleSheet.cssText=a.join(" "):xa[0].appendChild(document.createTextNode(a.join(" ")))}
function l(a,b,c){c=c||new Slick.EventData;b=b||{};b.grid=p;return a.notify(b,c,p)}function L(){return b.editorLock}function xb(){var a,b,c=[],d=0,f=0,h,l=oa?O-k.width:O;for(a=0;a<e.length;a++)b=e[a],c.push(b.width),f+=b.width,b.resizable&&(d+=b.width-Math.max(b.minWidth,qa));for(h=f;f>l&&d;){var m=(f-l)/d;for(a=0;a<e.length&&f>l;a++){b=e[a];var p=c[a];if(!(!b.resizable||p<=b.minWidth||p<=qa)){b=Math.max(b.minWidth,qa);var w=Math.floor(m*(p-b))||1,w=Math.min(w,p-b),f=f-w,d=d-w;c[a]-=w}}if(h<=f)break;
h=f}for(h=f;f<l;){d=l/f;for(a=0;a<e.length&&f<l;a++)b=e[a],m=c[a],b=!b.resizable||b.maxWidth<=m?0:Math.min(Math.floor(d*m)-m,b.maxWidth-m||1E6)||1,f+=b,c[a]+=b;if(h>=f)break;h=f}f=!1;for(a=0;a<e.length;a++)e[a].rerenderOnResize&&e[a].width!=c[a]&&(f=!0),e[a].width=c[a];ub();q(!0);f&&(wa(),N())}function ub(){if(ea){for(var a,b=0,d=G.children(),f=d.length;b<f;b++)a=c(d[b]),a.width()!==e[b].width-va&&a.width(e[b].width-va);qb()}}function tb(){for(var a,b,c=0,d,f=0;f<e.length;f++){d=e[f].width;var h;
b=f;if(!ya){var k=document.styleSheets;for(a=0;a<k.length;a++)if((k[a].ownerNode||k[a].owningElement)==xa[0]){ya=k[a];break}if(!ya)throw Error("Cannot find stylesheet.");yb=[];zb=[];k=ya.cssRules||ya.rules;for(a=0;a<k.length;a++){var l=k[a].selectorText;if(h=/\.l\d+/.exec(l))h=parseInt(h[0].substr(2,h[0].length-2),10),yb[h]=k[a];else if(h=/\.r\d+/.exec(l))h=parseInt(h[0].substr(2,h[0].length-2),10),zb[h]=k[a]}}a=yb[b];b=zb[b];a.style.left=c+"px";b.style.right=ga-c-d+"px";c+=e[f].width}}function $a(a){Q=
a;var b=G.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");c.each(Q,function(a,g){null==g.sortAsc&&(g.sortAsc=!0);var c=R[g.columnId];null!=c&&b.eq(c).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(g.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Sb(a,c){Ab=[];for(var g={},d=0;d<c.length;d++)for(var t=c[d].fromRow;t<=c[d].toRow;t++){g[t]||
(Ab.push(t),g[t]={});for(var f=c[d].fromCell;f<=c[d].toCell;f++)Tb(t,f)&&(g[t][e[f].id]=b.selectedCellCssClass)}Ub(b.selectedCellCssClass,g);l(p.onSelectedRowsChanged,{rows:ab()},a)}function qb(){Ea=[];Fa=[];for(var a=0,b=0,c=e.length;b<c;b++)Ea[b]=a,Fa[b]=a+e[b].width,a+=e[b].width}function Qb(a){e=a;R={};for(a=0;a<e.length;a++){var b=e[a]=c.extend({},Bb,e[a]);R[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}qb();ea&&(wa(),B(),xa.remove(),
ya=null,V(),ma(),tb(),Oa())}function S(){return d.getLength?d.getLength():d.length}function ra(){return S()+(b.enableAddRow?1:0)}function ha(a){return d.getItem?d.getItem(a):d[a]}function bb(a){return Math.floor((a+K)/b.rowHeight)}function sa(a){a=Math.max(a,0);a=Math.min(a,ba-H+(sb?k.height:0));var g=K;Ga=Math.min(Ha-1,Math.floor(a/Ia));K=Math.round(Ga*cb);a-=K;if(K!=g){var c=Pa(a);Vb(c);for(var e in x)x[e].rowNode.style.top=b.rowHeight*e-K+"px"}Ja!=a&&(za=Ja+g<a+K?1:-1,J[0].scrollTop=db=I=Ja=a,
l(p.onViewportChanged,{}))}function eb(a,c){var g=d.getItemMetadata&&d.getItemMetadata(a),e=g&&g.columns&&(g.columns[c.id]||g.columns[R[c.id]]);return e&&e.formatter||g&&g.formatter||c.formatter||b.formatterFactory&&b.formatterFactory.getFormatter(c)||b.defaultFormatter}function Wb(a,c){var g=e[c],t=d.getItemMetadata&&d.getItemMetadata(a);return(t=t&&t.columns)&&t[g.id]&&void 0!==t[g.id].editor?t[g.id].editor:t&&t[c]&&void 0!==t[c].editor?t[c].editor:g.editor||b.editorFactory&&b.editorFactory.getEditor(g)}
function fb(a,c){return b.dataItemColumnValueExtractor?b.dataItemColumnValueExtractor(a,c):a[c.field]}function Xb(a,b,c,d,f){var g=e[c],t="slick-cell l"+c+" r"+Math.min(e.length-1,c+d-1)+(g.cssClass?" "+g.cssClass:"");b===v&&c===D&&(t+=" active");for(var na in W)W[na][b]&&W[na][b][g.id]&&(t+=" "+W[na][b][g.id]);a.push("<div class='"+t+"'>");f&&(t=fb(f,g),a.push(eb(b,g)(b,c,t,g,f)));a.push("</div>");x[b].cellRenderQueue.push(c);x[b].cellColSpans[c]=d}function Vb(a){for(var b in x)(b=parseInt(b,10))!==
v&&(b<a.top||b>a.bottom)&&gb(b)}function wa(){u&&ia();Qa();for(var a in x)gb(a)}function gb(a){var b=x[a];b&&(hb==b.rowNode?(b.rowNode.style.display="none",Ra=hb):M[0].removeChild(b.rowNode),delete x[a],delete ta[a],Cb--,Yb++)}function Zb(a){var b,c;if(a&&a.length)for(b=za=0,c=a.length;b<c;b++)u&&v===a[b]&&ia(),Qa(),x[a[b]]&&gb(a[b])}function $b(a){Zb([a])}function Db(a){var b=x[a];if(b){Sa(a);var c=ha(a),g;for(g in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(g)){g|=0;var d=e[g],
f=b.cellNodesByColumnIdx[g];a===v&&g===D&&u?u.loadValue(c):f.innerHTML=c?eb(a,d)(a,g,fb(c,d),d,c):""}Eb(a)}}function ma(){ea&&(H=b.autoHeight?b.rowHeight*ra():parseFloat(c.css(E[0],"height",!0))-parseFloat(c.css(E[0],"paddingTop",!0))-parseFloat(c.css(E[0],"paddingBottom",!0))-parseFloat(c.css(Ca[0],"height"))-w(Ca)-(b.showTopPanel?b.topPanelHeight+w(Ta):0)-(b.showHeaderRow?b.headerRowHeight+w(fa):0),ib=Math.ceil(H/b.rowHeight),O=parseFloat(c.css(E[0],"width",!0)),b.autoHeight||J.height(H),b.forceFitColumns&&
xb(),jb(),Oa(),Ua=-1,N())}function jb(){if(ea){var a=ra(),c=a+(b.leaveSpaceForNewRows?ib-1:0),e=oa,d=b.showInnerTopPanel?b.innerTopPanelHeight+w(Ka):0,h=c*b.rowHeight+d,l=n();oa=!b.autoHeight&&h>H;!oa&&l>O&&h>H-k.height&&(oa=!0);ia();var a=a-1,m;for(m in x)m>=a&&gb(m);z&&v>a&&Qa();m=ca;h>H-k.height?(ca=b.rowHeight*c,ba=h):ca=ba=H-k.height-d;ba<f?(Ia=ba,Ha=1,cb=0):(ca=f,Ia=ca/100,Ha=Math.floor(ba/Ia),cb=(ba-ca)/(Ha-1));ca!==m&&(M.css("height",ca),I=J[0].scrollTop);c=I+K<=ba-H;0==ba||0==I?Ga=K=0:c?
sa(I+K):sa(ba-H);ca!=m&&b.autoHeight&&ma();b.forceFitColumns&&e!=oa&&xb();q(!1)}}function Pa(a,b){null==a&&(a=I);null==b&&(b=T);return{top:bb(a),bottom:bb(a+H)+1,leftPx:b,rightPx:b+O}}function ac(a,c){var g=Pa(a,c),e=Math.round(H/b.rowHeight);-1==za?(g.top-=e,g.bottom+=3):1==za?(g.top-=3,g.bottom+=e):(g.top-=3,g.bottom+=3);g.top=Math.max(0,g.top);g.bottom=Math.min(ra()-1,g.bottom);g.leftPx-=O;g.rightPx+=O;g.leftPx=Math.max(0,g.leftPx);g.rightPx=Math.min(ga,g.rightPx);return g}function Sa(a){if((a=
x[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function bc(){b.enableAsyncPostRender&&(clearTimeout(Fb),Fb=setTimeout(cc,b.asyncPostRenderDelay))}function Eb(a){delete ta[a];Va=Math.min(Va,a);Wa=Math.max(Wa,a);bc()}function N(){if(ea&&!Gb){var a=Pa(),c=ac();Vb(c);if(Ua!=T){for(var f,h=[],k=[],l,m,p=c.top,w=c.bottom;p<=w;p++)if(f=x[p]){Sa(p);var n;n=void 0;m=c;l=p;var V=0,r=x[l],
q=[];for(n in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(n)){n|=0;var U=r.cellColSpans[n];if(Ea[n]>m.rightPx||Fa[Math.min(e.length-1,n+U-1)]<m.leftPx)l==v&&n==D||q.push(n)}for(;null!=(n=q.pop());)r.rowNode.removeChild(r.cellNodesByColumnIdx[n]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],ta[l]&&delete ta[l][n],V++;l=0;V=(V=d.getItemMetadata&&d.getItemMetadata(p))&&V.columns;r=ha(p);q=0;for(n=e.length;q<n&&!(Ea[q]>c.rightPx);q++)null==(m=f.cellColSpans[q])&&(m=1,
V&&(m=(m=V[e[q].id]||V[q])&&m.colspan||1,"*"===m&&(m=n-q)),Fa[Math.min(n-1,q+m-1)]>c.leftPx&&(Xb(h,p,q,m,r),l++)),q+=1<m?m-1:0;l&&k.push(p)}if(h.length)for(p=document.createElement("div"),p.innerHTML=h.join("");null!=(f=k.pop());)for(f=x[f];null!=(w=f.cellRenderQueue.pop());)h=p.lastChild,f.rowNode.appendChild(h),f.cellNodesByColumnIdx[w]=h}k=M[0];f=[];h=[];p=!1;V=S();w=c.top;for(l=c.bottom;w<=l;w++)if(!x[w]){Cb++;h.push(w);x[w]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};
var A,u,r=f,q=w;n=c;U=V;m=ha(q);var B="slick-row"+(q<U&&!m?" loading":"")+(q===v?" active":"")+(1==q%2?" odd":" even");m||(B+=" "+b.addNewRowCssClass);(U=d.getItemMetadata&&d.getItemMetadata(q))&&U.cssClasses&&(B+=" "+U.cssClasses);r.push("<div class='ui-widget-content "+B+"' style='top:"+(b.rowHeight*q-K)+"px'>");for(var B=0,C=e.length;B<C;B++){A=e[B];u=1;U&&U.columns&&(u=(A=U.columns[A.id]||U.columns[B])&&A.colspan||1,"*"===u&&(u=C-B));if(Fa[Math.min(C-1,B+u-1)]>n.leftPx){if(Ea[B]>n.rightPx)break;
Xb(r,q,B,u,m)}1<u&&(B+=u-1)}r.push("</div>");z&&v===w&&(p=!0);dc++}if(h.length){c=document.createElement("div");c.innerHTML=f.join("");w=0;for(l=h.length;w<l;w++)x[h[w]].rowNode=k.appendChild(c.firstChild);p&&(z=X(v,D))}Va=a.top;Wa=Math.min(ra()-1,a.bottom);bc();db=I;Ua=T;kb=null}}function zc(){var a=fa[0].scrollLeft;a!=J[0].scrollLeft&&(J[0].scrollLeft=a)}function Oa(){I=J[0].scrollTop;T=J[0].scrollLeft;var a=Math.abs(I-Ja),c=Math.abs(T-ec);c&&(ec=T,Ca[0].scrollLeft=T,Ta[0].scrollLeft=T,fa[0].scrollLeft=
T);if(a)if(za=Ja<I?1:-1,Ja=I,a<H)sa(I+K);else{var e=K;Ga=ca==H?0:Math.min(Ha-1,Math.floor((ba-H)/(ca-H)*I*(1/Ia)));K=Math.round(Ga*cb);e!=K&&wa()}if(c||a)if(kb&&clearTimeout(kb),20<Math.abs(db-I)||20<Math.abs(Ua-T))b.forceSyncScrolling||Math.abs(db-I)<H&&Math.abs(Ua-T)<O?N():kb=setTimeout(N,50),l(p.onViewportChanged,{});l(p.onScroll,{scrollLeft:T,scrollTop:I})}function cc(){for(var a=S();Va<=Wa;){var c=0<=za?Va++:Wa--,d=x[c];if(d&&!(c>=a)){ta[c]||(ta[c]={});Sa(c);for(var f in d.cellNodesByColumnIdx)if(d.cellNodesByColumnIdx.hasOwnProperty(f)&&
(f|=0,a=e[f],a.asyncPostRender&&!ta[c][f])){var h=d.cellNodesByColumnIdx[f];h&&a.asyncPostRender(h,c,ha(c),a);ta[c][f]=!0}Fb=setTimeout(cc,b.asyncPostRenderDelay);break}}}function Hb(a,b){var g,e,d,f,t;for(t in x){f=b&&b[t];d=a&&a[t];if(f)for(e in f)d&&f[e]==d[e]||(g=X(t,R[e]))&&c(g).removeClass(f[e]);if(d)for(e in d)f&&f[e]==d[e]||(g=X(t,R[e]))&&c(g).addClass(d[e])}}function Ub(a,b){var c=W[a];W[a]=b;Hb(b,c);l(p.onCellCssStylesChanged,{key:a,hash:b})}function Jc(a){a=c(a.target).closest(".slick-row")[0];
a!=hb&&(Ra&&Ra!=a&&(M[0].removeChild(Ra),Ra=null),hb=a)}function Dc(a,b){var c=Xa(a);if(!c||!Ib(c.row,c.cell))return!1;c=l(p.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:!1}function Ec(a,b){var c=Xa(a);if(!c||!Ib(c.row,c.cell))return!1;c=l(p.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function Fc(a,b){return l(p.onDrag,b,a)}function Gc(a,b){l(p.onDragEnd,b,a)}function Nb(a){l(p.onKeyDown,{row:v,cell:D},a);var c=a.isImmediatePropagationStopped();if(!c)if(a.shiftKey||
a.altKey||a.ctrlKey)9!=a.which||!a.shiftKey||a.ctrlKey||a.altKey||((g=ab())&&g.length?Ya(g[0],!1):c=nc());else if(27==a.which){if(!L().isActive())return;fc()}else if(34==a.which)gc(),c=!0;else if(33==a.which)hc(),c=!0;else if(37==a.which)c=ic();else if(39==a.which)c=jc();else if(38==a.which)c=kc();else if(40==a.which)c=lb();else if(9==a.which){var g=ab();g&&g.length?Ya(g[0],!1):c=lc()}else if(13==a.which){if(b.editable)u?v===S()?lb():mc():L().commitCurrentEdit()&&mb();else if(c=Jb())g=new Slick.EventData,
g.target=z,l(p.onFocusTrigger,{row:c.row,cell:c.cell},g);c=!0}if(c){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(Y){}}}function Ac(a){u||(a.target!=document.activeElement||c(a.target).hasClass("slick-cell"))&&Aa();var b=Xa(a);!b||null!==u&&v==b.row&&D==b.cell||(l(p.onClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||D==b.cell&&v==b.row||!ja(b.row,b.cell)||L().isActive()&&!L().commitCurrentEdit()||(Ya(b.row,!1),Ba(X(b.row,b.cell))))}function Cc(a){var b=
c(a.target).closest(".slick-cell",M);0!==b.length&&(z===b[0]&&null!==u||l(p.onContextMenu,{},a))}function Bc(a){var c=Xa(a);!c||null!==u&&v==c.row&&D==c.cell||(l(p.onDblClick,{row:c.row,cell:c.cell},a),a.isImmediatePropagationStopped()||b.editable&&oc(c.row,c.cell,!0))}function xc(a){l(p.onHeaderMouseEnter,{column:c(this).data("column")},a)}function yc(a){l(p.onHeaderMouseLeave,{column:c(this).data("column")},a)}function vc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns"),
b=b&&b.data("column");l(p.onHeaderContextMenu,{column:b},a)}function wc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&l(p.onHeaderClick,{column:b},a)}function Hc(a){l(p.onMouseEnter,{},a)}function Ic(a){l(p.onMouseLeave,{},a)}function Ib(a,b){return!(0>a||a>=S()||0>b||b>=e.length)}function Kb(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function Lb(a){for(var b in x)if(x[b].rowNode===
a)return b|0;return null}function Xa(a){var b=c(a.target).closest(".slick-cell",M);if(!b.length)return null;a=Lb(b[0].parentNode);b=Kb(b[0]);return null==a||null==b?null:{row:a,cell:b}}function Qa(){Ba(null,!1)}function Aa(){-1==pc?Za[0].focus():rb[0].focus()}function nb(a,b,c){Ya(a,c);c=La(a,b);a=Ea[b];b=Fa[b+(1<c?c-1:0)];c=T+O;a<T?(J.scrollLeft(a),Oa(),N()):b>c&&(J.scrollLeft(Math.min(a,b-J[0].clientWidth)),Oa(),N())}function Ba(a,e){null!==z&&(ia(),c(z).removeClass("active"),x[v]&&c(x[v].rowNode).removeClass("active"));
var d=z!==a;z=a;null!=z?(v=Lb(z.parentNode),D=Ma=Kb(z),null==e&&(e=v==S()||b.autoEdit),c(z).addClass("active"),c(x[v].rowNode).addClass("active"),b.editable&&e&&qc(v,D)&&(clearTimeout(Mb),b.asyncEditorLoading?Mb=setTimeout(function(){mb()},b.asyncEditorLoadDelay):mb())):v=D=null;d&&l(p.onActiveCellChanged,Jb())}function qc(a,b){var c=S();return a<c&&!ha(a)||e[b].cannotTriggerInsert&&a>=c||!Wb(a,b)?!1:!0}function ia(){if(u){l(p.onBeforeCellEditorDestroy,{editor:u});u.destroy();u=null;if(z){var a=ha(v);
c(z).removeClass("editable invalid");if(a){var b=e[D],d=eb(v,b);z.innerHTML=d(v,D,fb(a,b),b,a);Eb(v)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(Y){}else window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();L().deactivate(ob)}}function mb(a){if(z){if(!b.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(Mb);
if(qc(v,D)){var d=e[D],g=ha(v);!1===l(p.onBeforeEditCell,{row:v,cell:D,item:g,column:d})?Aa():(L().activate(ob),c(z).addClass("editable"),a||(z.innerHTML=""),u=new (a||Wb(v,D))({grid:p,gridPosition:pb(E[0]),position:pb(z),container:z,column:d,item:g||{},commitChanges:mc,cancelChanges:fc}),g&&u.loadValue(g),rc=u.serializeValue(),u.position&&Pb())}}}function mc(){L().commitCurrentEdit()&&(Aa(),b.autoEdit&&lb())}function fc(){L().cancelCurrentEdit()&&Aa()}function pb(a){var b={top:a.offsetTop,left:a.offsetLeft,
bottom:0,right:0,width:c(a).outerWidth(),height:c(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var e=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=c(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=c(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,
a===e&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,e=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function sc(){return pb(z)}function Pb(){if(z&&(l(p.onActiveCellPositionChanged,{}),u)){var a=sc();u.show&&u.hide&&(a.visible?u.show():u.hide());u.position&&u.position(a)}}function Jb(){return z?{row:v,cell:D}:null}function Ya(a,c){var e=a*b.rowHeight,d=(a+1)*b.rowHeight-H+(sb?k.height:0);(a+1)*b.rowHeight>I+H+K?(sa(c?e:d),N()):a*b.rowHeight<I+K&&(sa(c?d:e),N())}function tc(a){a*=
ib;sa((bb(I)+a)*b.rowHeight);N();if(b.enableCellNavigation&&null!=v){a=v+a;var c=ra();a>=c&&(a=c-1);0>a&&(a=0);for(var c=0,e=null,d=Ma;c<=Ma;)ja(a,c)&&(e=c),c+=La(a,c);null!==e?(Ba(X(a,e)),Ma=d):Qa()}}function gc(){tc(1)}function hc(){tc(-1)}function La(a,b){var c=d.getItemMetadata&&d.getItemMetadata(a);if(!c||!c.columns)return 1;c=(c=c.columns[e[b].id]||c.columns[b])&&c.colspan;return c="*"===c?e.length-b:c||1}function uc(a,b,c){if(b>=e.length)return null;do b+=La(a,b);while(b<e.length&&!ja(a,b));
return b<e.length?{row:a,cell:b,posX:b}:null}function Kc(a,b,c){if(0>=b)return null;a:{for(c=0;c<e.length;){if(ja(a,c))break a;c+=La(a,c)}c=null}if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=uc(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function Lc(a,b,c){for(var e,d=ra();;){if(++a>=d)return null;for(e=b=0;b<=c;)e=b,b+=La(a,b);if(ja(a,e))return{row:a,cell:e,posX:c}}}function Mc(a,b,c){for(var e;;){if(0>--a)return null;for(e=b=0;b<=c;)e=b,b+=La(a,b);if(ja(a,
e))return{row:a,cell:e,posX:c}}}function Nc(a,b,c){return null==a&&null==b&&(a=b=0,ja(a,b))?{row:a,cell:b,posX:b}:null}function Oc(a,b,c){return null==a&&null==b&&(a=ra()-1,b=e.length-1,ja(a,b))?{row:a,cell:b,posX:b}:null}function jc(){return Na("right")}function ic(){return Na("left")}function lb(){return Na("down")}function kc(){return Na("up")}function lc(){return Na("next")}function nc(){return Na("prev")}function Na(a){if(!b.enableCellNavigation||!z&&"prev"!=a&&"next"!=a)return!1;if(!L().commitCurrentEdit())return!0;
Aa();pc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:Mc,down:Lc,left:Kc,right:uc,prev:Oc,next:Nc}[a])(v,D,Ma)){var c=a.row==S();nb(a.row,a.cell,!c);Ba(X(a.row,a.cell));Ma=a.posX;return!0}Ba(X(v,D));return!1}function X(a,b){return x[a]?(Sa(a),x[a].cellNodesByColumnIdx[b]):null}function ja(a,c){if(!b.enableCellNavigation||a>=ra()||0>a||c>=e.length||0>c||e[c]._noactive)return!1;var f=d.getItemMetadata&&d.getItemMetadata(a);return f&&"boolean"===typeof f.focusable?f.focusable:(f=f&&f.columns)&&
f[e[c].id]&&"boolean"===typeof f[e[c].id].focusable?f[e[c].id].focusable:f&&f[c]&&"boolean"===typeof f[c].focusable?f[c].focusable:e[c].focusable}function Tb(a,b){if(a>=S()||0>a||b>=e.length||0>b)return!1;var c=d.getItemMetadata&&d.getItemMetadata(a);return c&&"boolean"===typeof c.selectable?c.selectable:(c=c&&c.columns&&(c.columns[e[b].id]||c.columns[b]))&&"boolean"===typeof c.selectable?c.selectable:e[b].selectable}function oc(a,c,e){ea&&ja(a,c)&&L().commitCurrentEdit()&&(nb(a,c,!1),c=X(a,c),Ba(c,
e||a===S()||b.autoEdit),u||Aa())}function Pc(){var a=ha(v),d=e[D];if(u){if(u.isValueChanged()){var f=u.validate();if(f.valid)return v<S()?(f={row:v,cell:D,editor:u,serializedValue:u.serializeValue(),prevSerializedValue:rc,execute:function(){this.editor.applyValue(a,this.serializedValue);Db(this.row);l(p.onCellChange,{row:v,cell:D,item:a})},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);Db(this.row);l(p.onCellChange,{row:v,cell:D,item:a})}},b.editCommandHandler?(ia(),b.editCommandHandler(a,
d,f)):(f.execute(),ia())):(f={},u.applyValue(f,u.serializeValue()),ia(),l(p.onAddNewRow,{item:f,column:d})),!L().isActive();c(z).removeClass("invalid");c(z).width();c(z).addClass("invalid");l(p.onValidationError,{editor:u,cellNode:z,validationResults:f,row:v,cell:D,column:d});u.focus();return!1}ia()}return!0}function Qc(){ia();return!0}function Rc(a){for(var b=[],c=e.length-1,d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function ab(){if(!da)throw"Selection model is not set";
return Ab}var Sc={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,showInnerTopPanel:!1,innerTopPanelHeight:25,formatterFactory:null,editorFactory:null,
cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c,e,d){return null==c?"":(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:!1,addNewRowCssClass:"new-row"},Bb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},ba,ca,Ia,
Ha,cb,Ga=0,K=0,za=1,ea=!1,E,P="slickgrid_"+Math.round(1E6*Math.random()),p=this,Za,rb,Ca,G,ua,fa,Ob,Ta,J,Ka,M,xa,Da,ya,yb,zb,H,O,ga,sb,oa,va=0,Rb=0,vb=0,wb=0,qa,pc=1,Ma,v,D,z=null,u=null,rc,ob,x={},Cb=0,ib,Ja=0,I=0,db=0,Ua=0,ec=0,T=0,da,Ab=[],pa=[],W={},R={},Q=[],Ea=[],Fa=[],Mb=null,kb=null,Fb=null,ta={},Wa=null,Va=null,dc=0,Yb=0,hb,Ra,Gb=!1;this.debug=function(){var a;a="\ncounter_rows_rendered:  "+dc;a+="\ncounter_rows_removed:  "+Yb;a+="\nrenderedRows:  "+Cb;a+="\nnumVisibleRows:  "+ib;a+="\nmaxSupportedCssHeight:  "+
f;a+="\nn(umber of pages):  "+Ha;a+="\n(current) page:  "+Ga;a+="\npage height (ph):  "+Ia;a+="\nvScrollDir:  "+za;alert(a)};this.eval=function(a){return eval(a)};c.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,
onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onFocusTrigger:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,
onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){pa.unshift(a);a.init(p)},unregisterPlugin:r,getColumns:function(){return e},setColumns:Qb,getColumnIndex:function(a){return R[a]},updateColumnHeader:function(a,b,c){if(ea&&(a=R[a],null!=
a)){var d=e[a],f=G.children().eq(a);f&&(void 0!==b&&(e[a].name=b),void 0!==c&&(e[a].toolTip=c),l(p.onBeforeHeaderCellDestroy,{node:f[0],column:d}),f.attr("title",c||"").children().eq(0).html(b),l(p.onHeaderCellRendered,{node:f[0],column:d}))}},setSortColumn:function(a,b){$a([{columnId:a,sortAsc:b}])},setSortColumns:$a,getSortColumns:function(){return Q},autosizeColumns:xb,getOptions:function(){return b},setOptions:function(a){L().commitCurrentEdit()&&(ia(),b.enableAddRow!==a.enableAddRow&&$b(S()),
b=c.extend(b,a),b.autoHeight&&(b.leaveSpaceForNewRows=!1),J.css("overflow-y",b.autoHeight?"hidden":"auto"),N())},getData:function(){return d},getDataLength:S,getDataItem:ha,setData:function(a,b){d=a;wa();jb();b&&sa(0)},getSelectionModel:function(){return da},setSelectionModel:function(a){da&&(da.onSelectedRangesChanged.unsubscribe(Sb),da.destroy&&da.destroy());if(da=a)da.init(p),da.onSelectedRangesChanged.subscribe(Sb)},getSelectedRows:ab,setSelectedRows:function(a){if(!da)throw"Selection model is not set";
da.setSelectedRanges(Rc(a))},getContainerNode:function(){return E.get(0)},render:N,invalidate:function(){jb();wa();N()},invalidateRow:$b,invalidateRows:Zb,invalidateAllRows:wa,updateCell:function(a,b){var c=X(a,b);if(c){var d=e[b],f=ha(a);u&&v===a&&D===b?u.loadValue(f):(c.innerHTML=f?eb(a,d)(a,b,fb(f,d),d,f):"",Eb(a))}},updateRow:Db,getViewport:Pa,getRenderedRange:ac,resizeCanvas:ma,updateRowCount:jb,scrollRowIntoView:Ya,scrollRowToTop:function(a){sa(a*b.rowHeight);N()},scrollCellIntoView:nb,getCanvasNode:function(){return M[0]},
focus:Aa,getCellFromPoint:function(a,b){for(var c=bb(b),d=0,f=0,g=0;g<e.length&&f<a;g++)f+=e[g].width,d++;0>d&&(d=0);return{row:c,cell:d-1}},getCellFromEvent:Xa,getActiveCell:Jb,setActiveCell:function(a,c){!ea||a>S()||0>a||c>=e.length||0>c||!b.enableCellNavigation||(nb(a,c,!1),Ba(X(a,c),!1))},getActiveCellNode:function(){return z},getActiveCellPosition:sc,resetActiveCell:Qa,editActiveCell:mb,getCellEditor:function(){return u},getCellNode:X,getCellNodeBox:function(a,c){if(!Ib(a,c))return null;for(var d=
b.rowHeight*a-K,f=d+b.rowHeight-1,g=0,h=0;h<c;h++)g+=e[h].width;return{top:d,left:g,bottom:f,right:g+e[c].width}},canCellBeSelected:Tb,canCellBeActive:ja,navigatePrev:nc,navigateNext:lc,navigateUp:kc,navigateDown:lb,navigateLeft:ic,navigateRight:jc,navigatePageUp:hc,navigatePageDown:gc,gotoCell:oc,getInnerTopPanel:function(){return Ka[0]},setInnerTopPanelVisibility:function(a){b.showInnerTopPanel!=a&&((b.showInnerTopPanel=a)?Ka.slideDown("fast",ma):Ka.slideUp("fast",ma))},setHeaderRowVisibility:function(a){b.showHeaderRow!=
a&&((b.showHeaderRow=a)?fa.slideDown("fast",ma):fa.slideUp("fast",ma))},getHeaderRow:function(){return ua[0]},getHeaderRowColumn:function(a){a=R[a];return(a=ua.children().eq(a))&&a[0]},getGridPosition:function(){return pb(E[0])},flashCell:function(a,e,d){function f(a){a&&setTimeout(function(){g.queue(function(){g.toggleClass(b.cellFlashingCssClass).dequeue();f(a-1)})},d)}d=d||100;if(x[a]){var g=c(X(a,e));f(4)}},addCellCssStyles:function(a,b){if(W[a])throw"addCellCssStyles: cell CSS hash with key '"+
a+"' already exists.";W[a]=b;Hb(b,null);l(p.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Ub,removeCellCssStyles:function(a){W[a]&&(Hb(null,W[a]),delete W[a],l(p.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return W[a]},init:h,destroy:function(){L().cancelCurrentEdit();l(p.onBeforeDestroy,{});for(var a=pa.length;a--;)r(pa[a]);b.enableColumnReorder&&G.filter(":ui-sortable").sortable("destroy");Da&&(Da.unbind("scroll."+P),Da=null);E.unbind(".slickgrid");xa.remove();
ya=null;M.unbind("draginit dragstart dragend drag");E.empty().removeClass(P)},getEditorLock:L,getEditController:function(){return ob},measureCellPaddingAndBorder:U,beginRender:function(){Gb=!0},endRender:function(a){Gb=!1;0!=a&&N()},onColumnResizerDblClick:new Slick.Event,enableColumnFit:function(){function a(a){var b=a.cloneNode(!0);b.style.cssText="position: absolute; right: auto;text-overflow: initial;white-space: nowrap; visibility: hidden;";a.parentNode.insertBefore(b,a);a=b.offsetWidth;b.parentNode.removeChild(b);
return a}var b=document.createElement("canvas").getContext("2d");p.onColumnResizerDblClick.subscribe(function(c,e){var d=e.column;if(d&&1!=d._nofit){for(var f=R[d.id],g=G.children()[f],g=g?a(g)+8:0,h=0,k=Pa(),m=k.top,w=k.top;w<k.bottom;++w)if(x[w]){Sa(w);var n=x[w].cellNodesByColumnIdx[f],n=n?b.measureText(n.textContent||"").width:0;n>h&&(h=n,m=w)}f=x[m]?1+a(x[m].cellNodesByColumnIdx[f]):0;f=Math.max(g,f);0<f&&f!=d.width&&(d.width=f,ub(),q(!0),l(p.onColumnsResized,{}))}})},getRowNode:function(a){return x[a]?
x[a].rowNode:null},getCellNodeFromEvent:function(a){a=c(a.target).closest(".slick-cell",M);if(!a.length)return null;var b=Lb(a[0].parentNode),e=Kb(a[0]);return null==b||null==e?null:{row:b,cell:e,$cell:a}}});(function(){E=c(a);if(1>E.length)throw Error("SlickGrid requires a valid container, "+a+" does not exist in the DOM.");var d;if(!(d=f)){d=1E6;for(var l=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,m=c("<div style='display:none' />").appendTo(document.body);;){var w=2*d;m.css("height",
w);if(w>l||m.height()!==w)break;else d=w}m.remove()}f=d;(d=k)||(d=c("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),l={width:d.width()-d[0].clientWidth,height:d.height()-d[0].clientHeight},d.remove(),d=l);k=d;b=c.extend({},Sc,b);b.autoHeight&&(b.leaveSpaceForNewRows=!1);Bb.width=b.defaultColumnWidth;R={};for(d=0;d<e.length;d++)l=e[d]=c.extend({},Bb,e[d]),R[l.id]=d,l.minWidth&&l.width<l.minWidth&&(l.width=l.minWidth),
l.maxWidth&&l.width>l.maxWidth&&(l.width=l.maxWidth);if(b.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");ob={commitCurrentEdit:Pc,cancelCurrentEdit:Qc};E.empty().css("overflow","hidden").css("outline",0).addClass(P).addClass("ui-widget");/relative|absolute|fixed/.test(E.css("position"))||E.css("position","relative");Za=c("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(E);
Ca=c("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(E);G=c("<div class='slick-header-columns' style='left:-1000px' />").appendTo(Ca);G.width(C());fa=c("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(E);ua=c("<div class='slick-headerrow-columns' />").appendTo(fa);Ob=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",n()+k.width+"px").appendTo(fa);
Ta=c("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(E);c("<div class='slick-top-panel' style='width:10000px' />").appendTo(Ta);b.showTopPanel||Ta.hide();b.showHeaderRow||fa.hide();J=c("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(E);J.css("overflow-y",b.autoHeight?"hidden":"auto");M=c("<div class='grid-canvas' />").appendTo(J);Ka=c("<div class='grid-inner-top-panel'/>").prependTo(J);
b.showInnerTopPanel||Ka.hide();rb=Za.clone().appendTo(E);b.explicitInitialization||h()})()}}});var k,f})(jQuery);(function(c){c.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(c,f,a,d,e){return null==a||""===a?"-":50>a?"<span style='color:red;font-weight:bold;'>"+a+"%</span>":"<span style='color:green'>"+a+"%</span>"},PercentCompleteBar:function(c,f,a,d,e){return null==a||""===a?"":"<span class='percent-complete-bar' style='background:"+(30>a?"red":70>a?"silver":"green")+";width:"+a+"%'></span>"},YesNo:function(c,f,a,d,e){return a?"Yes":"No"},Checkmark:function(c,f,a,d,e){return a?"<img src='../images/tick.png'>":
""}}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{Editors:{Text:function(k){var f,a;this.init=function(){f=c("<INPUT type=text class='editor-text' />").appendTo(k.container).bind("keydown.nav",function(a){a.keyCode!==c.ui.keyCode.LEFT&&a.keyCode!==c.ui.keyCode.RIGHT||a.stopImmediatePropagation()}).focus().select()};this.destroy=function(){f.remove()};this.focus=function(){f.focus()};this.getValue=function(){return f.val()};this.setValue=function(a){f.val(a)};this.loadValue=function(c){a=c[k.column.field]||
"";f.val(a);f[0].defaultValue=a;f.select()};this.serializeValue=function(){return f.val()};this.applyValue=function(a,c){a[k.column.field]=c};this.isValueChanged=function(){return!(""==f.val()&&null==a)&&f.val()!=a};this.validate=function(){if(k.column.validator){var a=k.column.validator(f.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()},Integer:function(k){var f,a;this.init=function(){f=c("<INPUT type=text class='editor-text' />");f.bind("keydown.nav",function(a){a.keyCode!==c.ui.keyCode.LEFT&&
a.keyCode!==c.ui.keyCode.RIGHT||a.stopImmediatePropagation()});f.appendTo(k.container);f.focus().select()};this.destroy=function(){f.remove()};this.focus=function(){f.focus()};this.loadValue=function(c){a=c[k.column.field];f.val(a);f[0].defaultValue=a;f.select()};this.serializeValue=function(){return parseInt(f.val(),10)||0};this.applyValue=function(a,c){a[k.column.field]=c};this.isValueChanged=function(){return!(""==f.val()&&null==a)&&f.val()!=a};this.validate=function(){return isNaN(f.val())?{valid:!1,
msg:"Please enter a valid integer"}:{valid:!0,msg:null}};this.init()},Date:function(k){var f,a,d=!1;this.init=function(){f=c("<INPUT type=text class='editor-text' />");f.appendTo(k.container);f.focus().select();f.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){d=!0},onClose:function(){d=!1}});f.width(f.width()-18)};this.destroy=function(){c.datepicker.dpDiv.stop(!0,!0);f.datepicker("hide");f.datepicker("destroy");f.remove()};this.show=function(){d&&
c.datepicker.dpDiv.stop(!0,!0).show()};this.hide=function(){d&&c.datepicker.dpDiv.stop(!0,!0).hide()};this.position=function(a){d&&c.datepicker.dpDiv.css("top",a.top+30).css("left",a.left)};this.focus=function(){f.focus()};this.loadValue=function(c){a=c[k.column.field];f.val(a);f[0].defaultValue=a;f.select()};this.serializeValue=function(){return f.val()};this.applyValue=function(a,b){a[k.column.field]=b};this.isValueChanged=function(){return!(""==f.val()&&null==a)&&f.val()!=a};this.validate=function(){return{valid:!0,
msg:null}};this.init()},YesNoSelect:function(k){var f,a;this.init=function(){f=c("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");f.appendTo(k.container);f.focus()};this.destroy=function(){f.remove()};this.focus=function(){f.focus()};this.loadValue=function(c){f.val((a=c[k.column.field])?"yes":"no");f.select()};this.serializeValue=function(){return"yes"==f.val()};this.applyValue=function(a,c){a[k.column.field]=c};this.isValueChanged=
function(){return f.val()!=a};this.validate=function(){return{valid:!0,msg:null}};this.init()},Checkbox:function(k){var f,a;this.init=function(){f=c("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");f.appendTo(k.container);f.focus()};this.destroy=function(){f.remove()};this.focus=function(){f.focus()};this.loadValue=function(c){(a=!!c[k.column.field])?f.prop("checked",!0):f.prop("checked",!1)};this.serializeValue=function(){return f.prop("checked")};this.applyValue=function(a,
c){a[k.column.field]=c};this.isValueChanged=function(){return this.serializeValue()!==a};this.validate=function(){return{valid:!0,msg:null}};this.init()},PercentComplete:function(k){var f,a,d;this.init=function(){f=c("<INPUT type=text class='editor-percentcomplete' />");f.width(c(k.container).innerWidth()-25);f.appendTo(k.container);a=c("<div class='editor-percentcomplete-picker' />").appendTo(k.container);a.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");
a.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");f.focus().select();a.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:d,slide:function(a,b){f.val(b.value)}});a.find(".editor-percentcomplete-buttons button").bind("click",function(d){f.val(c(this).attr("val"));a.find(".editor-percentcomplete-slider").slider("value",c(this).attr("val"))})};this.destroy=
function(){f.remove();a.remove()};this.focus=function(){f.focus()};this.loadValue=function(a){f.val(d=a[k.column.field]);f.select()};this.serializeValue=function(){return parseInt(f.val(),10)||0};this.applyValue=function(a,b){a[k.column.field]=b};this.isValueChanged=function(){return!(""==f.val()&&null==d)&&(parseInt(f.val(),10)||0)!=d};this.validate=function(){return isNaN(parseInt(f.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}};this.init()},LongText:function(k){var f,
a,d,e=this;this.init=function(){var b=c("body");a=c("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(b);f=c("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(a);c("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(a);a.find("button:first").bind("click",this.save);a.find("button:last").bind("click",
this.cancel);f.bind("keydown",this.handleKeyDown);e.position(k.position);f.focus().select()};this.handleKeyDown=function(a){a.which==c.ui.keyCode.ENTER&&a.ctrlKey?e.save():a.which==c.ui.keyCode.ESCAPE?(a.preventDefault(),e.cancel()):a.which==c.ui.keyCode.TAB&&a.shiftKey?(a.preventDefault(),k.grid.navigatePrev()):a.which==c.ui.keyCode.TAB&&(a.preventDefault(),k.grid.navigateNext())};this.save=function(){k.commitChanges()};this.cancel=function(){f.val(d);k.cancelChanges()};this.hide=function(){a.hide()};
this.show=function(){a.show()};this.position=function(b){a.css("top",b.top-5).css("left",b.left-5)};this.destroy=function(){a.remove()};this.focus=function(){f.focus()};this.loadValue=function(a){f.val(d=a[k.column.field]);f.select()};this.serializeValue=function(){return f.val()};this.applyValue=function(a,c){a[k.column.field]=c};this.isValueChanged=function(){return!(""==f.val()&&null==d)&&f.val()!=d};this.validate=function(){return{valid:!0,msg:null}};this.init()}}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{AutoTooltips:function(k){function f(a){if((a=d.getCellNodeFromEvent(a))&&!d.getColumns()[a.cell]._notip){a=a.$cell;k.tipHandle&&(a=a.find(k.tipHandle));var b=a[0];if(b.tt_oldsw!=b.scrollWidth){var e;a.innerWidth()<b.scrollWidth?(e=c.trim(a.text()),k.maxToolTipLength&&e.length>k.maxToolTipLength&&(e=e.substr(0,k.maxToolTipLength-3)+"...")):e="";b.tt_oldsw=b.scrollWidth;a.attr("title",e)}}}function a(a,d){var b=d.column,e=c(a.target).closest(".slick-header-column");
b.toolTip||e.attr("title",e.innerWidth()<e[0].scrollWidth?b.name:"")}var d,e={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null,tipHandle:null};c.extend(this,{init:function(b){k=c.extend(!0,{},e,k);d=b;k.enableForCells&&d.onMouseEnter.subscribe(f);k.enableForHeaderCells&&d.onHeaderMouseEnter.subscribe(a)},destroy:function(){k.enableForCells&&d.onMouseEnter.unsubscribe(f);k.enableForHeaderCells&&d.onHeaderMouseEnter.unsubscribe(a)},config:function(a,c){k[a]=c}})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{RowSelectionModel:function(k){function f(a){return function(){ka||(ka=!0,a.apply(this,arguments),ka=!1)}}function a(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c].fromRow;d<=a[c].toRow;d++)b.push(d);return b}function d(a){for(var b=[],c=q.getColumns().length-1,d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function e(a,b){var c,d=[];for(c=a;c<=b;c++)d.push(c);for(c=b;c<a;c++)d.push(c);return d}function b(){return a(A)}function h(a){A=
a;m.onSelectedRangesChanged.notify(A)}function r(a,b){F.selectActiveRow&&null!=b.row&&h([new Slick.Range(b.row,0,b.row,q.getColumns().length-1)])}function C(a){var c=q.getActiveCell();if(c&&a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&(38==a.which||40==a.which)){var f=b();f.sort(function(a,b){return a-b});f.length||(f=[c.row]);var k=f[0],f=f[f.length-1],c=40==a.which?c.row<f||k==f?++f:++k:c.row<f?--f:--k;0<=c&&c<q.getDataLength()&&(q.scrollRowIntoView(c),A=d(e(k,f)),h(A));a.preventDefault();a.stopPropagation()}}
function n(b){var e=q.getCellFromEvent(b);if(!(e&&q.canCellBeActive(e.row,e.cell)&&q.getOptions().multiSelect&&(b.ctrlKey||b.shiftKey||b.metaKey)))return!1;var f=a(A),k=c.inArray(e.row,f);if(-1===k&&(b.ctrlKey||b.metaKey))f.push(e.row),q.setActiveCell(e.row,e.cell);else if(-1!==k&&(b.ctrlKey||b.metaKey))f=c.grep(f,function(a,b){return a!==e.row}),q.setActiveCell(e.row,e.cell);else if(f.length&&b.shiftKey){for(var k=f.pop(),m=Math.min(e.row,k),n=Math.max(e.row,k),f=[];m<=n;m++)m!==k&&f.push(m);f.push(k);
q.setActiveCell(e.row,e.cell)}A=d(f);h(A);b.stopImmediatePropagation();return!0}var q,A=[],m=this,B=new Slick.EventHandler,ka,F,la={selectActiveRow:!0};c.extend(this,{getSelectedRows:b,setSelectedRows:function(a){h(d(a))},getSelectedRanges:function(){return A},setSelectedRanges:h,init:function(a){F=c.extend(!0,{},la,k);q=a;B.subscribe(q.onActiveCellChanged,f(r));B.subscribe(q.onKeyDown,f(C));B.subscribe(q.onClick,f(n))},destroy:function(){B.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{RowMoveManager:function(k){function f(a,b){a.stopImmediatePropagation()}function a(a,e){var d=b.getCellFromEvent(a);k.cancelEditOnDrag&&b.getEditorLock().isActive()&&b.getEditorLock().cancelCurrentEdit();if(b.getEditorLock().isActive()||!/move|selectAndMove/.test(b.getColumns()[d.cell].behavior))return!1;r=!0;a.stopImmediatePropagation();var f=b.getSelectedRows();if(0==f.length||-1==c.inArray(d.row,f))f=[d.row],b.setSelectedRows(f);d=b.getOptions().rowHeight;
e.selectedRows=f;e.selectionProxy=c("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",c(h).innerWidth()).css("height",d*f.length).css("top",a.pageY-c(h).offset().top-5).appendTo(h);e.guide=c("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",c(h).innerWidth()).css("top",-1E3).appendTo(h);e.insertBefore=-1}function d(a,d){if(r){a.stopImmediatePropagation();var e=a.pageY-c(h).offset().top;d.selectionProxy.css("top",
e-5);e=Math.max(0,Math.min(Math.round(e/b.getOptions().rowHeight),b.getDataLength()));e!==d.insertBefore&&(!1===C.onBeforeMoveRows.notify({rows:d.selectedRows,insertBefore:e})?(d.guide.css("top",-1E3),d.canMove=!1):(d.guide.css("top",e*b.getOptions().rowHeight),d.canMove=!0),d.insertBefore=e)}}function e(a,b){r&&(r=!1,a.stopImmediatePropagation(),b.guide.remove(),b.selectionProxy.remove(),b.canMove&&C.onMoveRows.notify({rows:b.selectedRows,insertBefore:b.insertBefore}))}var b,h,r,C=this,n=new Slick.EventHandler,
q={cancelEditOnDrag:!1};c.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:function(r){k=c.extend(!0,{},q,k);b=r;h=b.getCanvasNode();n.subscribe(b.onDragInit,f).subscribe(b.onDragStart,a).subscribe(b.onDrag,d).subscribe(b.onDragEnd,e)},destroy:function(){n.unsubscribeAll()}})}}})})(jQuery);

(function(b){b.fn.numeric=function(a,e){"boolean"===typeof a&&(a={ic:a});a=a||{};"undefined"==typeof a.jc&&(a.jc=!0);var m=!1===a.ic?"":a.ic||".",c=!0===a.jc?!0:!1;e="function"==typeof e?e:function(){};return this.data("numeric.decimal",m).data("numeric.negative",c).data("numeric.callback",e).keypress(b.fn.numeric.keypress).keyup(b.fn.numeric.keyup).blur(b.fn.numeric.blur)};b.fn.numeric.keypress=function(a){var e=b.data(this,"numeric.decimal"),m=b.data(this,"numeric.negative"),c=a.charCode?a.charCode:
a.keyCode?a.keyCode:0;if(13==c&&"input"==this.nodeName.toLowerCase())return!0;if(13==c)return!1;var d=!1;if(a.ctrlKey&&97==c||a.ctrlKey&&65==c||a.ctrlKey&&120==c||a.ctrlKey&&88==c||a.ctrlKey&&99==c||a.ctrlKey&&67==c||a.ctrlKey&&122==c||a.ctrlKey&&90==c||a.ctrlKey&&118==c||a.ctrlKey&&86==c||a.shiftKey&&45==c)return!0;if(48>c||57<c){var g=b(this).val();if(0!==g.indexOf("-")&&m&&45==c&&(!g.length||!parseInt(b.fn.lc(this),10)))return!0;e&&c==e.charCodeAt(0)&&-1!=g.indexOf(e)&&(d=!1);8!=c&&9!=c&&13!=c&&
35!=c&&36!=c&&37!=c&&39!=c&&46!=c?d=!1:"undefined"!=typeof a.charCode&&(a.keyCode==a.which&&0!==a.which?(d=!0,46==a.which&&(d=!1)):0!==a.keyCode&&0===a.charCode&&0===a.which&&(d=!0));e&&c==e.charCodeAt(0)&&(d=-1==g.indexOf(e)?!0:!1)}else d=!0;return d};b.fn.numeric.keyup=function(){var a=b(this).val();if(a&&0<a.length){var e=b.data(this,"numeric.decimal"),m=b.data(this,"numeric.negative");if(""!==e&&null!==e){var c=a.indexOf(e);0===c&&(this.value="0"+a);1==c&&"-"==a.charAt(0)&&(this.value="-0"+a.substring(1));
a=this.value}for(var d=[0,1,2,3,4,5,6,7,8,9,"-",e],c=a.length,g=c-1;0<=g;g--){var w=a.charAt(g);g&&"-"==w?a=a.substring(0,g)+a.substring(g+1):g||m||"-"!=w||(a=a.substring(1));for(var r=!1,z=0;z<d.length;z++)if(w==d[z]){r=!0;break}r&&" "!=w||(a=a.substring(0,g)+a.substring(g+1))}m=a.indexOf(e);if(0<m)for(--c;c>m;c--)a.charAt(c)==e&&(a=a.substring(0,c)+a.substring(c+1));this.value=a}};b.fn.numeric.blur=function(){function a(a){if(a.max&&parseInt(a.value)>parseInt(a.max))a.value=a.max;else if(a.min)a.value=
a.min;else return;b(a).change()}var e=b.data(this,"numeric.decimal"),m=b.data(this,"numeric.callback"),c=this.value;""!==c?(new RegExp("^\\d+$|^\\d*"+e+"\\d+$")).exec(c)&&this.validity.valid||(a(this),m.apply(this)):(a(this),m.apply(this))};b.fn.mc=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",b.fn.numeric.keypress).unbind("blur",b.fn.numeric.blur)}})(jQuery);window._gaq=window._gaq||[];window._gaq.push(["_setAccount","UA-32450437-3"],["_setDetectFlash",!1],["_setDetectTitle",!1],["_trackPageview"]);function q(b,a,e){window._gaq.push(["_trackEvent","sets",b,a,e,void 0])}window.addEventListener("load",function(){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://ssl.google-analytics.com/ga.js";document.body.appendChild(b)});var u=localStorage;var v=chrome.i18n.getMessage;
function G(){function b(a,b){for(var m="i18n-"+a,c=document.querySelectorAll("["+m+"]"),d=0;d<c.length;++d){var g=v(c[d].attributes[m].value);c[d][b]=g;c[d].removeAttribute(m)}}b("text","innerText");b("title","title");b("href","href");b("placeholder","placeholder");(function(a,b){for(var m="i18n-"+a,c=document.querySelectorAll("["+m+"]"),d=0;d<c.length;++d){var g=v(c[d].attributes[m].value);c[d].setAttribute(b,g);c[d].removeAttribute(m)}})("tooltip","data-tooltip");(function(a,b){for(var m="i18n-"+
a,c=document.querySelectorAll("["+m+"]"),d=0;d<c.length;++d){var g=c[d].attributes[m].value.split(","),e=g[0];g.shift();g=v(e,g);c[d][b]=g;c[d].removeAttribute(m)}})("textparams","innerText");"undefined"!=typeof I&&K()}
function K(){var b=I.get("font_size");document.documentElement.classList.contains("fs-none")||(document.documentElement.style.fontSize&&document.documentElement.classList.remove("fs-"+document.documentElement.style.fontSize),document.documentElement.style.fontSize=b+"px",document.documentElement.classList.add("fs-"+b+"px"))};function L(){document.oncontextmenu=function(b){var a=b.target.nodeName.toLowerCase(),e=b.target.type&&b.target.type.toLowerCase();if(!b.target.classList.contains("allow-ctx-menu")&&(b.target.disabled||"textarea"!=a&&("input"!=a||"text"!=e&&"number"!=e)))return!1}};var O=["",[String.fromCharCode(103),String.fromCharCode(108),String.fromCharCode(99)].join(""),"1_"].join("_");function P(){var b;b=void 0;var a=u[O+"fe_us"];if(void 0!=a)try{b=JSON.parse(atob(a[1]+a.substr(3)))}catch(e){}a=Date.now();return!b||!b._t||isNaN(b._t)||!isFinite(b._t)||6048E5<a-b._t?{_t:a}:b}
function R(){var b;b=b||1;var a=P(),e=function(){return btoa(["h","e","l","p"].map(function(a){var c=a.charCodeAt(0),b=0;"_"!=a&&(b=60<c?-55:53);return String.fromCharCode(c+b)}).join(""))}()+"";a[e]=(a[e]||0)+b;(function(a,b){var c=btoa(JSON.stringify(b));u[O+a]=String.fromCharCode(97+Math.floor(26*Math.random()))+c[0]+String.fromCharCode(97+Math.floor(26*Math.random()))+c.substr(1)})("fe_us",a)};function aa(){var b=$(".share_buttons");function a(a,b,d,g,e){$.get(d,function(){a.find("."+b).html('<iframe allowTransparency="true" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+g+"px; height:"+e+'px;" src="'+d+'"></iframe>')}).error(function(){})}var e='<span style="padding-right:18px">\r\n\t\t\t<a href="https://chrome.google.com/webstore/detail/chrono-download-manager/mciiogijehkdemklbdcbfkefimifhecn/reviews" target="_blank">\r\n\t\t\t<img style="vertical-align:bottom" width=21 height=21 alt="Rate" src="../icons/cws.png"/>\r\n\t\t\t<span>'+
v("btnRate")+'</span>\r\n\t\t\t</a>\r\n\t\t</span><span class="fb_span"></span>\r\n\t\t<span class="gp_span"></span>\r\n\t\t<span class="tw_span"></span>\r\n\t\t<span class="lkin_span"></span>\r\n\t\t<span class="pin_span"></span>\r\n\t\t<span class="rd_span"></span>\r\n\t\t<span class="stupon_span"></span>\r\n\t\t<span class="del_span"></span>\r\n\t\t<span class="tblr_span"></span>\r\n\t\t<span class="cn_span"></span>';b.each(function(){var b=$(this);b.html(e);"zh-CN"!=v("uilang")&&(a(b,"fb_span",
"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fchrono-download-manager%2Fmciiogijehkdemklbdcbfkefimifhecn&width=130&layout=button_count&action=like&show_faces=false&share=true&height=21",130,21),a(b,"gp_span","http://www.chronodownloader.net/gplus.html",80,21),a(b,"tw_span","https://platform.twitter.com/widgets/tweet_button.html?text="+encodeURIComponent("Try out the best Download Manager for Chrome!")+"&url="+encodeURIComponent("https://chrome.google.com/webstore/detail/chrono-download-manager/mciiogijehkdemklbdcbfkefimifhecn")+
"&counturl"+encodeURIComponent("https://chrome.google.com/webstore/detail/chrono-download-manager/mciiogijehkdemklbdcbfkefimifhecn"),100,20),a(b,"pin_span","http://www.chronodownloader.net/pinit.html",100,21))})};_ga_where="set";_a_fields=["id","text"];var U=chrome.extension.getBackgroundPage(),ba=U.dy_bkg,I=U.dy_settings,Z=U.dy_rules;
$(function(){$("#help_holder").load(v("helpFile"),function(){$("#about_holder").load(v("aboutFile"),function(){function b(a){var b=I.getCat(a),c=b.name,x=$("#dy_"+a+" .content");$("#dy_"+a+" header").html("<h1>"+c+"</h1>");$(".menu a[href=#"+a+"]").text(c);a="";for(var c=[],d=0,g=b.sections.length;d<g;++d){var e=b.sections[d];a+="<section"+(e.id?' id="'+e.id+'">':">");e.name&&(a+="<h3>"+e.name,e.tip&&(a+='<span class="simptip-position-top" data-tooltip="'+e.tip+'"></span>'),a+="</h3>");e.description&&
(a+="<div>"+e.description+"</div>");for(var m=0,r=e.items.length;m<r;++m){var t=e.items[m],k=I.getRaw(t);if(!k.native_only){var A="";k.tip&&(A=k.tipURL?'<a class="simptip-position-top" data-tooltip="'+k.tip+'" target=_blank href="'+k.tipURL+'"></a>':'<span class="simptip-position-top" data-tooltip="'+k.tip+'"></span>');switch(k.type){case "button":A="<button"+(k.onclick?' id="optbtn_'+t+'"':"")+">"+k.buttonText+"</button>";a+="<div>"+(k.label?'<label>\t\t\t\t\t\t\t\t<span class="field_label">'+k.label+
"</span>"+A+"</label>":A)+(k.kc?"<span>"+k.kc+"</span>":"")+"<div>";k.onclick&&c.push(t);break;case "bool":a+='<div class="checkbox">\t\t\t\t\t\t\t<label>\t\t\t\t\t\t\t\t<input id="'+t+'"'+(1==k.value?' checked="checked"':"")+' type="checkbox">\t\t\t\t\t\t\t\t<span style="margin-left:5px">'+k.label+"</span>\t\t\t\t\t\t\t</label>"+A+"</div>";break;case "string":a+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+k.label+A+'</span>\t\t\t\t\t\t\t<input id="'+t+'" value="'+k.value+'"'+
(k.placeholder?' placeholder="'+k.placeholder+'"':"")+' type="text">\t\t\t\t\t\t</label>\t\t\t\t\t\t</div>';break;case "int":a+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+k.label+A+'</span>\t\t\t\t\t\t\t<input id="'+t+'" min="'+k.min+'" max="'+k.max+'" value="'+k.value+'" type="number" >\t\t\t\t\t\t</label>\t\t\t\t\t\t<span>('+k.min+"-"+k.max+")</span>\t\t\t\t\t\t</div>";break;case "select":a+='<div><label><span class="field_label">'+k.label+A+'</span>\t\t\t\t\t\t<select id="'+
t+'">';for(t=0;t<k.options.length;++t)a=Array.isArray(k.options[t])?a+("<option value="+k.options[t][1]+">"+k.options[t][0]+"</option>"):a+("<option>"+k.options[t]+"</option>");a+="</select></label></div>"}}}a+="</section>"}$(x).append(a);$(x).find("section").each(function(){var a=-1;$(this).find(".field_label").each(function(){var b=$(this).width();b>a&&(a=b)});$(this).find(".field_label").css("width",a+5)});for(d=0;d<c.length;++d)t=c[d],$("#optbtn_"+t).click(I.getRaw(t).onclick)}function a(a,b,
c){return'<div class="'+(c?"cell_active":"cell_inactive")+'"><img src="../icons/tick.png"/></div>'}function e(a,b,c){a.setSelectionModel(new Slick.RowSelectionModel);var d=new Slick.RowMoveManager({cancelEditOnDrag:!0});d.onBeforeMoveRows.subscribe(function(a,b){for(var c=b.rows,d=b.insertBefore,x=0;x<c.length;x++)if(c[x]==d||c[x]==d-1)return a.stopPropagation(),!1;return!0});d.onMoveRows.subscribe(function(d,x){var e=[],g,B=x.rows,m=x.insertBefore;B.sort(function(a,b){return a-b});for(var k=0;k<
B.length;k++)e.push(b[B[k]]);B.reverse();g=b.splice(m,b.length);for(k=0;k<B.length;k++){var r=B[k];r<m?b.splice(r,1):g.splice(r-m,1)}m=b.length;b.push.apply(b,e.concat(g));c();e=[];for(k=0;k<B.length;k++)e.push(m+k);a.setSelectedRows(e);a.invalidateAllRows();a.render()});a.registerPlugin(d)}function m(a,b){return b-a}function c(){var a=(window.location.hash||"#general").split(".",2);$(".menu a[href="+a[0]+"]").click();a[1]&&($("#"+a[1]).addClass("section-highlighted"),"help"==a[1]&&R())}chrome.runtime.onMessage.addListener(function(a){switch(a.cmd){case "u_font_size":$("#font_size").blur()}});
$.fn.nc=function(){var a=$(this).children(),b=$('<span style="display: inline-block;" />');a.wrap(b);b=a.parent().width();a.unwrap();return b};"undefined"===typeof trim_str&&(trim_str=function(a){return a?a.trim():""});var d,g=1,w=[{id:g++,name:v("phraseEnable"),field:"filter_links",toolTip:v("tipExtFilterEnable"),editor:Slick.Editors.Checkbox,formatter:a,sortable:!0,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:g++,name:v("headExtFilterCaption"),field:"caption",editor:Slick.Editors.Text,sortable:!0,
behavior:"selectAndMove",width:150},{id:g++,name:v("headExtFilterRefName"),field:"int_name",toolTip:v("tipExtFilterRefName"),editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:150},{id:g++,name:v("headExtFilterExts"),field:"exts",editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:250}],r,g=1,g=[{id:g++,name:v("headRulesActive"),field:"active",toolTip:v("tipRulesActive"),editor:Slick.Editors.Checkbox,formatter:a,sortable:!1,behavior:"selectAndMove",cannotTriggerInsert:!0},
{id:g++,name:v("headRulesAsFilter"),field:"as_filter",toolTip:v("tipRulesAsFilter"),editor:Slick.Editors.Checkbox,formatter:a,sortable:!1,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:g++,name:v("headRulesCaption"),field:"caption",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:g++,name:v("headRulesRefName"),field:"int_name",toolTip:v("tipRulesRefName"),editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:g++,name:v("headRulesCondition"),
field:"condition",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:220},{id:g++,name:v("fieldFolder"),field:"folder",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove"},{id:g++,name:v("fieldNaming"),field:"naming",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110}];window.unload=function(){I.commit();U.console.log("settings changes saved")};L();G();(function(){$(".menu a").click(function(a){$(".section-highlighted").removeClass("section-highlighted");
$(".mainview > *").removeClass("selected");$(".menu li").removeClass("selected");setTimeout(function(){$(".mainview > *:not(.selected)").css("display","none")},100);$(a.currentTarget).parent().addClass("selected");a=($(a.currentTarget).attr("href")||"#").replace("#","#dy_");"#dy_about"!=a||$(".share_buttons").children().length||($("#version-number").text(chrome.runtime.getManifest().version),aa());var b=$(a);b.css("display","block");setTimeout(function(){b.addClass("selected")},0);setTimeout(function(){$("body")[0].scrollTop=
0},200);I.commit()})})();b("general");b("interface");b("rules");$("#dy_panic_reset").click(function(){confirm(v("confirmReset"))&&($("#dy_panic_reset").prop("disabled",!0),ba.reset())});(function(){for(var a in I.items){var b=I.items[a],c=$("#"+a);switch(b.type){case "bool":c.attr("checked",b.value);c.change(function(){I.set(this.id,this.checked);q(this.id,""+this.checked)});break;case "string":c.val(b.value);c.change(function(){var a=(this.value||"").trim();I.set(this.id,a);q(this.id,a);a!=this.value&&
(this.value=a)});break;case "int":c.val(b.value);c.change(function(){var a=parseInt(this.value);I.set(this.id,a)&&q(this.id,"",a)});break;case "select":Array.isArray(b.options[0])?c.val(b.value):c.val(b.options[b.value]),c.change(function(){var a=parseInt(this.value);if(isNaN(a)||!isFinite(a))a=parseInt(this.selectedIndex);I.set(this.id,a);q(this.id,""+a)})}}})();$("input[type=number]").numeric({ic:!1,jc:!1});$("#dy_opendy").click(function(){chrome.runtime.sendMessage({cmd:"open_ui"},function(a){a&&
window.close()})});var z=v("translateContributors");z?$("#translation_info").html("This "+v("uilangName")+" language version is translated by "+z+("."==z[z.length-1]?"":".")+' Please help us improve <span id="btn_translation_site" style="cursor:pointer">translation<img width=24 height=24 style="vertical-align:text-bottom" src="../icons/language.png"/></span>.'):$("#translation_info").html('Help us with <span id="btn_translation_site" style="cursor:pointer">translation<img width=24 height=24 style="vertical-align:text-bottom" src="../icons/language.png"/></span>!');
$("#btn_translation_site").click(function(){chrome.tabs.create({url:"http://translate.chronodownloader.net"})});$(".simpletable tbody").hide();$(".simpletable thead").click(function(){$(this).next().toggle()});var E=Z.getLinkFilters(),F=Z.getRules();d=new Slick.Grid("#cats_grid",E,w,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});d.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,enableForCells:!0,maxToolTipLength:256}));for(w=0;w<g.length;++w)if("folder"==g[w].field){g.splice(w,
1);break}r=new Slick.Grid("#rules_grid",F,g,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});r.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,enableForCells:!0,maxToolTipLength:256}));e(d,E,Z.on_filters_change);e(r,F,Z.on_rules_change);$("#cats_grid").on("blur","input",function(){setTimeout(function(){var a=d.getEditorLock();a.isActive()&&!$("#cats_grid :focus").length&&a.commitCurrentEdit()})});$("#rules_grid").on("blur","input",function(){setTimeout(function(){var a=
r.getEditorLock();a.isActive()&&!$("#rules_grid :focus").length&&a.commitCurrentEdit()})});d.onCellChange.subscribe(Z.on_filters_change);r.onCellChange.subscribe(Z.on_rules_change);d.onAddNewRow.subscribe(function(a,b){Z.addFilter(b.item);d.updateRowCount();d.invalidateRow(E.length-1);d.render()});d.onKeyDown.subscribe(function(a){var b=d.getSelectedRows().slice(0);if(46==a.keyCode&&!d.getEditorLock().isActive()&&0<b.length&&confirm(v("confirmRemoveExtFilter"))){b.sort(m);for(a=0;a<b.length;++a)E.splice(b[a],
1);Z.on_filters_change();d.setSelectedRows([]);d.invalidate()}});r.onAddNewRow.subscribe(function(a,b){Z.addRule(b.item);r.updateRowCount();r.invalidateRow(F.length-1);r.render()});r.onKeyDown.subscribe(function(a){var b=r.getSelectedRows().slice(0);if(46==a.keyCode&&!r.getEditorLock().isActive()&&0<b.length&&confirm(v("confirmRemoveRule"))){b.sort(m);for(a=0;a<b.length;++a)F.splice(b[a],1);Z.on_rules_change();r.setSelectedRows([]);r.invalidate()}});d.onSort.subscribe(function(a,b){var c=b.sortCol.field,
e=b.sortAsc;E.sort(function(a,b){var d=a[c]<b[c]?-1:1;return e?d:-d});Z.on_filters_change();d.invalidateAllRows();d.render()});r.onSort.subscribe(function(a,b){var c=b.sortCol.field,d=b.sortAsc;F.sort(function(a,b){var e=a[c]<b[c]?-1:1;return d?e:-e});Z.on_rules_change();r.invalidateAllRows();r.render()});d.enableColumnFit();r.enableColumnFit();window.onhashchange=c;c()})})});

