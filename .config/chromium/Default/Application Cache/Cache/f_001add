function oSf(a){if(a.D)return a.D;a.D=[];var b=HSb(a);a.D=Cc(b,function(c){var d=N0d(a,c);if(G(d,12))return new pX(null,ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(G(d,12)));c=a.V.Vc(Lf.Aa(),ritz_api.RitzModelApi.getWorkbookRangeById(c,!1));return new pX(ul(c),null)});return a.D}function pSf(a,b,c){return Xy(T$a(Zy(Vy(a).Gg),Zy(Vy(b).Gg),c))}function qSf(a){var b=a.C.cloneNode(!1);a.qa().Mr(b,a.C);return b}
function rSf(a,b){var c=b.getContext("2d"),d=DM(a.D),e=a.D.gc(),f=pN(a.D),h=qN(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;lnc(a.C,c,0,0,0,0,d.width,h);lnc(a.C,c,e,h,e,h,f,k)}function sSf(a,b,c){rJ.call(this,131);this.F=a;this.J=b;this.C=c}x(sSf,rJ);sSf.prototype.Od=function(){var a=new hHb;H(a,1,this.F);H(a,4,this.C);var b=aue(this.J);H(a,3,b);return a};function tSf(a,b){rJ.call(this,40);this.C=b}A(tSf,rJ);tSf.prototype.c4=function(){xib.Kb()};tSf.prototype.Od=function(){var a=new tFb;H(a,1,this.C);return a};tSf.prototype.dh=Nd;tSf.prototype.gk=n("Filter view deleted");function uSf(a,b){rJ.call(this,132);this.C=a;this.F=b}x(uSf,rJ);uSf.prototype.Od=function(){var a=new jHb;H(a,1,this.C);H(a,2,this.F);return a};uSf.prototype.dh=n(!1);function vSf(a,b,c){rJ.call(this,41);this.C=b;this.F=c}A(vSf,rJ);vSf.prototype.Od=function(){var a=new vFb;H(a,1,this.C);H(a,2,this.F);return a};vSf.prototype.dh=Nd;vSf.prototype.gk=n("Filter view duplicated");function wSf(a,b,c){rJ.call(this,43);this.F=b;this.C=c}A(wSf,rJ);wSf.prototype.Od=function(){var a=new tF;H(a,1,this.F);a.Gd(this.C);return a};wSf.prototype.dh=Nd;wSf.prototype.gk=function(){return"Filter view renamed to "+this.C};function xSf(a,b,c,d){rJ.call(this,70);this.O=a.wc();this.F=b;this.J=c;this.C=d}A(xSf,rJ);xSf.prototype.Od=function(){var a=new ZFb;H(a,1,this.O);H(a,4,this.F);var b=aue(this.J);H(a,3,b);return a};xSf.prototype.gk=function(){return"Filter range updated to "+(this.C+".")};function ySf(a,b,c){b=c||b;a=a.CNb;return U('<div class="'+V("waffle-filter-bar-rangepill")+" "+V("goog-inline-block")+'" tabindex="0"><span class="'+V("waffle-filter-bar-rangepill-range")+" "+V("goog-inline-block")+'"></span>'+S(Wte({enabled:"true",dg:"waffle-filter-bar-rangepill-close",hidden:a},b))+"</div>")};function zSf(a,b,c,d,e){R.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}x(zSf,R);zSf.prototype.Ca=function(){this.yb(Qw(ySf,{CNb:this.D}));this.qa().Ge(this.Ha("waffle-filter-bar-rangepill-range"),ASf(this))};zSf.prototype.Ja=function(){R.prototype.Ja.call(this);this.getHandler().Hg(this.Oa(),Xl,this.L);if(!this.D){var a=new Ov("",new Mv,this.qa());this.Ia(a);var b=this.Ha("waffle-filter-bar-rangepill-close");a.Xa(b);rw(b,"Remove",void 0);this.getHandler().listen(a,"action",this.J)}};
zSf.prototype.L=function(a){a.target!=this.Ha("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new Ol("Th",this))};zSf.prototype.J=function(a){this.dispatchEvent(new Ol("Uh",this));a.stopPropagation()};function ASf(a){return fse(a.H,a.C)?gse(a.H,a.C,!1):"#REF"};function BSf(){var a='<div class="'+V("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+V("waffle-filter-bar-header")+" "+V("waffle-filter-bar-range-label")+" "+V("goog-inline-block")+'">';a=a+"Ranges:"+('</span><div class="'+V("waffle-filter-bar-range-filter-pills-container")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-bar-add-range-filter-button")+" "+V("goog-inline-block")+'">');a=a+"Add new range"+('</div><input class="'+V("jfk-textinput")+
" "+V("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+V("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return U(a)};function CSf(a,b,c,d){R.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new R;this.Ia(this.L);this.H=new Ov(void 0,uz.getInstance(),d);this.Ia(this.H);this.F=new Oy(void 0,d);this.Ia(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.V=!1}x(CSf,R);p=CSf.prototype;
p.Ca=function(){this.yb(Qw(BSf));this.L.Xa(this.Ha("waffle-filter-bar-range-filter-pills-container"));this.H.Xa(this.Ha("waffle-filter-bar-add-range-filter-button"));this.H.Pa(!0);var a=this.Ha("waffle-filter-bar-range-pill-input");this.F.Xa(a)};
p.Ja=function(){R.prototype.Ja.call(this);var a=new fv,b=this.F.Oa();gv(a,b);b=new Kx(b);this.getHandler().listen(this.L,"Th",this.Cub).listen(this.L,"Uh",this.dtb).listen(a,"key",this.jVb).listen(b,"focusin",this.hVb).listen(b,"focusout",this.iVb).listen(this.H,"action",this.eob)};p.Lc=function(){var a=this;this.L.ud(!0);zc(DSf(this),function(b){a.L.Ia(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,ESf(a,a.D.Oa()))})};
p.Cub=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&FSf(this);this.D=a.target;this.F.setValue(ASf(this.D));ESf(this,this.D.Oa());this.C="waffle-filter-bar-range-filter-pill-edit"};p.dtb=function(a){var b=CJ(this.J)?this.J.getActiveGrid().Gc().Ef:null;if(b&&(b=dI(b))){a=a.target;var c={};yib.Kb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};
p.eob=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&FSf(this);var a=this.J.getActiveGrid().Gc().Mc();this.F.setValue(BM(a));ESf(this,this.H.Oa());this.C="waffle-filter-bar-range-section-mode-add"};function ESf(a,b){var c=a.F.Oa();zu(c,Bu(b).width);a.qa().Mr(c,b);Q(b,!1);Q(c,!0);b=new Wm(function(){return Ry(a.F)});a.va(b);b.start()}
function FSf(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(Q("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.Oa():a.H.Oa(),!0),Q(a.F.Oa(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}p.jVb=function(a){13==a.keyCode?(GSf(this),FSf(this),this.O.Ub(3)):27==a.keyCode&&(FSf(this),this.Lc(),this.O.Ub(3));a.stopPropagation()};p.iVb=function(){this.getParent().De&&(GSf(this),FSf(this))};p.hVb=function(){this.O.Ub(2)};
function DSf(a){var b=CJ(a.J)?a.J.getActiveGrid().Gc().Ef:null;if(!b||!dI(b))return[];var c=HSb(b),d=1==c.length;return Cc(oSf(b),function(e,f){return new zSf(c[f++],e,a.R,d)})}
function GSf(a){if(!a.V){var b=md(a.F.getValue());if((b=ise(a.R,b))&&fse(a.R,b)){a.V=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=dI(iL(a.J).Ef),d={};wib.Kb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},vA.Kb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.V=!1}}};function HSf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function ISf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function JSf(a,b,c){b=c||b;a=a.mNb;c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:'+('</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
V("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+S(rz({enabled:!0,title:ax("Options"),id:"waffle-filter-bar-options",Fo:"waffle-filter-bar-options",gE:bx(""+S(qz({icon:ax("docs-icon-img docs-icon-settings-white")},b)))}));c+=S($ab({id:"waffle-filter-bar-close",dg:"waffle-filter-bar-close"},b))+"</div></div>";return U(c)};function KSf(a,b,c,d,e,f){CZ.call(this,f);this.Qa=a;this.gb=b;this.Sa=c;this.Ka=d;this.Da=e;this.R=null;this.eK=new Oy(void 0,f);this.Ia(this.eK);this.Na=null;this.xa=new nz;this.Ia(this.xa);this.V=null;this.OC=new Oy(void 0,f);this.Ia(this.OC);if(this.O=C(B(),"femrfifv"))this.Fa=new CSf(a,d,e),this.Ia(this.Fa);this.D=null;this.$a=new Yv("Rename");this.eb=new Yv("Update Range");this.Wa=new Yv("Duplicate");this.Ua=new Yv("Delete");this.Za=new Yv("Learn more");this.F=new mw(null,null,uz.getInstance(),
f);this.F.Rc(this.$a);this.O||this.F.Rc(this.eb);this.F.Rc(this.Wa);this.F.Rc(this.Ua);this.F.Rc(new bw);this.F.Rc(this.Za);this.Ia(this.F);this.C=new Ov(void 0,uz.getInstance(),f);this.Ia(this.C)}A(KSf,CZ);p=KSf.prototype;p.KHa=n("waffle-slidingdialog-filterbar");p.I0a=function(){return Qw(JSf,{mNb:this.O})};
p.Ja=function(){KSf.Ba.Ja.call(this);var a=this.Ha("waffle-filter-bar-name-input");this.eK.Xa(a);mv(a,"label-input-label");this.xa.Xa(a);this.R=this.Ha("waffle-filter-bar-name-readonly");this.Na=this.Ha("waffle-filter-bar-name-label");this.O?this.Fa.render(this.Ha("waffle-filter-bar-range-section-container")):(a=this.Ha("waffle-filter-bar-range-input"),this.OC.Xa(a),this.V=this.Ha("waffle-filter-bar-range-readonly"),LSf(this));this.F.Xa(this.Ha("waffle-filter-bar-options"));this.F.Pa(!0);this.C.Xa(this.Ha("waffle-filter-bar-close"));
this.C.Pa(!0);MSf(this);NSf(this)};
function NSf(a){var b=oG(a.gb),c=new fv;gv(c,a.eK.getElement());var d=new Kx(a.eK.getElement()),e=new fv;gv(e,a.C.getElement());a.getHandler().listen(a.C,"action",a.kVb).listen(b,["Ib","Kb","Lb"],a.Lc).listen(c,"key",a.YAb).listen(e,"key",a.NIb).listen(d,"focusin",a.wSa).listen(d,"focusout",a.XAb);uA.Pb($p,function(){return MSf(a)});b=new rx(void 0,void 0,!0,Gz.getInstance());yx(b,a.$a,uA);yx(b,a.Wa,tA);yx(b,a.Ua,sA);yx(b,a.Za,(As(),zr),void 0,a.uIa);a.O||(c=new fv,gv(c,a.OC.getElement()),d=new Kx(a.OC.getElement()),
a.getHandler().listen(c,"key",a.mVb).listen(d,"focusin",a.wSa).listen(d,"focusout",a.lVb),vA.Pb($p,function(){return LSf(a)}),yx(b,a.eb,vA))}p.setVisible=function(a,b){KSf.Ba.setVisible.call(this,a,b);a&&this.Lc();!a&&this.D&&(this.D.setVisible(!1),this.D=null)};
p.LUa=function(){var a=OSf(this);if(a&&(a=hI(a),this.Sa.C[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=Qw(a?ISf:HSf);this.D=new SS(this.qa().getElement("waffle-filter-bar-promo"));this.va(this.D);this.D.setPosition(1,0);this.D.setContent(b);Sw(this.D.D,!1);this.D.uC=!0;this.D.render();b=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Xl.listen(b,this.hba,!1,this);b=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Xl.listen(b,this.TMa,
!1,this);this.getHandler().listen(this.D,"hide",this.hba);RM(this.Sa,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.hba=function(){if(this.D){var a=this.qa().getElement("waffle-filterbar-promo-dismiss-link");Xl.Ic(a,this.hba,!1,this);a=this.qa().getElement("waffle-filterbar-promo-learn-more-link");Xl.Ic(a,this.TMa,!1,this);this.getHandler().Ic(this.D,"hide",this.hba);this.D.setVisible(!1);this.D=null}};
p.Lc=function(){var a=OSf(this);if(a){var b=dI(a);if(b){this.F.setVisible(!hI(a));Q(this.Na,!hI(a));b=ritz_api.RitzModelApi.getFilterName(b);var c="Name: "+b;this.xa.setValue(b);this.qa().Ge(this.R,b);dv(this.R,c);this.O?this.Fa.Lc():(a=oSf(a)[0],a=fse(this.Da,a)?gse(this.Da,a,!1):"#REF",b="Range: "+a,this.OC.setValue(a),this.qa().Ge(this.V,a),dv(this.V,b))}}};p.kVb=function(){this.dispatchEvent("close");PSf(this)};
p.YAb=function(a){13==a.keyCode?(QSf(this),PSf(this)):27==a.keyCode&&(this.Lc(),a.stopPropagation(),PSf(this))};p.mVb=function(a){13==a.keyCode?(RSf(this),PSf(this)):27==a.keyCode&&(this.Lc(),a.stopPropagation(),PSf(this))};p.NIb=function(a){a.shiftKey||9!=a.keyCode||(PSf(this),a.stopPropagation())};function PSf(a){a.Ka.Ub(3)}p.wSa=function(){this.Ka.Ub(2)};p.XAb=function(){this.De&&QSf(this)};p.lVb=function(){this.De&&RSf(this)};
function MSf(a){var b=uA.isEnabled();Q(a.eK.getElement(),b);Q(a.R,!b)}function LSf(a){var b=vA.isEnabled();Q(a.OC.getElement(),b);Q(a.V,!b)}function QSf(a){var b=OSf(a);if(b){b=dI(b);var c=ritz_api.RitzModelApi.getFilterName(b),d=md(a.eK.getValue());c==d?a.Lc():(a={},uA.Kb((a.name=d,a["filter-view-id"]=b,a)))}}function RSf(a){var b=OSf(a);if(b){var c=dI(b),d=md(a.OC.getValue());(d=ise(a.Da,d))?oSf(b)[0].equals(d)?a.Lc():(a={},vA.Kb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Lc()}}
p.TMa=function(){(As(),zr).Kb(this.uIa())};p.uIa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){Ry(this.eK)};function OSf(a){return CJ(a.Qa)?a.Qa.getActiveGrid().Gc().Ef:null};function SSf(a,b,c,d,e,f){BZ.call(this,"waffle-filterbar-id",e);this.O=y(this.C8b,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new ut(this);this.va(this.J);this.Ki()}A(SSf,BZ);p=SSf.prototype;p.Ki=function(){this.J.subscribe(tA,"action",this.wub).subscribe(sA,"action",this.ctb).subscribe(uA,"action",this.UEb).subscribe(vA,"action",this.XJb).subscribe(wib,"action",this.hcc).subscribe(yib,"action",this.etb)};p.C8b=function(){this.C.setVisible(!0)};
p.ctb=function(){var a=TSf(this),b=dI(a.Ef);b&&this.D.C(new tSf(a,b))};p.wub=function(){var a=TSf(this),b=dI(a.Ef);b&&this.D.C(new vSf(a,b,!this.F.H.C))};p.UEb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&md(a))&&a.length){var c=TSf(this);this.D.C(new wSf(c,b,a))}else this.C.Lc()}else Ry(this.C.eK)};p.XJb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=TSf(this),d=gse(this.F.Sa,a,!1);this.D.C(new xSf(c,b,a,d))}else Ry(this.C.OC)};
p.hcc=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=TSf(this);this.D.C(new sSf(b,a,hI(c.Ef)))}else Ry(this.C.OC)};p.etb=function(a){a?this.D.C(new uSf(a["filter-view-id"],a["range-filter-id"])):Ry(this.C.OC)};p.g0=function(){return new KSf(this.H,this.L,this.ma,this.R,this.F.Sa)};p.gB=function(){SSf.Ba.gB.call(this);this.getHandler().listen(this.C,"close",this.KJb);this.tI()};p.Dya=n("waffle-filterbar-id");p.KJb=function(){var a=TSf(this);this.D.C(new SQ(a,null))};
p.setVisible=function(a,b){this.C.setVisible(a,b)};function TSf(a){return a.H.getActiveGrid().Gc()};function USf(a,b,c,d,e,f,h){E.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.V=e;this.R=f;this.ma=h;this.H=new sm(this);this.va(this.H);this.C=this.D=null;a=oG(this.J);this.H.listen(a,["Ib","Jb","Kb","Lb"],this.icc).listen(this.F,["$","pa"],this.kcc).listen(this.F,["Z","qa"],this.jcc);xib.Pb(bq,y(this.Fob,this));VSf(this,!1)}A(USf,E);function VSf(a,b){if(a.F.C)if(CJ(a.F)){var c=iL(a.F).Ef,d=gI(c);c=d&&!NSb(c);WSf(a,d,c,b)}else WSf(a,!1,!1,b)}
function WSf(a,b,c,d){b&&!c&&a.C?a.C.play():a.C&&a.C.stop();c&&!a.D&&(a.D=new SSf(a.F,a.J,a.O,a.V,a.R,a.ma),a.va(a.D),a.H.listen(a.D,"end",a.tpb),a.D.show());if(a.D&&(a.D.setVisible(c,d),d)){if(a=zJ(a.L))b=a.xa.eb,c=c?1:0,pSf("#555555","#f3f3f3",c),pSf("#363636","#ddd",c),pSf("#516374","#8fb1e8",c),pSf("white","black",c),pSf("white","green",c),b.C.color=pSf("#3c3c3c","#ccc",c),Onc(a.xa,a.xa.L,null,!0,!0);d5d()}}p=USf.prototype;p.tpb=function(){d5d();this.C&&this.C.play(!0)};
p.icc=function(){VSf(this,!1)};p.kcc=function(){WSf(this,!1,!1,!0)};p.jcc=function(){VSf(this,!0)};p.Fob=function(){this.C&&this.C.stop();var a=zJ(this.L);if(a){a=a.xa;var b=qSf(a);ku(b,"z-index",3);ku(b,"pointer-events","none");b.removeAttribute("moz-opaque");rSf(a,b);this.C=k4a(b,.35);this.H.Nc(this.C,"end",y(function(){Xs(b);We(this.C);this.C=null},this))}};function XSf(){E.call(this)}A(XSf,fJ);XSf.prototype.C=function(){return USf};lJ("filterbar",XSf);
